/*
: Copyright (c) 2006-2008, Coolite Inc. (http://www.coolite.com/). All rights reserved.
 @license: Licensed under The MIT License. See license.txt and http://www.datejs.com/license/. 
 @website: http://www.datejs.com/
*/
Date.CultureInfo={name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),abbreviatedDayNames:"Sun Mon Tue Wed Thu Fri Sat".split(" "),shortestDayNames:"Su Mo Tu We Th Fr Sa".split(" "),firstLetterDayNames:"SMTWTFS".split(""),monthNames:"January February March April May June July August September October November December".split(" "),abbreviatedMonthNames:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
amDesignator:"AM",pmDesignator:"PM",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:"mdy",formatPatterns:{shortDate:"M/d/yyyy",longDate:"dddd, MMMM dd, yyyy",shortTime:"h:mm tt",longTime:"h:mm:ss tt",fullDateTime:"dddd, MMMM dd, yyyy h:mm:ss tt",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"MMMM dd",yearMonth:"MMMM, yyyy"},regexPatterns:{jan:/^jan(uary)?/i,feb:/^feb(ruary)?/i,mar:/^mar(ch)?/i,apr:/^apr(il)?/i,
may:/^may/i,jun:/^jun(e)?/i,jul:/^jul(y)?/i,aug:/^aug(ust)?/i,sep:/^sep(t(ember)?)?/i,oct:/^oct(ober)?/i,nov:/^nov(ember)?/i,dec:/^dec(ember)?/i,sun:/^su(n(day)?)?/i,mon:/^mo(n(day)?)?/i,tue:/^tu(e(s(day)?)?)?/i,wed:/^we(d(nesday)?)?/i,thu:/^th(u(r(s(day)?)?)?)?/i,fri:/^fr(i(day)?)?/i,sat:/^sa(t(urday)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|after|from)/i,subtract:/^(\-|before|ago)/i,yesterday:/^yesterday/i,today:/^t(oday)?/i,tomorrow:/^tomorrow/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,
second:/^sec(ond)?s?/i,minute:/^min(ute)?s?/i,hour:/^h(ou)?rs?/i,week:/^w(ee)?k/i,month:/^m(o(nth)?s?)?/i,day:/^d(ays?)?/i,year:/^y((ea)?rs?)?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a|p)/i},abbreviatedTimeZoneStandard:{GMT:"-000",EST:"-0400",CST:"-0500",MST:"-0600",PST:"-0700"},abbreviatedTimeZoneDST:{GMT:"-000",EDT:"-0500",CDT:"-0600",
MDT:"-0700",PDT:"-0800"}};Date.getMonthNumberFromName=function(b){var c=Date.CultureInfo.monthNames,e=Date.CultureInfo.abbreviatedMonthNames;b=b.toLowerCase();for(var g=0;g<c.length;g++)if(c[g].toLowerCase()==b||e[g].toLowerCase()==b)return g;return-1};Date.getDayNumberFromName=function(b){var c=Date.CultureInfo.dayNames,e=Date.CultureInfo.abbreviatedDayNames;b=b.toLowerCase();for(var g=0;g<c.length;g++)if(c[g].toLowerCase()==b||e[g].toLowerCase()==b)return g;return-1};
Date.isLeapYear=function(b){return 0===b%4&&0!==b%100||0===b%400};Date.getDaysInMonth=function(b,c){return[31,Date.isLeapYear(b)?29:28,31,30,31,30,31,31,30,31,30,31][c]};Date.getTimezoneOffset=function(b,c){return c?Date.CultureInfo.abbreviatedTimeZoneDST[b.toUpperCase()]:Date.CultureInfo.abbreviatedTimeZoneStandard[b.toUpperCase()]};
Date.getTimezoneAbbreviation=function(b,c){var e=c?Date.CultureInfo.abbreviatedTimeZoneDST:Date.CultureInfo.abbreviatedTimeZoneStandard,g;for(g in e)if(e[g]===b)return g;return null};Date.prototype.clone=function(){return new Date(this.getTime())};Date.prototype.compareTo=function(b){if(isNaN(this))throw Error(this);if(b instanceof Date&&!isNaN(b))return this>b?1:this<b?-1:0;throw new TypeError(b);};Date.prototype.equals=function(b){return 0===this.compareTo(b)};
Date.prototype.between=function(b,c){var e=this.getTime();return e>=b.getTime()&&e<=c.getTime()};Date.prototype.addMilliseconds=function(b){this.setMilliseconds(this.getMilliseconds()+b);return this};Date.prototype.addSeconds=function(b){return this.addMilliseconds(1E3*b)};Date.prototype.addMinutes=function(b){return this.addMilliseconds(6E4*b)};Date.prototype.addHours=function(b){return this.addMilliseconds(36E5*b)};Date.prototype.addDays=function(b){return this.addMilliseconds(864E5*b)};
Date.prototype.addWeeks=function(b){return this.addMilliseconds(6048E5*b)};Date.prototype.addMonths=function(b){var c=this.getDate();this.setDate(1);this.setMonth(this.getMonth()+b);this.setDate(Math.min(c,this.getDaysInMonth()));return this};Date.prototype.addYears=function(b){return this.addMonths(12*b)};
Date.prototype.add=function(b){if("number"==typeof b)return this._orient=b,this;(b.millisecond||b.milliseconds)&&this.addMilliseconds(b.millisecond||b.milliseconds);(b.second||b.seconds)&&this.addSeconds(b.second||b.seconds);(b.minute||b.minutes)&&this.addMinutes(b.minute||b.minutes);(b.hour||b.hours)&&this.addHours(b.hour||b.hours);(b.month||b.months)&&this.addMonths(b.month||b.months);(b.year||b.years)&&this.addYears(b.year||b.years);(b.day||b.days)&&this.addDays(b.day||b.days);return this};
Date._validate=function(b,c,e,g){if("number"!=typeof b)throw new TypeError(b+" is not a Number.");if(b<c||b>e)throw new RangeError(b+" is not a valid value for "+g+".");return!0};Date.validateMillisecond=function(b){return Date._validate(b,0,999,"milliseconds")};Date.validateSecond=function(b){return Date._validate(b,0,59,"seconds")};Date.validateMinute=function(b){return Date._validate(b,0,59,"minutes")};Date.validateHour=function(b){return Date._validate(b,0,23,"hours")};
Date.validateDay=function(b,c,e){return Date._validate(b,1,Date.getDaysInMonth(c,e),"days")};Date.validateMonth=function(b){return Date._validate(b,0,11,"months")};Date.validateYear=function(b){return Date._validate(b,1,9999,"seconds")};
Date.prototype.set=function(b){b.millisecond||0===b.millisecond||(b.millisecond=-1);b.second||0===b.second||(b.second=-1);b.minute||0===b.minute||(b.minute=-1);b.hour||0===b.hour||(b.hour=-1);b.day||0===b.day||(b.day=-1);b.month||0===b.month||(b.month=-1);b.year||0===b.year||(b.year=-1);-1!=b.millisecond&&Date.validateMillisecond(b.millisecond)&&this.addMilliseconds(b.millisecond-this.getMilliseconds());-1!=b.second&&Date.validateSecond(b.second)&&this.addSeconds(b.second-this.getSeconds());-1!=b.minute&&
Date.validateMinute(b.minute)&&this.addMinutes(b.minute-this.getMinutes());-1!=b.hour&&Date.validateHour(b.hour)&&this.addHours(b.hour-this.getHours());-1!==b.month&&Date.validateMonth(b.month)&&this.addMonths(b.month-this.getMonth());-1!=b.year&&Date.validateYear(b.year)&&this.addYears(b.year-this.getFullYear());-1!=b.day&&Date.validateDay(b.day,this.getFullYear(),this.getMonth())&&this.addDays(b.day-this.getDate());b.timezone&&this.setTimezone(b.timezone);b.timezoneOffset&&this.setTimezoneOffset(b.timezoneOffset);
return this};Date.prototype.clearTime=function(){this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);return this};Date.prototype.isLeapYear=function(){var b=this.getFullYear();return 0===b%4&&0!==b%100||0===b%400};Date.prototype.isWeekday=function(){return!(this.is().sat()||this.is().sun())};Date.prototype.getDaysInMonth=function(){return Date.getDaysInMonth(this.getFullYear(),this.getMonth())};Date.prototype.moveToFirstDayOfMonth=function(){return this.set({day:1})};
Date.prototype.moveToLastDayOfMonth=function(){return this.set({day:this.getDaysInMonth()})};Date.prototype.moveToDayOfWeek=function(b,c){var e=(b-this.getDay()+7*(c||1))%7;return this.addDays(0===e?e+7*(c||1):e)};Date.prototype.moveToMonth=function(b,c){var e=(b-this.getMonth()+12*(c||1))%12;return this.addMonths(0===e?e+12*(c||1):e)};Date.prototype.getDayOfYear=function(){return Math.floor((this-new Date(this.getFullYear(),0,1))/864E5)};
Date.prototype.getWeekOfYear=function(b){var c=this.getFullYear(),e=this.getMonth(),g=this.getDate();b=b||Date.CultureInfo.firstDayOfWeek;var f=8-(new Date(c,0,1)).getDay();8==f&&(f=1);e=(Date.UTC(c,e,g,0,0,0)-Date.UTC(c,0,1,0,0,0))/864E5+1;e=Math.floor((e-f+7)/7);e===b&&(c--,c=8-(new Date(c,0,1)).getDay(),e=2==c||8==c?53:52);return e};Date.prototype.isDST=function(){return"D"==this.toString().match(/(E|C|M|P)(S|D)T/)[2]};
Date.prototype.getTimezone=function(){return Date.getTimezoneAbbreviation(this.getUTCOffset,this.isDST())};Date.prototype.setTimezoneOffset=function(b){var c=this.getTimezoneOffset();this.addMinutes(-6*Number(b)/10-c);return this};Date.prototype.setTimezone=function(b){return this.setTimezoneOffset(Date.getTimezoneOffset(b))};Date.prototype.getUTCOffset=function(){var b=-10*this.getTimezoneOffset()/6;if(0>b)return b=(b-1E4).toString(),b[0]+b.substr(2);b=(b+1E4).toString();return"+"+b.substr(1)};
Date.prototype.getDayName=function(b){return b?Date.CultureInfo.abbreviatedDayNames[this.getDay()]:Date.CultureInfo.dayNames[this.getDay()]};Date.prototype.getMonthName=function(b){return b?Date.CultureInfo.abbreviatedMonthNames[this.getMonth()]:Date.CultureInfo.monthNames[this.getMonth()]};Date.prototype._toString=Date.prototype.toString;
Date.prototype.toString=function(b){var c=this,e=function(b){return 1==b.toString().length?"0"+b:b};return b?b.replace(/dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?/g,function(b){switch(b){case "hh":return e(13>c.getHours()?c.getHours():c.getHours()-12);case "h":return 13>c.getHours()?c.getHours():c.getHours()-12;case "HH":return e(c.getHours());case "H":return c.getHours();case "mm":return e(c.getMinutes());case "m":return c.getMinutes();case "ss":return e(c.getSeconds());case "s":return c.getSeconds();
case "yyyy":return c.getFullYear();case "yy":return c.getFullYear().toString().substring(2,4);case "dddd":return c.getDayName();case "ddd":return c.getDayName(!0);case "dd":return e(c.getDate());case "d":return c.getDate().toString();case "MMMM":return c.getMonthName();case "MMM":return c.getMonthName(!0);case "MM":return e(c.getMonth()+1);case "M":return c.getMonth()+1;case "t":return 12>c.getHours()?Date.CultureInfo.amDesignator.substring(0,1):Date.CultureInfo.pmDesignator.substring(0,1);case "tt":return 12>
c.getHours()?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator;case "zzz":case "zz":case "z":return""}}):this._toString()};Date.now=function(){return new Date};Date.today=function(){return Date.now().clearTime()};Date.prototype._orient=1;Date.prototype.next=function(){this._orient=1;return this};Date.prototype.last=Date.prototype.prev=Date.prototype.previous=function(){this._orient=-1;return this};Date.prototype._is=!1;Date.prototype.is=function(){this._is=!0;return this};
Number.prototype._dateElement="day";Number.prototype.fromNow=function(){var b={};b[this._dateElement]=this;return Date.now().add(b)};Number.prototype.ago=function(){var b={};b[this._dateElement]=-1*this;return Date.now().add(b)};
(function(){for(var b=Date.prototype,c=Number.prototype,e="sunday monday tuesday wednesday thursday friday saturday".split(/\s/),g="january february march april may june july august september october november december".split(/\s/),f="Millisecond Second Minute Hour Day Week Month Year".split(/\s/),k=function(b){return function(){return this._is?(this._is=!1,this.getDay()==b):this.moveToDayOfWeek(b,this._orient)}},l=0;l<e.length;l++)b[e[l]]=b[e[l].substring(0,3)]=k(l);e=function(b){return function(){return this._is?
(this._is=!1,this.getMonth()===b):this.moveToMonth(b,this._orient)}};for(k=0;k<g.length;k++)b[g[k]]=b[g[k].substring(0,3)]=e(k);e=function(b){return function(){"s"!=b.substring(b.length-1)&&(b+="s");return this["add"+b](this._orient)}};k=function(b){return function(){this._dateElement=b;return this}};for(l=0;l<f.length;l++)g=f[l].toLowerCase(),b[g]=b[g+"s"]=e(f[l]),c[g]=c[g+"s"]=k(g)})();Date.prototype.toJSONString=function(){return this.toString("yyyy-MM-ddThh:mm:ssZ")};
Date.prototype.toShortDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortDatePattern)};Date.prototype.toLongDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.longDatePattern)};Date.prototype.toShortTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortTimePattern)};Date.prototype.toLongTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.longTimePattern)};
Date.prototype.getOrdinal=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}};
(function(){Date.Parsing={Exception:function(b){this.message="Parse error at '"+b.substring(0,10)+" ...'"}};for(var b=Date.Parsing,c=b.Operators={rtoken:function(c){return function(f){var g=f.match(c);if(g)return[g[0],f.substring(g[0].length)];throw new b.Exception(f);}},token:function(b){return function(b){return c.rtoken(RegExp("^s*"+b+"s*"))(b)}},stoken:function(b){return c.rtoken(RegExp("^"+b))},until:function(b){return function(c){for(var f=[],g=null;c.length;){try{g=b.call(this,c)}catch(e){f.push(g[0]);
c=g[1];continue}break}return[f,c]}},many:function(b){return function(c){for(var f=[],g=null;c.length;){try{g=b.call(this,c)}catch(e){break}f.push(g[0]);c=g[1]}return[f,c]}},optional:function(b){return function(c){var f=null;try{f=b.call(this,c)}catch(g){return[null,c]}return[f[0],f[1]]}},not:function(c){return function(f){try{c.call(this,f)}catch(g){return[null,f]}throw new b.Exception(f);}},ignore:function(b){return b?function(c){var f=null,f=b.call(this,c);return[null,f[1]]}:null},product:function(){for(var b=
arguments[0],f=Array.prototype.slice.call(arguments,1),g=[],e=0;e<b.length;e++)g.push(c.each(b[e],f));return g},cache:function(c){var f={},g=null;return function(e){try{g=f[e]=f[e]||c.call(this,e)}catch(u){g=f[e]=u}if(g instanceof b.Exception)throw g;return g}},any:function(){var c=arguments;return function(f){for(var g=null,e=0;e<c.length;e++)if(null!=c[e]){try{g=c[e].call(this,f)}catch(u){g=null}if(g)return g}throw new b.Exception(f);}},each:function(){var c=arguments;return function(f){for(var g=
[],e=null,u=0;u<c.length;u++)if(null!=c[u]){try{e=c[u].call(this,f)}catch(x){throw new b.Exception(f);}g.push(e[0]);f=e[1]}return[g,f]}},all:function(){var b=b;return b.each(b.optional(arguments))},sequence:function(f,g,e){g=g||c.rtoken(/^\s*/);e=e||null;return 1==f.length?f[0]:function(c){for(var u=null,x=null,A=[],B=0;B<f.length;B++){try{u=f[B].call(this,c)}catch(p){break}A.push(u[0]);try{x=g.call(this,u[1])}catch(C){x=null;break}c=x[1]}if(!u)throw new b.Exception(c);if(x)throw new b.Exception(x[1]);
if(e)try{u=e.call(this,u[1])}catch(R){throw new b.Exception(u[1]);}return[A,u?u[1]:c]}},between:function(b,f,g){g=g||b;var e=c.each(c.ignore(b),f,c.ignore(g));return function(b){b=e.call(this,b);return[[b[0][0],r[0][2]],b[1]]}},list:function(b,f,g){f=f||c.rtoken(/^\s*/);g=g||null;return b instanceof Array?c.each(c.product(b.slice(0,-1),c.ignore(f)),b.slice(-1),c.ignore(g)):c.each(c.many(c.each(b,c.ignore(f))),px,c.ignore(g))},set:function(f,g,e){g=g||c.rtoken(/^\s*/);e=e||null;return function(t){for(var u=
null,x=u=null,A=null,B=[[],t],p=!1,C=0;C<f.length;C++){u=x=null;p=1==f.length;try{u=f[C].call(this,t)}catch(R){continue}A=[[u[0]],u[1]];if(0<u[1].length&&!p)try{x=g.call(this,u[1])}catch(ba){p=!0}else p=!0;p||0!==x[1].length||(p=!0);if(!p){u=[];for(p=0;p<f.length;p++)C!=p&&u.push(f[p]);u=c.set(u,g).call(this,x[1]);0<u[0].length&&(A[0]=A[0].concat(u[0]),A[1]=u[1])}A[1].length<B[1].length&&(B=A);if(0===B[1].length)break}if(0===B[0].length)return B;if(e){try{x=e.call(this,B[1])}catch(ka){throw new b.Exception(B[1]);
}B[1]=x[1]}return B}},forward:function(b,c){return function(f){return b[c].call(this,f)}},replace:function(b,c){return function(f){f=b.call(this,f);return[c,f[1]]}},process:function(b,c){return function(f){f=b.call(this,f);return[c.call(this,f[0]),f[1]]}},min:function(c,f){return function(g){var e=f.call(this,g);if(e[0].length<c)throw new b.Exception(g);return e}}},e=function(b){return function(){var c=null,f=[];1<arguments.length?c=Array.prototype.slice.call(arguments):arguments[0]instanceof Array&&
(c=arguments[0]);if(c)for(var g=c.shift();0<g.length;)return c.unshift(g[0]),f.push(b.apply(null,c)),c.shift(),f;else return b.apply(null,arguments)}},g="optional not ignore cache".split(/\s/),f=0;f<g.length;f++)c[g[f]]=e(c[g[f]]);e=function(b){return function(){return arguments[0]instanceof Array?b.apply(null,arguments[0]):b.apply(null,arguments)}};g="each any all".split(/\s/);for(f=0;f<g.length;f++)c[g[f]]=e(c[g[f]])})();
(function(){var b=function(c){for(var f=[],g=0;g<c.length;g++)c[g]instanceof Array?f=f.concat(b(c[g])):c[g]&&f.push(c[g]);return f};Date.Grammar={};Date.Translator={hour:function(b){return function(){this.hour=Number(b)}},minute:function(b){return function(){this.minute=Number(b)}},second:function(b){return function(){this.second=Number(b)}},meridian:function(b){return function(){this.meridian=b.slice(0,1).toLowerCase()}},timezone:function(b){return function(){var c=b.replace(/[^\d\+\-]/g,"");c.length?
this.timezoneOffset=Number(c):this.timezone=b.toLowerCase()}},day:function(b){var c=b[0];return function(){this.day=Number(c.match(/\d+/)[0])}},month:function(b){return function(){this.month=3==b.length?Date.getMonthNumberFromName(b):Number(b)-1}},year:function(b){return function(){var c=Number(b);this.year=2<b.length?c:c+(c+2E3<Date.CultureInfo.twoDigitYearMax?2E3:1900)}},rday:function(b){return function(){switch(b){case "yesterday":this.days=-1;break;case "tomorrow":this.days=1;break;case "today":this.days=
0;break;case "now":this.days=0,this.now=!0}}},finishExact:function(b){b=b instanceof Array?b:[b];var c=new Date;this.year=c.getFullYear();this.month=c.getMonth();this.day=1;for(c=this.second=this.minute=this.hour=0;c<b.length;c++)b[c]&&b[c].call(this);this.hour="p"==this.meridian&&13>this.hour?this.hour+12:this.hour;if(this.day>Date.getDaysInMonth(this.year,this.month))throw new RangeError(this.day+" is not a valid value for days.");b=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second);
this.timezone?b.set({timezone:this.timezone}):this.timezoneOffset&&b.set({timezoneOffset:this.timezoneOffset});return b},finish:function(c){c=c instanceof Array?b(c):[c];if(0===c.length)return null;for(var f=0;f<c.length;f++)"function"==typeof c[f]&&c[f].call(this);if(this.now)return new Date;c=Date.today();if(null!=this.days||this.orient||this.operator){var g,e;e="past"==this.orient||"subtract"==this.operator?-1:1;this.weekday&&(this.unit="day",f=Date.getDayNumberFromName(this.weekday)-c.getDay(),
g=7,this.days=f?(f+e*g)%g:e*g);this.month&&(this.unit="month",f=this.month-c.getMonth(),g=12,this.months=f?(f+e*g)%g:e*g,this.month=null);this.unit||(this.unit="day");if(null==this[this.unit+"s"]||null!=this.operator)this.value||(this.value=1),"week"==this.unit&&(this.unit="day",this.value*=7),this[this.unit+"s"]=this.value*e;return c.add(this)}this.meridian&&this.hour&&(this.hour=13>this.hour&&"p"==this.meridian?this.hour+12:this.hour);this.weekday&&!this.day&&(this.day=c.addDays(Date.getDayNumberFromName(this.weekday)-
c.getDay()).getDate());this.month&&!this.day&&(this.day=1);return c.set(this)}};var c=Date.Parsing.Operators,e=Date.Grammar,g=Date.Translator,f;e.datePartDelimiter=c.rtoken(/^([\s\-\.\,\/\x27]+)/);e.timePartDelimiter=c.stoken(":");e.whiteSpace=c.rtoken(/^\s*/);e.generalDelimiter=c.rtoken(/^(([\s\,]|at|on)+)/);var k={};e.ctoken=function(b){var f=k[b];if(!f){for(var f=Date.CultureInfo.regexPatterns,g=b.split(/\s+/),e=[],l=0;l<g.length;l++)e.push(c.replace(c.rtoken(f[g[l]]),g[l]));f=k[b]=c.any.apply(null,
e)}return f};e.ctoken2=function(b){return c.rtoken(Date.CultureInfo.regexPatterns[b])};e.h=c.cache(c.process(c.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),g.hour));e.hh=c.cache(c.process(c.rtoken(/^(0[0-9]|1[0-2])/),g.hour));e.H=c.cache(c.process(c.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),g.hour));e.HH=c.cache(c.process(c.rtoken(/^([0-1][0-9]|2[0-3])/),g.hour));e.m=c.cache(c.process(c.rtoken(/^([0-5][0-9]|[0-9])/),g.minute));e.mm=c.cache(c.process(c.rtoken(/^[0-5][0-9]/),g.minute));e.s=c.cache(c.process(c.rtoken(/^([0-5][0-9]|[0-9])/),
g.second));e.ss=c.cache(c.process(c.rtoken(/^[0-5][0-9]/),g.second));e.hms=c.cache(c.sequence([e.H,e.mm,e.ss],e.timePartDelimiter));e.t=c.cache(c.process(e.ctoken2("shortMeridian"),g.meridian));e.tt=c.cache(c.process(e.ctoken2("longMeridian"),g.meridian));e.z=c.cache(c.process(c.rtoken(/^(\+|\-)?\s*\d\d\d\d?/),g.timezone));e.zz=c.cache(c.process(c.rtoken(/^(\+|\-)\s*\d\d\d\d/),g.timezone));e.zzz=c.cache(c.process(e.ctoken2("timezone"),g.timezone));e.timeSuffix=c.each(c.ignore(e.whiteSpace),c.set([e.tt,
e.zzz]));e.time=c.each(c.optional(c.ignore(c.stoken("T"))),e.hms,e.timeSuffix);e.d=c.cache(c.process(c.each(c.rtoken(/^([0-2]\d|3[0-1]|\d)/),c.optional(e.ctoken2("ordinalSuffix"))),g.day));e.dd=c.cache(c.process(c.each(c.rtoken(/^([0-2]\d|3[0-1])/),c.optional(e.ctoken2("ordinalSuffix"))),g.day));e.ddd=e.dddd=c.cache(c.process(e.ctoken("sun mon tue wed thu fri sat"),function(b){return function(){this.weekday=b}}));e.M=c.cache(c.process(c.rtoken(/^(1[0-2]|0\d|\d)/),g.month));e.MM=c.cache(c.process(c.rtoken(/^(1[0-2]|0\d)/),
g.month));e.MMM=e.MMMM=c.cache(c.process(e.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),g.month));e.y=c.cache(c.process(c.rtoken(/^(\d\d?)/),g.year));e.yy=c.cache(c.process(c.rtoken(/^(\d\d)/),g.year));e.yyy=c.cache(c.process(c.rtoken(/^(\d\d?\d?\d?)/),g.year));e.yyyy=c.cache(c.process(c.rtoken(/^(\d\d\d\d)/),g.year));f=function(){return c.each(c.any.apply(null,arguments),c.not(e.ctoken2("timeContext")))};e.day=f(e.d,e.dd);e.month=f(e.M,e.MMM);e.year=f(e.yyyy,e.yy);e.orientation=c.process(e.ctoken("past future"),
function(b){return function(){this.orient=b}});e.operator=c.process(e.ctoken("add subtract"),function(b){return function(){this.operator=b}});e.rday=c.process(e.ctoken("yesterday tomorrow today now"),g.rday);e.unit=c.process(e.ctoken("minute hour day week month year"),function(b){return function(){this.unit=b}});e.value=c.process(c.rtoken(/^\d\d?(st|nd|rd|th)?/),function(b){return function(){this.value=b.replace(/\D/g,"")}});e.expression=c.set([e.rday,e.operator,e.value,e.unit,e.orientation,e.ddd,
e.MMM]);f=function(){return c.set(arguments,e.datePartDelimiter)};e.mdy=f(e.ddd,e.month,e.day,e.year);e.ymd=f(e.ddd,e.year,e.month,e.day);e.dmy=f(e.ddd,e.day,e.month,e.year);e.date=function(b){return(e[Date.CultureInfo.dateElementOrder]||e.mdy).call(this,b)};e.format=c.process(c.many(c.any(c.process(c.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(b){if(e[b])return e[b];throw Date.Parsing.Exception(b);}),c.process(c.rtoken(/^[^dMyhHmstz]+/),function(b){return c.ignore(c.stoken(b))}))),
function(b){return c.process(c.each.apply(null,b),g.finishExact)});var l={};e.formats=function(b){if(b instanceof Array){for(var f=[],g=0;g<b.length;g++)f.push(l[b[g]]=l[b[g]]||e.format(b[g])[0]);return c.any.apply(null,f)}return l[b]=l[b]||e.format(b)[0]};e._formats=e.formats(["yyyy-MM-ddTHH:mm:ss","ddd, MMM dd, yyyy H:mm:ss tt","ddd MMM d yyyy HH:mm:ss zzz","d"]);e._start=c.process(c.set([e.date,e.time,e.expression],e.generalDelimiter,e.whiteSpace),g.finish);e.start=function(b){try{var c=e._formats.call({},
b);if(0===c[1].length)return c}catch(f){}return e._start.call({},b)}})();Date._parse=Date.parse;Date.parse=function(b){var c=null;if(!b)return null;try{c=Date.Grammar.start.call({},b)}catch(e){return null}return 0===c[1].length?c[0]:null};Date.getParseFunction=function(b){var c=Date.Grammar.formats(b);return function(b){var g=null;try{g=c.call({},b)}catch(f){return null}return 0===g[1].length?g[0]:null}};Date.parseExact=function(b,c){return Date.getParseFunction(c)(b)};
var TimeSpan=function(b,c,e,g,f){for(var k="days hours minutes seconds milliseconds".split(/\s+/),l=function(b){return function(){return this[b]}},q=function(b){return function(c){this[b]=c;return this}},t=0;t<k.length;t++){var u=k[t],x=u.slice(0,1).toUpperCase()+u.slice(1);TimeSpan.prototype[u]=0;TimeSpan.prototype["get"+x]=l(u);TimeSpan.prototype["set"+x]=q(u)}4==arguments.length?(this.setDays(b),this.setHours(c),this.setMinutes(e),this.setSeconds(g)):5==arguments.length?(this.setDays(b),this.setHours(c),
this.setMinutes(e),this.setSeconds(g),this.setMilliseconds(f)):1==arguments.length&&"number"==typeof b&&(k=0>b?-1:1,this.setMilliseconds(Math.abs(b)),this.setDays(Math.floor(this.getMilliseconds()/864E5)*k),this.setMilliseconds(this.getMilliseconds()%864E5),this.setHours(Math.floor(this.getMilliseconds()/36E5)*k),this.setMilliseconds(this.getMilliseconds()%36E5),this.setMinutes(Math.floor(this.getMilliseconds()/6E4)*k),this.setMilliseconds(this.getMilliseconds()%6E4),this.setSeconds(Math.floor(this.getMilliseconds()/
1E3)*k),this.setMilliseconds(this.getMilliseconds()%1E3),this.setMilliseconds(this.getMilliseconds()*k));this.getTotalMilliseconds=function(){return 864E5*this.getDays()+36E5*this.getHours()+6E4*this.getMinutes()+1E3*this.getSeconds()};this.compareTo=function(b){var c=new Date(1970,1,1,this.getHours(),this.getMinutes(),this.getSeconds());b=null===b?new Date(1970,1,1,0,0,0):new Date(1970,1,1,b.getHours(),b.getMinutes(),b.getSeconds());return c<b?-1:c>b?1:0};this.equals=function(b){return 0===this.compareTo(b)};
this.add=function(b){return null===b?this:this.addSeconds(b.getTotalMilliseconds()/1E3)};this.subtract=function(b){return null===b?this:this.addSeconds(-b.getTotalMilliseconds()/1E3)};this.addDays=function(b){return new TimeSpan(this.getTotalMilliseconds()+864E5*b)};this.addHours=function(b){return new TimeSpan(this.getTotalMilliseconds()+36E5*b)};this.addMinutes=function(b){return new TimeSpan(this.getTotalMilliseconds()+6E4*b)};this.addSeconds=function(b){return new TimeSpan(this.getTotalMilliseconds()+
1E3*b)};this.addMilliseconds=function(b){return new TimeSpan(this.getTotalMilliseconds()+b)};this.get12HourHour=function(){return 12<this.getHours()?this.getHours()-12:0===this.getHours()?12:this.getHours()};this.getDesignator=function(){return 12>this.getHours()?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator};this.toString=function(b){this._toString=function(){return null!==this.getDays()&&0<this.getDays()?this.getDays()+"."+this.getHours()+":"+this.p(this.getMinutes())+":"+this.p(this.getSeconds()):
this.getHours()+":"+this.p(this.getMinutes())+":"+this.p(this.getSeconds())};this.p=function(b){return 2>b.toString().length?"0"+b:b};var c=this;return b?b.replace(/dd?|HH?|hh?|mm?|ss?|tt?/g,function(b){switch(b){case "d":return c.getDays();case "dd":return c.p(c.getDays());case "H":return c.getHours();case "HH":return c.p(c.getHours());case "h":return c.get12HourHour();case "hh":return c.p(c.get12HourHour());case "m":return c.getMinutes();case "mm":return c.p(c.getMinutes());case "s":return c.getSeconds();
case "ss":return c.p(c.getSeconds());case "t":return(12>c.getHours()?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator).substring(0,1);case "tt":return 12>c.getHours()?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator}}):this._toString()};return this};Date.prototype.getTimeOfDay=function(){return new TimeSpan(0,this.getHours(),this.getMinutes(),this.getSeconds(),this.getMilliseconds())};
var TimePeriod=function(b,c,e,g,f,k,l){for(var q="years months days hours minutes seconds milliseconds".split(/\s+/),t=function(b){return function(){return this[b]}},u=function(b){return function(c){this[b]=c;return this}},x=0;x<q.length;x++){var A=q[x],B=A.slice(0,1).toUpperCase()+A.slice(1);TimePeriod.prototype[A]=0;TimePeriod.prototype["get"+B]=t(A);TimePeriod.prototype["set"+B]=u(A)}if(7==arguments.length)this.years=b,this.months=c,this.setDays(e),this.setHours(g),this.setMinutes(f),this.setSeconds(k),
this.setMilliseconds(l);else if(2==arguments.length&&arguments[0]instanceof Date&&arguments[1]instanceof Date){q=b.clone();t=c.clone();u=q.clone();x=q>t?-1:1;this.years=t.getFullYear()-q.getFullYear();u.addYears(this.years);1==x?u>t&&0!==this.years&&this.years--:u<t&&0!==this.years&&this.years++;q.addYears(this.years);if(1==x)for(;q<t&&q.clone().addDays(Date.getDaysInMonth(q.getYear(),q.getMonth()))<t;)q.addMonths(1),this.months++;else for(;q>t&&q.clone().addDays(-q.getDaysInMonth())>t;)q.addMonths(-1),
this.months--;q=t-q;0!==q&&(q=new TimeSpan(q),this.setDays(q.getDays()),this.setHours(q.getHours()),this.setMinutes(q.getMinutes()),this.setSeconds(q.getSeconds()),this.setMilliseconds(q.getMilliseconds()))}return this};var dateFormat=function(){var b=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,c=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,e=/[^-+\dA-Z]/g,g=function(b,c){b=String(b);for(c=c||2;b.length<c;)b="0"+b;return b};return function(f,k,l){var q=dateFormat;1!=arguments.length||"[object String]"!=Object.prototype.toString.call(f)||/\d/.test(f)||(k=f,f=void 0);f=f?new Date(f):new Date;if(isNaN(f))throw SyntaxError("invalid date");
k=String(q.masks[k]||k||q.masks["default"]);"UTC:"==k.slice(0,4)&&(k=k.slice(4),l=!0);var t=l?"getUTC":"get",u=f[t+"Date"](),x=f[t+"Day"](),A=f[t+"Month"](),B=f[t+"FullYear"](),p=f[t+"Hours"](),C=f[t+"Minutes"](),R=f[t+"Seconds"](),t=f[t+"Milliseconds"](),ba=l?0:f.getTimezoneOffset(),ka={d:u,dd:g(u),ddd:q.i18n.dayNames[x],dddd:q.i18n.dayNames[x+7],m:A+1,mm:g(A+1),mmm:q.i18n.monthNames[A],mmmm:q.i18n.monthNames[A+12],yy:String(B).slice(2),yyyy:B,h:p%12||12,hh:g(p%12||12),H:p,HH:g(p),M:C,MM:g(C),s:R,
ss:g(R),l:g(t,3),L:g(99<t?Math.round(t/10):t),t:12>p?"a":"p",tt:12>p?"am":"pm",T:12>p?"A":"P",TT:12>p?"AM":"PM",Z:l?"UTC":(String(f).match(c)||[""]).pop().replace(e,""),o:(0<ba?"-":"+")+g(100*Math.floor(Math.abs(ba)/60)+Math.abs(ba)%60,4),S:["th","st","nd","rd"][3<u%10?0:(10!=u%100-u%10)*u%10]};return k.replace(b,function(b){return b in ka?ka[b]:b.slice(1,b.length-1)})}}();
dateFormat.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};dateFormat.i18n={dayNames:"Sun Mon Tue Wed Thu Fri Sat Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),monthNames:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec January February March April May June July August September October November December".split(" ")};
Date.prototype.format=function(b,c){return dateFormat(this,b,c)};/*
 jQuery DateTimePicker plugin v2.1.9
 @homepage http://xdsoft.net/jqplugins/datetimepicker/
 (c) 2014, Chupurnov Valeriy.
*/
(function(b){var c={i18n:{ru:{months:"\u042f\u043d\u0432\u0430\u0440\u044c \u0424\u0435\u0432\u0440\u0430\u043b\u044c \u041c\u0430\u0440\u0442 \u0410\u043f\u0440\u0435\u043b\u044c \u041c\u0430\u0439 \u0418\u044e\u043d\u044c \u0418\u044e\u043b\u044c \u0410\u0432\u0433\u0443\u0441\u0442 \u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c \u041e\u043a\u0442\u044f\u0431\u0440\u044c \u041d\u043e\u044f\u0431\u0440\u044c \u0414\u0435\u043a\u0430\u0431\u0440\u044c".split(" "),dayOfWeek:"\u0412\u0441\u043a \u041f\u043d \u0412\u0442 \u0421\u0440 \u0427\u0442 \u041f\u0442 \u0421\u0431".split(" ")},
en:{months:"January February March April May June July August September October November December".split(" "),dayOfWeek:"Sun Mon Tue Wed Thu Fri Sat".split(" ")},de:{months:"Januar Februar M\u00e4rz April Mai Juni Juli August September Oktober November Dezember".split(" "),dayOfWeek:"So Mo Di Mi Do Fr Sa".split(" ")},nl:{months:"januari februari maart april mei juni juli augustus september oktober november december".split(" "),dayOfWeek:"zo ma di wo do vr za".split(" ")},tr:{months:"Ocak \u015eubat Mart Nisan May\u0131s Haziran Temmuz A\u011fustos Eyl\u00fcl Ekim Kas\u0131m Aral\u0131k".split(" "),
dayOfWeek:"Paz Pts Sal \u00c7ar Per Cum Cts".split(" ")},fr:{months:"Janvier F\u00e9vrier Mars Avril Mai Juin Juillet Ao\u00fbt Septembre Octobre Novembre D\u00e9cembre".split(" "),dayOfWeek:"Dim Lun Mar Mer Jeu Ven Sam".split(" ")},es:{months:"Enero Febrero Marzo Abril Mayo Junio Julio Agosto Septiembre Octubre Noviembre Diciembre".split(" "),dayOfWeek:"Dom Lun Mar Mi\u00e9 Jue Vie S\u00e1b".split(" ")},th:{months:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21 \u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c \u0e21\u0e35\u0e19\u0e32\u0e04\u0e21 \u0e40\u0e21\u0e29\u0e32\u0e22\u0e19 \u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21 \u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19 \u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21 \u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21 \u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19 \u0e15\u0e38\u0e25\u0e32\u0e04\u0e21 \u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19 \u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split(" "),
dayOfWeek:"\u0e2d\u0e32. \u0e08. \u0e2d. \u0e1e. \u0e1e\u0e24. \u0e28. \u0e2a.".split(" ")},pl:{months:"stycze\u0144 luty marzec kwiecie\u0144 maj czerwiec lipiec sierpie\u0144 wrzesie\u0144 pa\u017adziernik listopad grudzie\u0144".split(" "),dayOfWeek:"nd pn wt \u015br cz pt sb".split(" ")},pt:{months:"Janeiro Fevereiro Mar\u00e7o Abril Maio Junho Julho Agosto Setembro Outubro Novembro Dezembro".split(" "),dayOfWeek:"Dom Seg Ter Qua Qui Sex Sab".split(" ")},ch:{months:"\u4e00\u6708 \u4e8c\u6708 \u4e09\u6708 \u56db\u6708 \u4e94\u6708 \u516d\u6708 \u4e03\u6708 \u516b\u6708 \u4e5d\u6708 \u5341\u6708 \u5341\u4e00\u6708 \u5341\u4e8c\u6708".split(" "),
dayOfWeek:"\u65e5\u4e00\u4e8c\u4e09\u56db\u4e94\u516d".split("")},se:{months:"Januari Februari Mars April Maj Juni Juli Augusti September Oktober November December".split(" "),dayOfWeek:"S\u00f6n M\u00e5n Tis Ons Tor Fre L\u00f6r".split(" ")},kr:{months:"1\uc6d4 2\uc6d4 3\uc6d4 4\uc6d4 5\uc6d4 6\uc6d4 7\uc6d4 8\uc6d4 9\uc6d4 10\uc6d4 11\uc6d4 12\uc6d4".split(" "),dayOfWeek:"\uc77c\uc6d4\ud654\uc218\ubaa9\uae08\ud1a0".split("")},it:{months:"Gennaio Febbraio Marzo Aprile Maggio Giugno Luglio Agosto Settembre Ottobre Novembre Dicembre".split(" "),
dayOfWeek:"Dom Lun Mar Mer Gio Ven Sab".split(" ")}},value:"",lang:"en",format:"Y/m/d H:i",formatTime:"H:i",formatDate:"Y/m/d",step:60,closeOnDateSelect:0,closeOnWithoutClick:!0,timepicker:!0,datepicker:!0,minDate:!1,maxDate:!1,minTime:!1,maxTime:!1,allowTimes:[],opened:!1,initTime:!0,inline:!1,onSelectDate:function(){},onSelectTime:function(){},onChangeMonth:function(){},onChangeDateTime:function(){},onShow:function(){},onClose:function(){},onGenerate:function(){},withoutCopyright:!0,inverseButton:!1,
hours12:!1,next:"xdsoft_next",prev:"xdsoft_prev",dayOfWeekStart:0,timeHeightInTimePicker:25,timepickerScrollbar:!0,todayButton:!0,defaultSelect:!0,scrollMonth:!0,scrollTime:!0,scrollInput:!0,mask:!1,validateOnBlur:!0,allowBlank:!1,yearStart:1950,yearEnd:2050,style:"",id:"",roundTime:"round",className:"",weekends:[],yearOffset:0};Array.prototype.indexOf||(Array.prototype.indexOf=function(b,c){for(var f=c||0,k=this.length;f<k;f++)if(this[f]===b)return f;return-1});b.fn.xdsoftScroller=function(c){return this.each(function(){var g=
b(this);if(!b(this).hasClass("xdsoft_scroller_box")){var f=function(b){var c={x:0,y:0};if("touchstart"==b.type||"touchmove"==b.type||"touchend"==b.type||"touchcancel"==b.type)b=b.originalEvent.touches[0]||b.originalEvent.changedTouches[0],c.x=b.pageX,c.y=b.pageY;else if("mousedown"==b.type||"mouseup"==b.type||"mousemove"==b.type||"mouseover"==b.type||"mouseout"==b.type||"mouseenter"==b.type||"mouseleave"==b.type)c.x=b.pageX,c.y=b.pageY;return c},k=0,l=g.children().eq(0),q=g[0].clientHeight,t=l[0].offsetHeight,
u=b('<div class="xdsoft_scrollbar"></div>'),x=b('<div class="xdsoft_scroller"></div>'),A=100,B=!1;u.append(x);g.addClass("xdsoft_scroller_box").append(u);x.on("mousedown.xdsoft_scroller",function(f){q||g.trigger("resize_scroll.xdsoft_scroller",[c]);var l=f.pageY,t=parseInt(x.css("margin-top")),B=u[0].offsetHeight;b(document.body).addClass("xdsoft_noselect");b([document.body,window]).on("mouseup.xdsoft_scroller",function ra(){b([document.body,window]).off("mouseup.xdsoft_scroller",ra).off("mousemove.xdsoft_scroller",
k).removeClass("xdsoft_noselect")});b(document.body).on("mousemove.xdsoft_scroller",k=function(b){b=b.pageY-l+t;0>b&&(b=0);b+x[0].offsetHeight>B&&(b=B-x[0].offsetHeight);g.trigger("scroll_element.xdsoft_scroller",[A?b/A:0])})});g.on("scroll_element.xdsoft_scroller",function(b,c){q||g.trigger("resize_scroll.xdsoft_scroller",[c,!0]);c=1<c?1:0>c||isNaN(c)?0:c;x.css("margin-top",A*c);l.css("marginTop",-parseInt((t-q)*c))}).on("resize_scroll.xdsoft_scroller",function(b,c,f){q=g[0].clientHeight;t=l[0].offsetHeight;
b=q/t;var e=b*u[0].offsetHeight;1<b?x.hide():(x.show(),x.css("height",parseInt(10<e?e:10)),A=u[0].offsetHeight-x[0].offsetHeight,!0!==f&&g.trigger("scroll_element.xdsoft_scroller",[c?c:Math.abs(parseInt(l.css("marginTop")))/(t-q)]))});g.mousewheel&&g.mousewheel(function(b,c,f,e){f=Math.abs(parseInt(l.css("marginTop")));g.trigger("scroll_element.xdsoft_scroller",[(f-20*c)/(t-q)]);b.stopPropagation();return!1});g.on("touchstart",function(b){B=f(b)});g.on("touchmove",function(b){if(B){var c=f(b),e=Math.abs(parseInt(l.css("marginTop")));
g.trigger("scroll_element.xdsoft_scroller",[(e-(c.y-B.y))/(t-q)]);b.stopPropagation();b.preventDefault()}});g.on("touchend touchcancel",function(b){B=!1})}g.trigger("resize_scroll.xdsoft_scroller",[c])})};b.fn.datetimepicker=function(e){var g=!1,f=b.isPlainObject(e)||!e?b.extend(!0,{},c,e):b.extend({},c),k=function(c){var e=b("<div "+(f.id?'id="'+f.id+'"':"")+" "+(f.style?'style="'+f.style+'"':"")+' class="xdsoft_datetimepicker xdsoft_noselect '+f.className+'"></div>'),k=b('<div class="xdsoft_copyright"><a target="_blank" href="http://xdsoft.net/jqplugins/datetimepicker/">xdsoft.net</a></div>'),
u=b('<div class="xdsoft_datepicker active"></div>'),x=b('<div class="xdsoft_mounthpicker"><button type="button" class="xdsoft_prev"></button><button type="button" class="xdsoft_today_button"></button><div class="xdsoft_label xdsoft_month"><span></span></div><div class="xdsoft_label xdsoft_year"><span></span></div><button type="button" class="xdsoft_next"></button></div>'),A=b('<div class="xdsoft_calendar"></div>'),B=b('<div class="xdsoft_timepicker active"><button type="button" class="xdsoft_prev"></button><div class="xdsoft_time_box"></div><button type="button" class="xdsoft_next"></button></div>'),
p=B.find(".xdsoft_time_box").eq(0),C=b('<div class="xdsoft_time_variant"></div>'),R=b('<div class="xdsoft_scrollbar"></div>');b('<div class="xdsoft_scroller"></div>');var ba=b('<div class="xdsoft_select xdsoft_monthselect"><div></div></div>'),ka=b('<div class="xdsoft_select xdsoft_yearselect"><div></div></div>');x.find(".xdsoft_month span").after(ba);x.find(".xdsoft_year span").after(ka);x.find(".xdsoft_month,.xdsoft_year").on("mousedown.xdsoft",function(c){x.find(".xdsoft_select").hide();var f=b(this).find(".xdsoft_select").eq(0),
e=0,g=0;z.currentTime&&(e=z.currentTime[b(this).hasClass("xdsoft_month")?"getMonth":"getFullYear"]());f.show();for(var k=f.find("div.xdsoft_option"),l=0;l<k.length&&k.eq(l).data("value")!=e;l++)g+=k[0].offsetHeight;f.xdsoftScroller(g/(f.children()[0].offsetHeight-f[0].clientHeight));c.stopPropagation();return!1});x.find(".xdsoft_select").xdsoftScroller().on("mousedown.xdsoft",function(b){b.stopPropagation();b.preventDefault()}).on("mousedown.xdsoft",".xdsoft_option",function(c){if(z&&z.currentTime)z.currentTime[b(this).parent().parent().hasClass("xdsoft_monthselect")?
"setMonth":"setFullYear"](b(this).data("value"));b(this).parent().parent().hide();e.trigger("xchange.xdsoft");f.onChangeMonth&&f.onChangeMonth.call&&f.onChangeMonth.call(e,z.currentTime,e.data("input"))});e.setOptions=function(k){f=b.extend(!0,{},f,k);!f.open&&!f.opened||f.inline||c.trigger("open.xdsoft");f.inline&&(e.addClass("xdsoft_inline"),c.after(e).hide(),e.trigger("afterOpen.xdsoft"));f.inverseButton&&(f.next="xdsoft_prev",f.prev="xdsoft_next");f.datepicker?u.addClass("active"):u.removeClass("active");
f.timepicker?B.addClass("active"):B.removeClass("active");f.value&&(c&&c.val&&c.val(f.value),z.setCurrentTime(f.value));isNaN(f.dayOfWeekStart)||0>parseInt(f.dayOfWeekStart)||6<parseInt(f.dayOfWeekStart)?f.dayOfWeekStart=0:f.dayOfWeekStart=parseInt(f.dayOfWeekStart);f.timepickerScrollbar||R.hide();k=[];var p;f.minDate&&(k=/^-(.*)$/.exec(f.minDate))&&(k=Date.parseDate(k[1],f.formatDate))&&(p=k.getTime()+-6E4*k.getTimezoneOffset(),f.minDate=(new Date(z.now().getTime()-p)).dateFormat(f.formatDate));
f.maxDate&&(k=/^\+(.*)$/.exec(f.maxDate))&&(k=Date.parseDate(k[1],f.formatDate))&&(p=k.getTime()+-6E4*k.getTimezoneOffset(),f.maxDate=(new Date(z.now().getTime()+p)).dateFormat(f.formatDate));x.find(".xdsoft_today_button").css("visibility",f.todayButton?"visible":"hidden");if(f.mask){var t=function(b,c){var f=b.replace(/([\[\]\/\{\}\(\)\-\.\+]{1})/g,"\\$1").replace(/_/g,"{digit+}").replace(/([0-9]{1})/g,"{digit$1}").replace(/\{digit([0-9]{1})\}/g,"[0-$1_]{1}").replace(/\{digit[\+]\}/g,"[0-9_]{1}");
return RegExp(f).test(c)};c.off("keydown.xdsoft");switch(!0){case !0===f.mask:f.mask=f.format.replace(/Y/g,"9999").replace(/F/g,"9999").replace(/m/g,"19").replace(/d/g,"39").replace(/H/g,"29").replace(/i/g,"59").replace(/s/g,"59");case "string"==b.type(f.mask):t(f.mask,c.val())||c.val(f.mask.replace(/[0-9]/g,"_")),c.on("keydown.xdsoft",function(e){var k=this.value,p=e.which;switch(!0){case 48<=p&&57>=p||96<=p&&105>=p||8==p||46==p:var q;a:{try{if(document.selection&&document.selection.createRange){q=
document.selection.createRange().getBookmark().charCodeAt(2)-2;break a}else if(this.setSelectionRange){q=this.selectionStart;break a}}catch(x){q=0;break a}q=void 0}var u=8!=p&&46!=p?String.fromCharCode(96<=p&&105>=p?p-48:p):"_";8!=p&&46!=p||!q||(q--,u="_");for(;/[^0-9_]/.test(f.mask.substr(q,1))&&q<f.mask.length&&0<q;)q+=8==p||46==p?-1:1;k=k.substr(0,q)+u+k.substr(q+1);if(""==b.trim(k))k=f.mask.replace(/[0-9]/g,"_");else if(q==f.mask.length)break;for(q+=8==p||46==p?0:1;/[^0-9_]/.test(f.mask.substr(q,
1))&&q<f.mask.length&&0<q;)q+=8==p||46==p?-1:1;if(t(f.mask,k)){if(this.value=k,k=this,k="string"==typeof k||k instanceof String?document.getElementById(k):k)k.createTextRange?(k=k.createTextRange(),k.collapse(!0),k.moveEnd(q),k.moveStart(q),k.select()):k.setSelectionRange&&k.setSelectionRange(q,q)}else""==b.trim(k)?this.value=f.mask.replace(/[0-9]/g,"_"):c.trigger("error_input.xdsoft");break;case !!~[65,67,86,90,89].indexOf(p)&&g:case !!~[27,38,40,37,39,116,17,9,13].indexOf(p):return!0}e.preventDefault();
return!1})}}if(f.validateOnBlur)c.off("blur.xdsoft").on("blur.xdsoft",function(){f.allowBlank&&!b.trim(b(this).val()).length?(b(this).val(null),e.data("xdsoft_datetime").empty()):(Date.parseDate(b(this).val(),f.format)||b(this).val(z.now().dateFormat(f.format)),e.data("xdsoft_datetime").setCurrentTime(b(this).val()));e.trigger("changedatetime.xdsoft")});f.dayOfWeekStartPrev=0==f.dayOfWeekStart?6:f.dayOfWeekStart-1;e.trigger("xchange.xdsoft")};e.data("options",f).on("mousedown.xdsoft",function(b){b.stopPropagation();
b.preventDefault();ka.hide();ba.hide();return!1});var ra=B.find(".xdsoft_time_box");ra.append(C);ra.xdsoftScroller();e.on("afterOpen.xdsoft",function(){ra.xdsoftScroller()});e.append(u).append(B);!0!==f.withoutCopyright&&e.append(k);u.append(x).append(A);b("body").append(e);var z=new function(){var b=this;b.now=function(){var b=new Date;f.yearOffset&&b.setFullYear(b.getFullYear()+f.yearOffset);return b};b.currentTime=this.now();b.isValidDate=function(b){return"[object Date]"!==Object.prototype.toString.call(b)?
!1:!isNaN(b.getTime())};b.setCurrentTime=function(c){b.currentTime="string"==typeof c?b.strtodatetime(c):b.isValidDate(c)?c:b.now();e.trigger("xchange.xdsoft")};b.empty=function(){b.currentTime=null};b.getCurrentTime=function(c){return b.currentTime};b.nextMonth=function(){var c=b.currentTime.getMonth()+1;12==c&&(b.currentTime.setFullYear(b.currentTime.getFullYear()+1),c=0);b.currentTime.setDate(Math.min(Date.daysInMonth[c],b.currentTime.getDate()));b.currentTime.setMonth(c);f.onChangeMonth&&f.onChangeMonth.call&&
f.onChangeMonth.call(e,z.currentTime,e.data("input"));e.trigger("xchange.xdsoft");return c};b.prevMonth=function(){var c=b.currentTime.getMonth()-1;-1==c&&(b.currentTime.setFullYear(b.currentTime.getFullYear()-1),c=11);b.currentTime.setDate(Math.min(Date.daysInMonth[c],b.currentTime.getDate()));b.currentTime.setMonth(c);f.onChangeMonth&&f.onChangeMonth.call&&f.onChangeMonth.call(e,z.currentTime,e.data("input"));e.trigger("xchange.xdsoft");return c};b.strtodatetime=function(c){c=c?Date.parseDate(c,
f.format):b.now();b.isValidDate(c)||(c=b.now());return c};b.strtodate=function(c){c=c?Date.parseDate(c,f.formatDate):b.now();b.isValidDate(c)||(c=b.now());return c};b.strtotime=function(c){c=c?Date.parseDate(c,f.formatTime):b.now();b.isValidDate(c)||(c=b.now());return c};b.str=function(){return b.currentTime.dateFormat(f.format)}};x.find(".xdsoft_today_button").on("mousedown.xdsoft",function(){e.data("changed",!0);z.setCurrentTime(0);e.trigger("afterOpen.xdsoft")}).on("dblclick.xdsoft",function(){c.val(z.str());
e.trigger("close.xdsoft")});x.find(".xdsoft_prev,.xdsoft_next").on("mousedown.xdsoft",function(){var c=b(this),e=0,g=!1;(function Ia(b){z.currentTime.getMonth();c.hasClass(f.next)?z.nextMonth():c.hasClass(f.prev)&&z.prevMonth();!g&&(e=setTimeout(Ia,b?b:100))})(500);b([document.body,window]).on("mouseup.xdsoft",function oa(){clearTimeout(e);g=!0;b([document.body,window]).off("mouseup.xdsoft",oa)})});B.find(".xdsoft_prev,.xdsoft_next").on("mousedown.xdsoft",function(){var c=b(this),e=0,g=!1,k=110;(function oa(b){var q=
p[0].clientHeight,l=C[0].offsetHeight,t=Math.abs(parseInt(C.css("marginTop")));c.hasClass(f.next)&&l-q-f.timeHeightInTimePicker>=t?C.css("marginTop","-"+(t+f.timeHeightInTimePicker)+"px"):c.hasClass(f.prev)&&0<=t-f.timeHeightInTimePicker&&C.css("marginTop","-"+(t-f.timeHeightInTimePicker)+"px");p.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(C.css("marginTop"))/(l-q))]);k=10<k?10:k-10;!g&&(e=setTimeout(oa,b?b:k))})(500);b([document.body,window]).on("mouseup.xdsoft",function la(){clearTimeout(e);
g=!0;b([document.body,window]).off("mouseup.xdsoft",la)})});e.on("xchange.xdsoft",function(c){for(var g="",k=new Date(z.currentTime.getFullYear(),z.currentTime.getMonth(),1,12,0,0),p=0,l=z.now();k.getDay()!=f.dayOfWeekStart;)k.setDate(k.getDate()-1);for(var g=g+"<table><thead><tr>",t=0;7>t;t++)g+="<th>"+f.i18n[f.lang].dayOfWeek[6<t+f.dayOfWeekStart?0:t+f.dayOfWeekStart]+"</th>";var g=g+"</tr></thead><tbody><tr>",u=t=!1;!1!==f.maxDate&&(t=z.strtodate(f.maxDate),t=new Date(t.getFullYear(),t.getMonth(),
t.getDate(),23,59,59,999));!1!==f.minDate&&(u=z.strtodate(f.minDate),u=new Date(u.getFullYear(),u.getMonth(),u.getDate()));for(var B,R,I,U=[];p<z.currentTime.getDaysInMonth()||k.getDay()!=f.dayOfWeekStart||z.currentTime.getMonth()==k.getMonth();)U=[],p++,B=k.getDate(),R=k.getFullYear(),I=k.getMonth(),U.push("xdsoft_date"),(!1!==t&&k>t||!1!==u&&k<u)&&U.push("xdsoft_disabled"),z.currentTime.getMonth()!=I&&U.push("xdsoft_other_month"),(f.defaultSelect||e.data("changed"))&&z.currentTime.dateFormat("d.m.Y")==
k.dateFormat("d.m.Y")&&U.push("xdsoft_current"),l.dateFormat("d.m.Y")==k.dateFormat("d.m.Y")&&U.push("xdsoft_today"),(0==k.getDay()||6==k.getDay()||~f.weekends.indexOf(k.dateFormat("d.m.Y")))&&U.push("xdsoft_weekend"),g+='<td data-date="'+B+'" data-month="'+I+'" data-year="'+R+'" class="xdsoft_date xdsoft_day_of_week'+k.getDay()+" "+U.join(" ")+'"><div>'+B+"</div></td>",k.getDay()==f.dayOfWeekStartPrev&&(g+="</tr>"),k.setDate(B+1);g+="</tbody></table>";A.html(g);x.find(".xdsoft_label span").eq(0).text(f.i18n[f.lang].months[z.currentTime.getMonth()]);
x.find(".xdsoft_label span").eq(1).text(z.currentTime.getFullYear());var ma="";I=g="";k=function(b,c){var g=z.now();g.setHours(b);b=parseInt(g.getHours());g.setMinutes(c);c=parseInt(g.getMinutes());U=[];(!1!==f.maxTime&&z.strtotime(f.maxTime).getTime()<g.getTime()||!1!==f.minTime&&z.strtotime(f.minTime).getTime()>g.getTime())&&U.push("xdsoft_disabled");(f.initTime||f.defaultSelect||e.data("changed"))&&parseInt(z.currentTime.getHours())==parseInt(b)&&(59<f.step||Math[f.roundTime](z.currentTime.getMinutes()/
f.step)*f.step==parseInt(c))&&(f.defaultSelect||e.data("changed")?U.push("xdsoft_current"):f.initTime&&U.push("xdsoft_init_time"));parseInt(l.getHours())==parseInt(b)&&parseInt(l.getMinutes())==parseInt(c)&&U.push("xdsoft_today");ma+='<div class="xdsoft_time '+U.join(" ")+'" data-hour="'+b+'" data-minute="'+c+'">'+g.dateFormat(f.formatTime)+"</div>"};if(f.allowTimes&&b.isArray(f.allowTimes)&&f.allowTimes.length)for(p=0;p<f.allowTimes.length;p++)g=z.strtotime(f.allowTimes[p]).getHours(),I=z.strtotime(f.allowTimes[p]).getMinutes(),
k(g,I);else for(t=p=0;p<(f.hours12?12:24);p++)for(t=0;60>t;t+=f.step)g=(10>p?"0":"")+p,I=(10>t?"0":"")+t,k(g,I);C.html(ma);I="";p=0;for(p=parseInt(f.yearStart,10)+f.yearOffset;p<=parseInt(f.yearEnd,10)+f.yearOffset;p++)I+='<div class="xdsoft_option '+(z.currentTime.getFullYear()==p?"xdsoft_current":"")+'" data-value="'+p+'">'+p+"</div>";ka.children().eq(0).html(I);p=0;for(I="";11>=p;p++)I+='<div class="xdsoft_option '+(z.currentTime.getMonth()==p?"xdsoft_current":"")+'" data-value="'+p+'">'+f.i18n[f.lang].months[p]+
"</div>";ba.children().eq(0).html(I);b(this).trigger("generate.xdsoft");c.stopPropagation()}).on("afterOpen.xdsoft",function(){if(f.timepicker){var b;C.find(".xdsoft_current").length?b=".xdsoft_current":C.find(".xdsoft_init_time").length&&(b=".xdsoft_init_time");if(b){var c=p[0].clientHeight,g=C[0].offsetHeight;b=C.find(b).index()*f.timeHeightInTimePicker+1;g-c<b&&(b=g-c);C.css("marginTop","-"+parseInt(b)+"px");p.trigger("scroll_element.xdsoft_scroller",[parseInt(b)/(g-c)])}}});var va=0;A.on("click.xdsoft",
"td",function(){va++;var g=b(this),k=z.currentTime;if(g.hasClass("xdsoft_disabled"))return!1;k.setFullYear(g.data("year"));k.setMonth(g.data("month"));k.setDate(g.data("date"));e.trigger("select.xdsoft",[k]);c.val(z.str());(1<va||!0===f.closeOnDateSelect||0===f.closeOnDateSelect&&!f.timepicker)&&!f.inline&&e.trigger("close.xdsoft");f.onSelectDate&&f.onSelectDate.call&&f.onSelectDate.call(e,z.currentTime,e.data("input"));e.data("changed",!0);e.trigger("xchange.xdsoft");e.trigger("changedatetime.xdsoft");
setTimeout(function(){va=0},200)});C.on("click.xdsoft","div",function(){var c=b(this),g=z.currentTime;if(c.hasClass("xdsoft_disabled"))return!1;g.setHours(c.data("hour"));g.setMinutes(c.data("minute"));e.trigger("select.xdsoft",[g]);e.data("input").val(z.str());!f.inline&&e.trigger("close.xdsoft");f.onSelectTime&&f.onSelectTime.call&&f.onSelectTime.call(e,z.currentTime,e.data("input"));e.data("changed",!0);e.trigger("xchange.xdsoft");e.trigger("changedatetime.xdsoft")});e.mousewheel&&u.mousewheel(function(b,
c,g,e){if(!f.scrollMonth)return!0;0>c?z.nextMonth():z.prevMonth();return!1});e.mousewheel&&p.unmousewheel().mousewheel(function(b,c,g,e){if(!f.scrollTime)return!0;g=p[0].clientHeight;e=C[0].offsetHeight;var k=Math.abs(parseInt(C.css("marginTop"))),l=!0;0>c&&e-g-f.timeHeightInTimePicker>=k?(C.css("marginTop","-"+(k+f.timeHeightInTimePicker)+"px"),l=!1):0<c&&0<=k-f.timeHeightInTimePicker&&(C.css("marginTop","-"+(k-f.timeHeightInTimePicker)+"px"),l=!1);p.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(C.css("marginTop"))/
(e-g))]);b.stopPropagation();return l});e.on("changedatetime.xdsoft",function(){f.onChangeDateTime&&f.onChangeDateTime.call&&f.onChangeDateTime.call(e,z.currentTime,e.data("input"))}).on("generate.xdsoft",function(){f.onGenerate&&f.onGenerate.call&&f.onGenerate.call(e,z.currentTime,e.data("input"))});var wa=0;c.mousewheel&&c.mousewheel(function(b,g,k,p){if(!f.scrollInput)return!0;if(!f.datepicker&&f.timepicker)return wa=C.find(".xdsoft_current").length?C.find(".xdsoft_current").eq(0).index():0,0<=
wa+g&&wa+g<C.children().length&&(wa+=g),C.children().eq(wa).length&&C.children().eq(wa).trigger("mousedown"),!1;if(f.datepicker&&!f.timepicker)return u.trigger(b,[g,k,p]),c.val&&c.val(z.str()),e.trigger("changedatetime.xdsoft"),!1});var Na=function(){var c=e.data("input").offset(),g=c.top+e.data("input")[0].offsetHeight-1,f=c.left;g+e[0].offsetHeight>b(window).height()+b(window).scrollTop()&&(g=c.top-e[0].offsetHeight+1);f+e[0].offsetWidth>b(window).width()&&(f=c.left-e[0].offsetWidth+e.data("input")[0].offsetWidth);
e.css({left:f,top:g})};e.on("open.xdsoft",function(){var c=!0;f.onShow&&f.onShow.call&&(c=f.onShow.call(e,z.currentTime,e.data("input")));if(!1!==c&&(e.show(),e.trigger("afterOpen.xdsoft"),Na(),b(window).off("resize.xdsoft",Na).on("resize.xdsoft",Na),f.closeOnWithoutClick))b([document.body,window]).on("mousedown.xdsoft",function Aa(){e.trigger("close.xdsoft");b([document.body,window]).off("mousedown.xdsoft",Aa)})}).on("close.xdsoft",function(b){var c=!0;f.onClose&&f.onClose.call&&(c=f.onClose.call(e,
z.currentTime,e.data("input")));!1===c||f.opened||f.inline||e.hide();b.stopPropagation()}).data("input",c);var Ya=0;e.data("xdsoft_datetime",z);e.setOptions(f);(k=f.value?f.value:c&&c.val&&c.val()?c.val():"")&&z.isValidDate(k=Date.parseDate(k,f.format))?e.data("changed",!0):k="";z.setCurrentTime(k?k:0);e.trigger("afterOpen.xdsoft");c.data("xdsoft_datetimepicker",e).on("open.xdsoft focusin.xdsoft mousedown.xdsoft",function(b){c.is(":disabled")||c.is(":hidden")||!c.is(":visible")||(clearTimeout(Ya),
Ya=setTimeout(function(){c.is(":disabled")||c.is(":hidden")||!c.is(":visible")||(z.setCurrentTime(c&&c.val&&c.val()?c.val():0),e.trigger("open.xdsoft"))},100))}).on("keydown.xdsoft",function(c){c=c.which;switch(!0){case !!~[13].indexOf(c):return c=b("input:visible,textarea:visible"),e.trigger("close.xdsoft"),c.eq(c.index(this)+1).focus(),!1;case !!~[9].indexOf(c):return e.trigger("close.xdsoft"),!0}})};b(document).off("keydown.xdsoftctrl keyup.xdsoftctrl").on("keydown.xdsoftctrl",function(b){17==
b.keyCode&&(g=!0)}).on("keyup.xdsoftctrl",function(b){17==b.keyCode&&(g=!1)});return this.each(function(){var c;if(c=b(this).data("xdsoft_datetimepicker")){if("string"===b.type(e))switch(e){case "show":b(this).select().focus();c.trigger("open.xdsoft");break;case "hide":c.trigger("close.xdsoft");break;case "destroy":c=b(this);var g=c.data("xdsoft_datetimepicker");g&&(g.data("xdsoft_datetime",null),g.remove(),c.data("xdsoft_datetimepicker",null).off("open.xdsoft focusin.xdsoft focusout.xdsoft mousedown.xdsoft blur.xdsoft keydown.xdsoft"),
b(window).off("resize.xdsoft"),b([window,document.body]).off("mousedown.xdsoft"),c.unmousewheel&&c.unmousewheel());break;case "reset":(this.value=this.defaultValue)&&c.data("xdsoft_datetime").isValidDate(Date.parseDate(this.value,f.format))||c.data("changed",!1),c.data("xdsoft_datetime").setCurrentTime(this.value)}else c.setOptions(e);return 0}"string"!==b.type(e)&&k(b(this))})}})(jQuery);Date.parseFunctions={count:0};Date.parseRegexes=[];Date.formatFunctions={count:0};
Date.prototype.dateFormat=function(b){null==Date.formatFunctions[b]&&Date.createNewFormat(b);return this[Date.formatFunctions[b]]()};Date.createNewFormat=function(b){var c="format"+Date.formatFunctions.count++;Date.formatFunctions[b]=c;for(var c="Date.prototype."+c+" = function() {return ",e=!1,g="",f=0;f<b.length;++f)g=b.charAt(f),e||"\\"!=g?e?(e=!1,c+="'"+String.escape(g)+"' + "):c+=Date.getFormatCode(g):e=!0;eval(c.substring(0,c.length-3)+";}")};
Date.getFormatCode=function(b){switch(b){case "d":return"String.leftPad(this.getDate(), 2, '0') + ";case "D":return"Date.dayNames[this.getDay()].substring(0, 3) + ";case "j":return"this.getDate() + ";case "l":return"Date.dayNames[this.getDay()] + ";case "S":return"this.getSuffix() + ";case "w":return"this.getDay() + ";case "z":return"this.getDayOfYear() + ";case "W":return"this.getWeekOfYear() + ";case "F":return"Date.monthNames[this.getMonth()] + ";case "m":return"String.leftPad(this.getMonth() + 1, 2, '0') + ";
case "M":return"Date.monthNames[this.getMonth()].substring(0, 3) + ";case "n":return"(this.getMonth() + 1) + ";case "t":return"this.getDaysInMonth() + ";case "L":return"(this.isLeapYear() ? 1 : 0) + ";case "Y":return"this.getFullYear() + ";case "y":return"('' + this.getFullYear()).substring(2, 4) + ";case "a":return"(this.getHours() < 12 ? 'am' : 'pm') + ";case "A":return"(this.getHours() < 12 ? 'AM' : 'PM') + ";case "g":return"((this.getHours() %12) ? this.getHours() % 12 : 12) + ";case "G":return"this.getHours() + ";
case "h":return"String.leftPad((this.getHours() %12) ? this.getHours() % 12 : 12, 2, '0') + ";case "H":return"String.leftPad(this.getHours(), 2, '0') + ";case "i":return"String.leftPad(this.getMinutes(), 2, '0') + ";case "s":return"String.leftPad(this.getSeconds(), 2, '0') + ";case "O":return"this.getGMTOffset() + ";case "T":return"this.getTimezone() + ";case "Z":return"(this.getTimezoneOffset() * -60) + ";default:return"'"+String.escape(b)+"' + "}};
Date.parseDate=function(b,c){null==Date.parseFunctions[c]&&Date.createParser(c);return Date[Date.parseFunctions[c]](b)};
Date.createParser=function(b){var c="parse"+Date.parseFunctions.count++,e=Date.parseRegexes.length,g=1;Date.parseFunctions[b]=c;for(var c="Date."+c+" = function(input) {\nvar y = -1, m = -1, d = -1, h = -1, i = -1, s = -1;\nvar d = new Date();\ny = d.getFullYear();\nm = d.getMonth();\nd = d.getDate();\nvar results = input.match(Date.parseRegexes["+e+"]);\nif (results && results.length > 0) {",f="",k=!1,l="",q=0;q<b.length;++q)l=b.charAt(q),k||"\\"!=l?k?(k=!1,f+=String.escape(l)):(obj=Date.formatCodeToRegex(l,
g),g+=obj.g,f+=obj.s,obj.g&&obj.c&&(c+=obj.c)):k=!0;Date.parseRegexes[e]=RegExp("^"+f+"$");eval(c+"if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0 && s >= 0)\n{return new Date(y, m, d, h, i, s);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0)\n{return new Date(y, m, d, h, i);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0)\n{return new Date(y, m, d, h);}\nelse if (y > 0 && m >= 0 && d > 0)\n{return new Date(y, m, d);}\nelse if (y > 0 && m >= 0)\n{return new Date(y, m);}\nelse if (y > 0)\n{return new Date(y);}\n}return null;}")};
Date.formatCodeToRegex=function(b,c){switch(b){case "D":return{g:0,c:null,s:"(?:Sun|Mon|Tue|Wed|Thu|Fri|Sat)"};case "j":case "d":return{g:1,c:"d = parseInt(results["+c+"], 10);\n",s:"(\\d{1,2})"};case "l":return{g:0,c:null,s:"(?:"+Date.dayNames.join("|")+")"};case "S":return{g:0,c:null,s:"(?:st|nd|rd|th)"};case "w":return{g:0,c:null,s:"\\d"};case "z":return{g:0,c:null,s:"(?:\\d{1,3})"};case "W":return{g:0,c:null,s:"(?:\\d{2})"};case "F":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+c+"].substring(0, 3)], 10);\n",
s:"("+Date.monthNames.join("|")+")"};case "M":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+c+"]], 10);\n",s:"(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)"};case "n":case "m":return{g:1,c:"m = parseInt(results["+c+"], 10) - 1;\n",s:"(\\d{1,2})"};case "t":return{g:0,c:null,s:"\\d{1,2}"};case "L":return{g:0,c:null,s:"(?:1|0)"};case "Y":return{g:1,c:"y = parseInt(results["+c+"], 10);\n",s:"(\\d{4})"};case "y":return{g:1,c:"var ty = parseInt(results["+c+"], 10);\ny = ty > Date.y2kYear ? 1900 + ty : 2000 + ty;\n",
s:"(\\d{1,2})"};case "a":return{g:1,c:"if (results["+c+"] == 'am') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(am|pm)"};case "A":return{g:1,c:"if (results["+c+"] == 'AM') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(AM|PM)"};case "g":case "G":case "h":case "H":return{g:1,c:"h = parseInt(results["+c+"], 10);\n",s:"(\\d{1,2})"};case "i":return{g:1,c:"i = parseInt(results["+c+"], 10);\n",s:"(\\d{2})"};case "s":return{g:1,c:"s = parseInt(results["+c+"], 10);\n",
s:"(\\d{2})"};case "O":return{g:0,c:null,s:"[+-]\\d{4}"};case "T":return{g:0,c:null,s:"[A-Z]{3}"};case "Z":return{g:0,c:null,s:"[+-]\\d{1,5}"};default:return{g:0,c:null,s:String.escape(b)}}};Date.prototype.getTimezone=function(){return this.toString().replace(/^.*? ([A-Z]{3}) [0-9]{4}.*$/,"$1").replace(/^.*?\(([A-Z])[a-z]+ ([A-Z])[a-z]+ ([A-Z])[a-z]+\)$/,"$1$2$3")};
Date.prototype.getGMTOffset=function(){return(0<this.getTimezoneOffset()?"-":"+")+String.leftPad(Math.floor(Math.abs(this.getTimezoneOffset())/60),2,"0")+String.leftPad(Math.abs(this.getTimezoneOffset())%60,2,"0")};Date.prototype.getDayOfYear=function(){var b=0;Date.daysInMonth[1]=this.isLeapYear()?29:28;for(var c=0;c<this.getMonth();++c)b+=Date.daysInMonth[c];return b+this.getDate()-1};
Date.prototype.getWeekOfYear=function(){var b=this.getDayOfYear()+(4-this.getDay()),c=7-(new Date(this.getFullYear(),0,1)).getDay()+4;document.write(c);return String.leftPad((b-c)/7+1,2,"0")};Date.prototype.isLeapYear=function(){var b=this.getFullYear();return 0==(b&3)&&(b%100||0==b%400&&b)};Date.prototype.getFirstDayOfMonth=function(){var b=(this.getDay()-(this.getDate()-1))%7;return 0>b?b+7:b};
Date.prototype.getLastDayOfMonth=function(){var b=(this.getDay()+(Date.daysInMonth[this.getMonth()]-this.getDate()))%7;return 0>b?b+7:b};Date.prototype.getDaysInMonth=function(){Date.daysInMonth[1]=this.isLeapYear()?29:28;return Date.daysInMonth[this.getMonth()]};Date.prototype.getSuffix=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}};String.escape=function(b){return b.replace(/('|\\)/g,"\\$1")};
String.leftPad=function(b,c,e){b=new String(b);for(null==e&&(e=" ");b.length<c;)b=e+b;return b};Date.daysInMonth=[31,28,31,30,31,30,31,31,30,31,30,31];Date.monthNames="January February March April May June July August September October November December".split(" ");Date.dayNames="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ");Date.y2kYear=50;Date.monthNumbers={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11};
Date.patterns={ISO8601LongPattern:"Y-m-d H:i:s",ISO8601ShortPattern:"Y-m-d",ShortDatePattern:"n/j/Y",LongDatePattern:"l, F d, Y",FullDateTimePattern:"l, F d, Y g:i:s A",MonthDayPattern:"F d",ShortTimePattern:"g:i A",LongTimePattern:"g:i:s A",SortableDateTimePattern:"Y-m-d\\TH:i:s",UniversalSortableDateTimePattern:"Y-m-d H:i:sO",YearMonthPattern:"F, Y"};
(function(b){"function"===typeof define&&define.amd?define(["jquery"],b):"object"===typeof exports?module.exports=b:b(jQuery)})(function(b){function c(c){var g=c||window.event,e=[].slice.call(arguments,1),l=0,A=0,B=0,p=0,p=0;c=b.event.fix(g);c.type="mousewheel";g.wheelDelta&&(l=g.wheelDelta);g.detail&&(l=-1*g.detail);g.deltaY&&(l=B=-1*g.deltaY);g.deltaX&&(A=g.deltaX,l=-1*A);void 0!==g.wheelDeltaY&&(B=g.wheelDeltaY);void 0!==g.wheelDeltaX&&(A=-1*g.wheelDeltaX);p=Math.abs(l);if(!f||p<f)f=p;p=Math.max(Math.abs(B),
Math.abs(A));if(!k||p<k)k=p;g=0<l?"floor":"ceil";l=Math[g](l/f);A=Math[g](A/k);B=Math[g](B/k);e.unshift(c,l,A,B);return(b.event.dispatch||b.event.handle).apply(this,e)}var e=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],g="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],f,k;if(b.event.fixHooks)for(var l=e.length;l;)b.event.fixHooks[e[--l]]=b.event.mouseHooks;b.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var b=
g.length;b;)this.addEventListener(g[--b],c,!1);else this.onmousewheel=c},teardown:function(){if(this.removeEventListener)for(var b=g.length;b;)this.removeEventListener(g[--b],c,!1);else this.onmousewheel=null}};b.fn.extend({mousewheel:function(b){return b?this.bind("mousewheel",b):this.trigger("mousewheel")},unmousewheel:function(b){return this.unbind("mousewheel",b)}})});/*
 MIT | GPL | Apache 2.0, see LICENSE.txt
 @see https://github.com/dyve/jquery-autocomplete
*/
(function(b){b.fn.autocomplete=function(c){var f;1<arguments.length?(f=c,c=arguments[1],c.url=f):"string"===typeof c&&(c={url:c});var e=b.extend({},b.fn.autocomplete.defaults,c);return this.each(function(){var c=b(this);c.data("autocompleter",new b.Autocompleter(c,b.meta?b.extend({},e,c.data()):e))})};b.fn.autocomplete.defaults={inputClass:"acInput",loadingClass:"acLoading",resultsClass:"acResults",selectClass:"acSelect",queryParamName:"q",extraParams:{},remoteDataType:!1,lineSeparator:"\n",cellSeparator:"|",
minChars:2,maxItemsToShow:10,delay:400,useCache:!0,maxCacheLength:10,matchSubset:!0,matchCase:!1,matchInside:!0,mustMatch:!1,selectFirst:!1,selectOnly:!1,showResult:null,preventDefaultReturn:1,preventDefaultTab:0,autoFill:!1,filterResults:!0,filter:!0,sortResults:!0,sortFunction:null,onItemSelect:null,onNoMatch:null,onFinish:null,matchStringConverter:null,beforeUseConverter:null,autoWidth:"min-width",useDelimiter:!1,delimiterChar:",",delimiterKeyCode:188,processData:null,onError:null,enabled:!0};
var c=function(b,c,e){b=parseInt(b,10);e=e||{};if(isNaN(b)||e.min&&b<e.min)b=c;return b},e=function(c,f){var e=[];b.each(f,function(b,c){e.push([b,encodeURIComponent(c)].join("="))});e.length&&void 0!=c&&(c+=-1===c.indexOf("?")?"?":"&",c+=e.join("&"));return c};b.Autocompleter=function(g,e){if(!(g&&g instanceof b&&1===g.length&&"INPUT"===g.get(0).tagName.toUpperCase()))throw Error("Invalid parameter for jquery.Autocompleter, jQuery object with one element with INPUT tag expected.");var k=this;this.options=
e;this.cacheData_={};this.cacheLength_=0;this.selectClass_="jquery-autocomplete-selected-item";this.lastSelectedValue_=this.lastProcessedValue_=this.lastKeyPressed_=this.finishTimeout_=this.keyTimeout_=null;this.active_=!1;this.finishOnBlur_=!0;this.options.minChars=c(this.options.minChars,b.fn.autocomplete.defaults.minChars,{min:0});this.options.maxItemsToShow=c(this.options.maxItemsToShow,b.fn.autocomplete.defaults.maxItemsToShow,{min:0});this.options.maxCacheLength=c(this.options.maxCacheLength,
b.fn.autocomplete.defaults.maxCacheLength,{min:1});this.options.delay=c(this.options.delay,b.fn.autocomplete.defaults.delay,{min:0});2!=this.options.preventDefaultReturn&&(this.options.preventDefaultReturn=this.options.preventDefaultReturn?1:0);2!=this.options.preventDefaultTab&&(this.options.preventDefaultTab=this.options.preventDefaultTab?1:0);this.dom={};this.dom.$elem=g;this.dom.$elem.attr("autocomplete","off").addClass(this.options.inputClass);this.dom.$results=b("<div></div>").hide().addClass(this.options.resultsClass).css({position:"absolute"});
b("body").append(this.dom.$results);g.keydown(function(b){k.lastKeyPressed_=b.keyCode;switch(k.lastKeyPressed_){case k.options.delimiterKeyCode:k.options.useDelimiter&&k.active_&&k.selectCurrent();break;case 35:case 36:case 16:case 17:case 18:case 37:case 39:break;case 38:return b.preventDefault(),k.active_?k.focusPrev():k.activate(),!1;case 40:return b.preventDefault(),k.active_?k.focusNext():k.activate(),!1;case 9:if(k.active_&&(k.selectCurrent(),k.options.preventDefaultTab)||2===k.options.preventDefaultTab)return b.preventDefault(),
!1;break;case 13:if(k.active_&&(k.selectCurrent(),k.options.preventDefaultReturn)||2===k.options.preventDefaultReturn)return b.preventDefault(),!1;break;case 27:if(k.active_)return b.preventDefault(),k.deactivate(!0),!1;break;default:k.activate()}});g.on("paste",function(){k.activate()});var l=function(){k.deactivate(!0)};g.blur(function(){k.finishOnBlur_&&(k.finishTimeout_=setTimeout(l,200))});g.parents("form").on("submit",l)};b.Autocompleter.prototype.position=function(){var c=this.dom.$elem.offset(),
e=this.dom.$results.outerHeight(),k=b(window).outerHeight(),l=c.top+this.dom.$elem.outerHeight(),q={top:l,left:c.left};l+e>k&&(c=c.top-e,0<=c&&(q.top=c));this.dom.$results.css(q)};b.Autocompleter.prototype.cacheRead=function(b){var c,e,l,q,t;if(this.options.useCache)for(b=String(b),c=b.length,e=this.options.matchSubset?1:c;e<=c;){q=this.options.matchInside?c-e:0;for(t=0;t<=q;){l=b.substr(0,e);if(void 0!==this.cacheData_[l])return this.cacheData_[l];t++}e++}return!1};b.Autocompleter.prototype.cacheWrite=
function(b,c){return this.options.useCache?(this.cacheLength_>=this.options.maxCacheLength&&this.cacheFlush(),b=String(b),void 0!==this.cacheData_[b]&&this.cacheLength_++,this.cacheData_[b]=c,this.cacheData_[b]):!1};b.Autocompleter.prototype.cacheFlush=function(){this.cacheData_={};this.cacheLength_=0};b.Autocompleter.prototype.callHook=function(c,e){var k=this.options[c];return k&&b.isFunction(k)?k(e,this):!1};b.Autocompleter.prototype.activate=function(){if(this.options.enabled){var b=this;this.keyTimeout_&&
clearTimeout(this.keyTimeout_);this.keyTimeout_=setTimeout(function(){b.activateNow()},this.options.delay)}};b.Autocompleter.prototype.activateNow=function(){var b=this.beforeUseConverter(this.dom.$elem.val());b!==this.lastProcessedValue_&&b!==this.lastSelectedValue_&&this.fetchData(b)};b.Autocompleter.prototype.fetchData=function(b){var c=this,e=function(b,e){c.options.processData&&(b=c.options.processData(b));c.showResults(c.filterResults(b,e),e)};this.lastProcessedValue_=b;b.length<this.options.minChars?
e([],b):this.options.data?e(this.options.data,b):this.fetchRemoteData(b,function(c){e(c,b)})};b.Autocompleter.prototype.fetchRemoteData=function(c,e){var k=this.cacheRead(c);if(k)e(k);else{var l=this,k="json"===l.options.remoteDataType?"json":"text",q=function(b){var k=!1;!1!==b&&(k=l.parseRemoteData(b),l.cacheWrite(c,k));l.dom.$elem.removeClass(l.options.loadingClass);e(k)};this.dom.$elem.addClass(this.options.loadingClass);b.ajax({url:this.makeUrl(c),success:q,error:function(c,e,f){if(b.isFunction(l.options.onError))l.options.onError(c,
e,f);else q(!1)},dataType:k})}};b.Autocompleter.prototype.setExtraParam=function(c,e){var k=b.trim(String(c));k&&(this.options.extraParams||(this.options.extraParams={}),this.options.extraParams[k]!==e&&(this.options.extraParams[k]=e,this.cacheFlush()));return this};b.Autocompleter.prototype.makeUrl=function(c){var f=this.options.url,k=b.extend({},this.options.extraParams);!1===this.options.queryParamName?f+=encodeURIComponent(c):k[this.options.queryParamName]=c;return e(f,k)};b.Autocompleter.prototype.parseRemoteData=
function(c){var e,k=c;if("json"===this.options.remoteDataType){e=typeof c;switch(e){case "object":k=c;break;case "string":k=b.parseJSON(c);break;default:throw Error("Unexpected remote data type: "+e);}return k}var l=this.options.lineSeparator;c=this.options.cellSeparator;e=[];var q,t,u;u=String(k).replace("\r\n","\n").split(l);for(k=0;k<u.length;k++){t=u[k].split(c);l=[];for(q=0;q<t.length;q++)l.push(decodeURIComponent(t[q]));q=l.shift();e.push({value:q,data:l})}return e};b.Autocompleter.prototype.defaultFilter=
function(b,c){if(!b.value)return!1;if(this.options.filterResults){var e=this.matchStringConverter(c),l=this.matchStringConverter(b.value);this.options.matchCase||(e=e.toLowerCase(),l=l.toLowerCase());e=l.indexOf(e);return this.options.matchInside?-1<e:0===e}return!0};b.Autocompleter.prototype.filterResult=function(c,e){return!1===this.options.filter?!0:b.isFunction(this.options.filter)?this.options.filter(c,e):this.defaultFilter(c,e)};b.Autocompleter.prototype.filterResults=function(c,e){var k=[],
l,q;for(l=0;l<c.length;l++){q=c[l];var t=void 0,u=void 0,x=typeof q;"string"===x?(t=q,u={}):b.isArray(q)?(t=q[0],u=q.slice(1)):"object"===x&&(t=q.value,u=q.data);t=String(t);"object"!==typeof u&&(u={});q={value:t,data:u};this.filterResult(q,e)&&k.push(q)}this.options.sortResults&&(k=this.sortResults(k,e));0<this.options.maxItemsToShow&&this.options.maxItemsToShow<k.length&&(k.length=this.options.maxItemsToShow);return k};b.Autocompleter.prototype.sortResults=function(c,e){var k=this,l=this.options.sortFunction;
b.isFunction(l)||(l=function(b,c,e){b=String(b.value);c=String(c.value);k.options.matchCase||(b=b.toLowerCase(),c=c.toLowerCase());c=b>c?1:b<c?-1:0;return c});c.sort(function(b,c){return l(b,c,e,k.options)});return c};b.Autocompleter.prototype.matchStringConverter=function(c,e,k){var l=this.options.matchStringConverter;b.isFunction(l)&&(c=l(c,e,k));return c};b.Autocompleter.prototype.beforeUseConverter=function(c){c=this.getValue(c);var e=this.options.beforeUseConverter;b.isFunction(e)&&(c=e(c));
return c};b.Autocompleter.prototype.enableFinishOnBlur=function(){this.finishOnBlur_=!0};b.Autocompleter.prototype.disableFinishOnBlur=function(){this.finishOnBlur_=!1};b.Autocompleter.prototype.createItemFromResult=function(c){var e=this,k=b("<li/>");k.html(this.showResult(c.value,c.data));k.data({value:c.value,data:c.data}).click(function(){e.selectItem(k)}).mousedown(e.disableFinishOnBlur).mouseup(e.enableFinishOnBlur);return k};b.Autocompleter.prototype.getItems=function(){return b(">ul>li",this.dom.$results)};
b.Autocompleter.prototype.showResults=function(c,e){var k=c.length,l=this,q=b("<ul></ul>"),t,u,x,A=!1,B=!1;if(k){for(t=0;t<k;t++)u=c[t],x=this.createItemFromResult(u),q.append(x),!1===A&&(A=String(u.value),B=x,x.addClass(this.options.firstItemClass)),t===k-1&&x.addClass(this.options.lastItemClass);this.dom.$results.html(q).show();this.position();this.options.autoWidth&&(q=this.dom.$elem.outerWidth()-this.dom.$results.outerWidth()+this.dom.$results.width(),this.dom.$results.css(this.options.autoWidth,
q));this.getItems().hover(function(){l.focusItem(this)},function(){});(this.autoFill(A,e)||this.options.selectFirst||this.options.selectOnly&&1===k)&&this.focusItem(B);this.active_=!0}else this.hideResults(),this.active_=!1};b.Autocompleter.prototype.showResult=function(c,e){return b.isFunction(this.options.showResult)?this.options.showResult(c,e):b("<p></p>").text(c).html()};b.Autocompleter.prototype.autoFill=function(b,c){var e,l,q,t;return this.options.autoFill&&8!==this.lastKeyPressed_&&(e=String(b).toLowerCase(),
l=String(c).toLowerCase(),q=b.length,t=c.length,e.substr(0,t)===l)?(e=this.getDelimiterOffsets(),l=e.start?" ":"",this.setValue(l+b),this.selectRange(t+e.start+l.length,q+e.start+l.length),!0):!1};b.Autocompleter.prototype.focusNext=function(){this.focusMove(1)};b.Autocompleter.prototype.focusPrev=function(){this.focusMove(-1)};b.Autocompleter.prototype.focusMove=function(e){var f=this.getItems();if(e=c(e,0))for(var k=0;k<f.length;k++)if(b(f[k]).hasClass(this.selectClass_)){this.focusItem(k+e);return}this.focusItem(0)};
b.Autocompleter.prototype.focusItem=function(c){var e=this.getItems();e.length&&(e.removeClass(this.selectClass_).removeClass(this.options.selectClass),"number"===typeof c?(0>c?c=0:c>=e.length&&(c=e.length-1),c=b(e[c])):c=b(c),c&&c.addClass(this.selectClass_).addClass(this.options.selectClass))};b.Autocompleter.prototype.selectCurrent=function(){var c=b("li."+this.selectClass_,this.dom.$results);1===c.length?this.selectItem(c):this.deactivate(!1)};b.Autocompleter.prototype.selectItem=function(b){var c=
b.data("value");b=b.data("data");var e=this.displayValue(c,b),l=this.beforeUseConverter(e);this.lastSelectedValue_=this.lastProcessedValue_=l;var l=this.getDelimiterOffsets(),q=this.options.delimiterChar,t=this.dom.$elem,u=0;this.options.useDelimiter&&(t.val().substring(l.start-1,l.start)==q&&" "!=q&&(e=" "+e),t.val().substring(l.end,l.end+1)!=q&&this.lastKeyPressed_!=this.options.delimiterKeyCode?e+=q:u=1);this.setValue(e);this.setCaret(l.start+e.length+u);this.callHook("onItemSelect",{value:c,data:b});
this.deactivate(!0);t.focus()};b.Autocompleter.prototype.displayValue=function(c,e){return b.isFunction(this.options.displayValue)?this.options.displayValue(c,e):c};b.Autocompleter.prototype.hideResults=function(){this.dom.$results.hide()};b.Autocompleter.prototype.deactivate=function(b){this.finishTimeout_&&clearTimeout(this.finishTimeout_);this.keyTimeout_&&clearTimeout(this.keyTimeout_);b&&(this.lastProcessedValue_!==this.lastSelectedValue_&&(this.options.mustMatch&&this.setValue(""),this.callHook("onNoMatch")),
this.active_&&this.callHook("onFinish"),this.lastSelectedValue_=this.lastProcessedValue_=this.lastKeyPressed_=null,this.active_=!1);this.hideResults()};b.Autocompleter.prototype.selectRange=function(b,c){var e=this.dom.$elem.get(0);e.setSelectionRange?(e.focus(),e.setSelectionRange(b,c)):e.createTextRange&&(e=e.createTextRange(),e.collapse(!0),e.moveEnd("character",c),e.moveStart("character",b),e.select())};b.Autocompleter.prototype.setCaret=function(b){this.selectRange(b,b)};b.Autocompleter.prototype.getCaret=
function(){var b=this.dom.$elem,c=b[0],e,l;c.createTextRange?(l=document.selection,"textarea"!=c.tagName.toLowerCase()?(e=b.val(),b=l.createRange().duplicate(),b.moveEnd("character",e.length),c=""===b.text?e.length:e.lastIndexOf(b.text),b=l.createRange().duplicate(),b.moveStart("character",-e.length),l=b.text.length):(b=l.createRange(),l=b.duplicate(),l.moveToElementText(c),l.setEndPoint("EndToEnd",b),c=l.text.length-b.text.length,l=c+b.text.length)):(c=b[0].selectionStart,l=b[0].selectionEnd);return{start:c,
end:l}};b.Autocompleter.prototype.setValue=function(b){if(this.options.useDelimiter){var c=this.dom.$elem.val(),e=this.getDelimiterOffsets(),l=c.substring(0,e.start),c=c.substring(e.end);b=l+b+c}this.dom.$elem.val(b)};b.Autocompleter.prototype.getValue=function(b){if(this.options.useDelimiter){var c=this.getDelimiterOffsets();return b.substring(c.start,c.end).trim()}return b};b.Autocompleter.prototype.getDelimiterOffsets=function(){var b=this.dom.$elem.val();if(this.options.useDelimiter){var c=b.substring(0,
this.getCaret().start).lastIndexOf(this.options.delimiterChar)+1,e=b.substring(this.getCaret().start).indexOf(this.options.delimiterChar);-1==e&&(e=b.length);e+=this.getCaret().start}else c=0,e=b.length;return{start:c,end:e}}})(jQuery);(function(b){var c={init:function(e){var g=b.extend({items:1,itemsOnPage:1,pages:0,displayedPages:5,edges:2,currentPage:1,hrefTextPrefix:"#",hrefTextSuffix:"",prevText:"Prev",nextText:"Next",ellipseText:"&hellip;",cssStyle:"light-theme",labelMap:[],selectOnClick:!0,nextAtFront:!1,onPageClick:function(b,c){APPDATA.searchSource="pagination";startSearch()},onInit:function(){}},e||{}),f=this;g.pages=g.pages?g.pages:Math.ceil(g.items/g.itemsOnPage)?Math.ceil(g.items/g.itemsOnPage):1;g.currentPage-=1;g.halfDisplayed=
g.displayedPages/2;this.each(function(){f.addClass(g.cssStyle+" simple-pagination").data("pagination",g);c._draw.call(f)});g.onInit();return this},selectPage:function(b){c._selectPage.call(this,b-1);return this},prevPage:function(){var b=this.data("pagination");0<b.currentPage&&c._selectPage.call(this,b.currentPage-1);return this},nextPage:function(){var b=this.data("pagination");b.currentPage<b.pages-1&&c._selectPage.call(this,b.currentPage+1);return this},getPagesCount:function(){return this.data("pagination").pages},
getCurrentPage:function(){return this.data("pagination").currentPage+1},destroy:function(){this.empty();return this},drawPage:function(b){var g=this.data("pagination");g.currentPage=b-1;this.data("pagination",g);c._draw.call(this);return this},redraw:function(){c._draw.call(this);return this},disable:function(){var b=this.data("pagination");b.disabled=!0;this.data("pagination",b);c._draw.call(this);return this},enable:function(){var b=this.data("pagination");b.disabled=!1;this.data("pagination",b);
c._draw.call(this);return this},updateItems:function(b){var g=this.data("pagination");g.items=b;g.pages=c._getPages(g);this.data("pagination",g);c._draw.call(this)},updateItemsOnPage:function(b){var g=this.data("pagination");g.itemsOnPage=b;g.pages=c._getPages(g);this.data("pagination",g);c._selectPage.call(this,0);return this},_draw:function(){var e=this.data("pagination"),g=c._getInterval(e),f;c.destroy.call(this);var k="UL"===("function"===typeof this.prop?this.prop("tagName"):this.attr("tagName"))?
this:b("<ul></ul>").appendTo(this);e.prevText&&c._appendItem.call(this,e.currentPage-1,{text:e.prevText,classes:"prev"});e.nextText&&e.nextAtFront&&c._appendItem.call(this,e.currentPage+1,{text:e.nextText,classes:"next"});if(0<g.start&&0<e.edges){var l=Math.min(e.edges,g.start);for(f=0;f<l;f++)c._appendItem.call(this,f);e.edges<g.start&&1!=g.start-e.edges?k.append('<li class="disabled"><span class="ellipse">'+e.ellipseText+"</span></li>"):1==g.start-e.edges&&c._appendItem.call(this,e.edges)}for(f=
g.start;f<g.end;f++)c._appendItem.call(this,f);if(g.end<e.pages&&0<e.edges)for(e.pages-e.edges>g.end&&1!=e.pages-e.edges-g.end?k.append('<li class="disabled"><span class="ellipse">'+e.ellipseText+"</span></li>"):1==e.pages-e.edges-g.end&&c._appendItem.call(this,g.end++),f=Math.max(e.pages-e.edges,g.end);f<e.pages;f++)c._appendItem.call(this,f);e.nextText&&!e.nextAtFront&&c._appendItem.call(this,e.currentPage+1,{text:e.nextText,classes:"next"})},_getPages:function(b){return Math.ceil(b.items/b.itemsOnPage)||
1},_getInterval:function(b){return{start:Math.ceil(b.currentPage>b.halfDisplayed?Math.max(Math.min(b.currentPage-b.halfDisplayed,b.pages-b.displayedPages),0):0),end:Math.ceil(b.currentPage>b.halfDisplayed?Math.min(b.currentPage+b.halfDisplayed,b.pages):Math.min(b.displayedPages,b.pages))}},_appendItem:function(e,g){var f=this,k,l;l=f.data("pagination");var q=b("<li></li>"),t=f.find("ul");e=0>e?0:e<l.pages?e:l.pages-1;k={text:e+1,classes:""};l.labelMap.length&&l.labelMap[e]&&(k.text=l.labelMap[e]);
k=b.extend(k,g||{});e==l.currentPage||l.disabled?(l.disabled?q.addClass("disabled"):q.addClass("active"),l=b('<span class="current">'+k.text+"</span>")):(l=b('<a href="'+l.hrefTextPrefix+(e+1)+l.hrefTextSuffix+'" class="page-link">'+k.text+"</a>"),l.click(function(b){return c._selectPage.call(f,e,b)}));k.classes&&l.addClass(k.classes);q.append(l);t.length?t.append(q):f.append(q)},_selectPage:function(b,g){var f=this.data("pagination");f.currentPage=b;f.selectOnClick&&c._draw.call(this);return f.onPageClick(b+
1,g)}};b.fn.pagination=function(e){if(c[e]&&"_"!=e.charAt(0))return c[e].apply(this,Array.prototype.slice.call(arguments,1));if("object"!==typeof e&&e)b.error("Method "+e+" does not exist on jQuery.pagination");else return c.init.apply(this,arguments)}})(jQuery);(function(){function b(a,d){var h;a||(a={});for(h in d)a[h]=d[h];return a}function c(){var a,d=arguments,h,s={},b=function(a,d){var h,s;"object"!==typeof a&&(a={});for(s in d)d.hasOwnProperty(s)&&(h=d[s],a[s]=h&&"object"===typeof h&&"[object Array]"!==Object.prototype.toString.call(h)&&"renderTo"!==s&&"number"!==typeof h.nodeType?b(a[s]||{},h):d[s]);return a};!0===d[0]&&(s=d[1],d=Array.prototype.slice.call(d,2));h=d.length;for(a=0;a<h;a++)s=b(s,d[a]);return s}function e(a,d){return parseInt(a,d||
10)}function g(a){return"string"===typeof a}function f(a){return"object"===typeof a}function k(a){return"[object Array]"===Object.prototype.toString.call(a)}function l(a){return"number"===typeof a}function q(a){return ga.log(a)/ga.LN10}function t(a){return ga.pow(10,a)}function u(a,d){for(var h=a.length;h--;)if(a[h]===d){a.splice(h,1);break}}function x(a){return a!==G&&null!==a}function A(a,d,h){var s,b;if(g(d))x(h)?a.setAttribute(d,h):a&&a.getAttribute&&(b=a.getAttribute(d));else if(x(d)&&f(d))for(s in d)a.setAttribute(s,
d[s]);return b}function B(a){return k(a)?a:[a]}function p(){var a=arguments,d,h,s=a.length;for(d=0;d<s;d++)if(h=a[d],"undefined"!==typeof h&&null!==h)return h}function C(a,d){Ja&&!pa&&d&&d.opacity!==G&&(d.filter="alpha(opacity="+100*d.opacity+")");b(a.style,d)}function R(a,d,h,s,M){a=K.createElement(a);d&&b(a,d);M&&C(a,{padding:0,border:ca,margin:0});h&&C(a,h);s&&s.appendChild(a);return a}function ba(a,d){var h=function(){};h.prototype=new a;b(h.prototype,d);return h}function ka(a,d,h,s){var b=X.lang;
a=+a||0;var c=-1===d?(a.toString().split(".")[1]||"").length:isNaN(d=Y(d))?2:d;d=void 0===h?b.decimalPoint:h;s=void 0===s?b.thousandsSep:s;b=0>a?"-":"";h=String(e(a=Y(a).toFixed(c)));var m=3<h.length?h.length%3:0;return b+(m?h.substr(0,m)+s:"")+h.substr(m).replace(/(\d{3})(?=\d)/g,"$1"+s)+(c?d+Y(a-h).toFixed(c).slice(2):"")}function ra(a,d){return Array((d||2)+1-String(a).length).join(0)+a}function z(a,d,h){var s=a[d];a[d]=function(){var a=Array.prototype.slice.call(arguments);a.unshift(s);return h.apply(this,
a)}}function va(a,d){for(var h="{",s=!1,b,c,m,e,n,f=[];-1!==(h=a.indexOf(h));){b=a.slice(0,h);if(s){c=b.split(":");m=c.shift().split(".");n=m.length;b=d;for(e=0;e<n;e++)b=b[m[e]];c.length&&(c=c.join(":"),m=/\.([0-9])/,e=X.lang,/f$/.test(c)?(n=(n=c.match(m))?n[1]:-1,null!==b&&(b=ka(b,n,e.decimalPoint,-1<c.indexOf(",")?e.thousandsSep:""))):b=eb(c,b))}f.push(b);a=a.slice(h+1);h=(s=!s)?"}":"{"}f.push(a);return f.join("")}function wa(a){return ga.pow(10,fa(ga.log(a)/ga.LN10))}function Na(a,d,h,s){var b;
h=p(h,1);b=a/h;d||(d=[1,2,2.5,5,10],s&&!1===s.allowDecimals&&(1===h?d=[1,2,5,10]:0.1>=h&&(d=[1/h])));for(s=0;s<d.length&&!(a=d[s],b<=(d[s]+(d[s+1]||d[s]))/2);s++);return a*h}function Ya(){this.symbol=this.color=0}function ob(a,d){var h=a.length,s,b;for(b=0;b<h;b++)a[b].ss_i=b;a.sort(function(a,h){s=d(a,h);return 0===s?a.ss_i-h.ss_i:s});for(b=0;b<h;b++)delete a[b].ss_i}function Qa(a){for(var d=a.length,h=a[0];d--;)a[d]<h&&(h=a[d]);return h}function Aa(a){for(var d=a.length,h=a[0];d--;)a[d]>h&&(h=a[d]);
return h}function Ra(a,d){for(var h in a)a[h]&&a[h]!==d&&a[h].destroy&&a[h].destroy(),delete a[h]}function Ia(a){fb||(fb=R(Oa));a&&fb.appendChild(a);fb.innerHTML=""}function oa(a,d){var h="Highcharts error #"+a+": www.highcharts.com/errors/"+a;if(d)throw h;Q.console&&console.log(h)}function la(a){return parseFloat(a.toPrecision(14))}function Sa(a,d){Ea=p(a,d.animation)}function yb(){var a=X.global.useUTC,d=a?"getUTC":"get",h=a?"setUTC":"set";Ta=6E4*(a&&X.global.timezoneOffset||0);gb=a?Date.UTC:function(a,
d,h,b,c,e){return(new Date(a,d,p(h,1),p(b,0),p(c,0),p(e,0))).getTime()};pb=d+"Minutes";qb=d+"Hours";rb=d+"Day";Za=d+"Date";hb=d+"Month";ib=d+"FullYear";Ab=h+"Minutes";Bb=h+"Hours";sb=h+"Date";Cb=h+"Month";Db=h+"FullYear"}function I(){}function U(a,d,h,s){this.axis=a;this.pos=d;this.type=h||"";this.isNew=!0;h||s||this.addLabel()}function ma(){this.init.apply(this,arguments)}function Xa(){this.init.apply(this,arguments)}function zb(a,d,h,s,b){var c=a.chart.inverted;this.axis=a;this.isNegative=h;this.options=
d;this.x=s;this.total=null;this.points={};this.stack=b;this.alignOptions={align:d.align||(c?h?"left":"right":"center"),verticalAlign:d.verticalAlign||(c?"middle":h?"bottom":"top"),y:p(d.y,c?4:h?14:-6),x:p(d.x,c?h?-6:6:0)};this.textAlign=d.textAlign||(c?h?"right":"left":"center")}var G,K=document,Q=window,ga=Math,E=ga.round,fa=ga.floor,Pa=ga.ceil,F=ga.max,S=ga.min,Y=ga.abs,na=ga.cos,sa=ga.sin,xa=ga.PI,Ka=2*xa/360,Fa=navigator.userAgent,Eb=Q.opera,Ja=/msie/i.test(Fa)&&!Eb,jb=8===K.documentMode,kb=/AppleWebKit/.test(Fa),
Ua=/Firefox/.test(Fa),Fb=/(Mobile|Android|Windows Phone)/.test(Fa),Ga="http://www.w3.org/2000/svg",pa=!!K.createElementNS&&!!K.createElementNS(Ga,"svg").createSVGRect,Jb=Ua&&4>parseInt(Fa.split("Firefox/")[1],10),ta=!pa&&!Ja&&!!K.createElement("canvas").getContext,$a,ab,Gb={},tb=0,fb,X,eb,Ea,ub,N,Ba=function(){},ha=[],bb=0,Oa="div",ca="none",Kb=/^[0-9]+$/,Lb="stroke-width",gb,Ta,pb,qb,rb,Za,hb,ib,Ab,Bb,sb,Cb,Db,V={},da=Q.Highcharts=Q.Highcharts?oa(16,!0):{};eb=function(a,d,h){if(!x(d)||isNaN(d))return"Invalid date";
a=p(a,"%Y-%m-%d %H:%M:%S");var s=new Date(d-Ta),M,c=s[qb](),m=s[rb](),e=s[Za](),n=s[hb](),f=s[ib](),g=X.lang,w=g.weekdays,s=b({a:w[m].substr(0,3),A:w[m],d:ra(e),e:e,b:g.shortMonths[n],B:g.months[n],m:ra(n+1),y:f.toString().substr(2,2),Y:f,H:ra(c),I:ra(c%12||12),l:c%12||12,M:ra(s[pb]()),p:12>c?"AM":"PM",P:12>c?"am":"pm",S:ra(s.getSeconds()),L:ra(E(d%1E3),3)},da.dateFormats);for(M in s)for(;-1!==a.indexOf("%"+M);)a=a.replace("%"+M,"function"===typeof s[M]?s[M](d):s[M]);return h?a.substr(0,1).toUpperCase()+
a.substr(1):a};Ya.prototype={wrapColor:function(a){this.color>=a&&(this.color=0)},wrapSymbol:function(a){this.symbol>=a&&(this.symbol=0)}};N=function(){for(var a=0,d=arguments,h=d.length,s={};a<h;a++)s[d[a++]]=d[a];return s}("millisecond",1,"second",1E3,"minute",6E4,"hour",36E5,"day",864E5,"week",6048E5,"month",26784E5,"year",31556952E3);ub={init:function(a,d,h){d=d||"";var s=a.shift,b=-1<d.indexOf("C"),c=b?7:3,m;d=d.split(" ");h=[].concat(h);var e,n,f=function(a){for(m=a.length;m--;)"M"===a[m]&&
a.splice(m+1,0,a[m+1],a[m+2],a[m+1],a[m+2])};b&&(f(d),f(h));a.isArea&&(e=d.splice(d.length-6,6),n=h.splice(h.length-6,6));if(s<=h.length/c&&d.length===h.length)for(;s--;)h=[].concat(h).splice(0,c).concat(h);a.shift=0;if(d.length)for(a=h.length;d.length<a;)s=[].concat(d).splice(d.length-c,c),b&&(s[c-6]=s[c-2],s[c-5]=s[c-1]),d=d.concat(s);e&&(d=d.concat(e),h=h.concat(n));return[d,h]},step:function(a,d,h,s){var b=[],c=a.length;if(1===h)b=s;else if(c===d.length&&1>h)for(;c--;)s=parseFloat(a[c]),b[c]=
isNaN(s)?a[c]:h*parseFloat(d[c]-s)+s;else b=d;return b}};(function(a){Q.HighchartsAdapter=Q.HighchartsAdapter||a&&{init:function(d){var h=a.fx,s=h.step,b,c=a.Tween,m=c&&c.propHooks;b=a.cssHooks.opacity;a.extend(a.easing,{easeOutQuad:function(a,d,h,s,b){return-s*(d/=b)*(d-2)+h}});a.each(["cur","_default","width","height","opacity"],function(a,d){var b=s,M;"cur"===d?b=h.prototype:"_default"===d&&c&&(b=m[d],d="set");(M=b[d])&&(b[d]=function(h){var s;h=a?h:this;if("align"!==h.prop)return s=h.elem,s.attr?
s.attr(h.prop,"cur"===d?G:h.now):M.apply(this,arguments)})});z(b,"get",function(a,d,h){return d.attr?d.opacity||0:a.call(this,d,h)});b=function(a){var h=a.elem,s;a.started||(s=d.init(h,h.d,h.toD),a.start=s[0],a.end=s[1],a.started=!0);h.attr("d",d.step(a.start,a.end,a.pos,h.toD))};c?m.d={set:b}:s.d=b;this.each=Array.prototype.forEach?function(a,d){return Array.prototype.forEach.call(a,d)}:function(a,d){for(var h=0,s=a.length;h<s;h++)if(!1===d.call(a[h],a[h],h,a))return h};a.fn.highcharts=function(){var a=
"Chart",d=arguments,h,s;this[0]&&(g(d[0])&&(a=d[0],d=Array.prototype.slice.call(d,1)),h=d[0],h!==G&&(h.chart=h.chart||{},h.chart.renderTo=this[0],new da[a](h,d[1]),s=this),h===G&&(s=ha[A(this[0],"data-highcharts-chart")]));return s}},getScript:a.getScript,inArray:a.inArray,adapterRun:function(d,h){return a(d)[h]()},grep:a.grep,map:function(a,h){for(var s=[],b=0,c=a.length;b<c;b++)s[b]=h.call(a[b],a[b],b,a);return s},offset:function(d){return a(d).offset()},addEvent:function(d,h,s){a(d).bind(h,s)},
removeEvent:function(d,h,s){var b=K.removeEventListener?"removeEventListener":"detachEvent";K[b]&&d&&!d[b]&&(d[b]=function(){});a(d).unbind(h,s)},fireEvent:function(d,h,s,M){var c=a.Event(h),m="detached"+h,e;!Ja&&s&&(delete s.layerX,delete s.layerY,delete s.returnValue);b(c,s);d[h]&&(d[m]=d[h],d[h]=null);a.each(["preventDefault","stopPropagation"],function(a,d){var h=c[d];c[d]=function(){try{h.call(c)}catch(a){"preventDefault"===d&&(e=!0)}}});a(d).trigger(c);d[m]&&(d[h]=d[m],d[m]=null);M&&!c.isDefaultPrevented()&&
!e&&M(c)},washMouseEvent:function(a){var h=a.originalEvent||a;h.pageX===G&&(h.pageX=a.pageX,h.pageY=a.pageY);return h},animate:function(d,h,s){var b=a(d);d.style||(d.style={});h.d&&(d.toD=h.d,h.d=1);b.stop();h.opacity!==G&&d.attr&&(h.opacity+="px");b.animate(h,s)},stop:function(d){a(d).stop()}}})(Q.jQuery);var ea=Q.HighchartsAdapter,W=ea||{};ea&&ea.init.call(ea,ub);var lb=W.adapterRun,Mb=W.getScript,La=W.inArray,y=W.each,vb=W.grep,Nb=W.offset,Va=W.map,T=W.addEvent,ia=W.removeEvent,P=W.fireEvent,Ob=
W.washMouseEvent,mb=W.animate,cb=W.stop,W={enabled:!0,x:0,y:15,style:{color:"#606060",cursor:"default",fontSize:"11px"}};X={colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #8085e8 #8d4653 #91e8e1".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/4.0.1/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/4.0.1/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},
position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"}},subtitle:{text:"",align:"center",style:{color:"#555555"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1E3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:c(W,{align:"center",enabled:!1,formatter:function(){return null===
this.y?"":ka(this.y,-1)},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,states:{hover:{marker:{},halo:{size:10,opacity:0.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1E3}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},
itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"1em"},style:{position:"absolute",backgroundColor:"white",opacity:0.5,textAlign:"center"}},tooltip:{enabled:!0,animation:pa,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",
second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:Fb?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",
position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var qa=X.plotOptions,ea=qa.line;yb();var Pb=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,Qb=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,Rb=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,Ha=function(a){var d=[],h,s;(function(a){a&&a.stops?s=Va(a.stops,function(a){return Ha(a[1])}):(h=Pb.exec(a))?d=[e(h[1]),
e(h[2]),e(h[3]),parseFloat(h[4],10)]:(h=Qb.exec(a))?d=[e(h[1],16),e(h[2],16),e(h[3],16),1]:(h=Rb.exec(a))&&(d=[e(h[1]),e(h[2]),e(h[3]),1])})(a);return{get:function(h){var b;s?(b=c(a),b.stops=[].concat(b.stops),y(s,function(a,d){b.stops[d]=[b.stops[d][0],a.get(h)]})):b=d&&!isNaN(d[0])?"rgb"===h?"rgb("+d[0]+","+d[1]+","+d[2]+")":"a"===h?d[3]:"rgba("+d.join(",")+")":a;return b},brighten:function(a){if(s)y(s,function(d){d.brighten(a)});else if(l(a)&&0!==a){var h;for(h=0;3>h;h++)d[h]+=e(255*a),0>d[h]&&
(d[h]=0),255<d[h]&&(d[h]=255)}return this},rgba:d,setOpacity:function(a){d[3]=a;return this}}};I.prototype={init:function(a,d){this.element="span"===d?R(d):K.createElementNS(Ga,d);this.renderer=a},opacity:1,animate:function(a,d,h){d=p(d,Ea,!0);cb(this);d?(d=c(d,{}),h&&(d.complete=h),mb(this,a,d)):(this.attr(a),h&&h())},colorGradient:function(a,d,h){var s=this.renderer,b,L,m,e,n,f,g,w,Z,v,D=[];a.linearGradient?L="linearGradient":a.radialGradient&&(L="radialGradient");if(L){m=a[L];e=s.gradients;f=a.stops;
Z=h.radialReference;k(m)&&(a[L]=m={x1:m[0],y1:m[1],x2:m[2],y2:m[3],gradientUnits:"userSpaceOnUse"});"radialGradient"===L&&Z&&!x(m.gradientUnits)&&(m=c(m,{cx:Z[0]-Z[2]/2+m.cx*Z[2],cy:Z[1]-Z[2]/2+m.cy*Z[2],r:m.r*Z[2],gradientUnits:"userSpaceOnUse"}));for(v in m)"id"!==v&&D.push(v,m[v]);for(v in f)D.push(f[v]);D=D.join(",");e[D]?a=e[D].attr("id"):(m.id=a="highcharts-"+tb++,e[D]=n=s.createElement(L).attr(m).add(s.defs),n.stops=[],y(f,function(a){0===a[1].indexOf("rgba")?(b=Ha(a[1]),g=b.get("rgb"),w=b.get("a")):
(g=a[1],w=1);a=s.createElement("stop").attr({offset:a[0],"stop-color":g,"stop-opacity":w}).add(n);n.stops.push(a)}));h.setAttribute(d,"url("+s.url+"#"+a+")")}},attr:function(a,d){var h,s,b=this.element,c,m=this,e;"string"===typeof a&&d!==G&&(h=a,a={},a[h]=d);if("string"===typeof a)m=(this[a+"Getter"]||this._defaultGetter).call(this,a,b);else{for(h in a)s=a[h],e=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(h)&&(c||(this.symbolAttr(a),c=!0),e=!0),!this.rotation||
"x"!==h&&"y"!==h||(this.doTransform=!0),e||(this[h+"Setter"]||this._defaultSetter).call(this,s,h,b),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(h)&&this.updateShadows(h,s);this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return m},updateShadows:function(a,d){for(var h=this.shadows,s=h.length;s--;)h[s].setAttribute(a,"height"===a?F(d-(h[s].cutHeight||0),0):"d"===a?this.d:d)},addClass:function(a){var d=this.element,h=A(d,"class")||"";-1===h.indexOf(a)&&A(d,
"class",h+" "+a);return this},symbolAttr:function(a){var d=this;y("x y r start end width height innerR anchorX anchorY".split(" "),function(h){d[h]=p(a[h],d[h])});d.attr({d:d.renderer.symbols[d.symbolName](d.x,d.y,d.width,d.height,d)})},clip:function(a){return this.attr("clip-path",a?"url("+this.renderer.url+"#"+a.id+")":ca)},crisp:function(a){var d,h={},s,b=a.strokeWidth||this.strokeWidth||this.attr&&this.attr("stroke-width")||0;s=E(b)%2/2;a.x=fa(a.x||this.x||0)+s;a.y=fa(a.y||this.y||0)+s;a.width=
fa((a.width||this.width||0)-2*s);a.height=fa((a.height||this.height||0)-2*s);a.strokeWidth=b;for(d in a)this[d]!==a[d]&&(this[d]=h[d]=a[d]);return h},css:function(a){var d=this.styles,h={},s=this.element,c,L,m="";c=!d;a&&a.color&&(a.fill=a.color);if(d)for(L in a)a[L]!==d[L]&&(h[L]=a[L],c=!0);if(c){c=this.textWidth=a&&a.width&&"text"===s.nodeName.toLowerCase()&&e(a.width);d&&(a=b(d,h));this.styles=a;c&&(ta||!pa&&this.renderer.forExport)&&delete a.width;if(Ja&&!pa)C(this.element,a);else{d=function(a,
d){return"-"+d.toLowerCase()};for(L in a)m+=L.replace(/([A-Z])/g,d)+":"+a[L]+";";A(s,"style",m)}c&&this.added&&this.renderer.buildText(this)}return this},on:function(a,d){var h=this,s=h.element;ab&&"click"===a?(s.ontouchstart=function(a){h.touchEventFired=Date.now();a.preventDefault();d.call(s,a)},s.onclick=function(a){(-1===Fa.indexOf("Android")||1100<Date.now()-(h.touchEventFired||0))&&d.call(s,a)}):s["on"+a]=d;return this},setRadialReference:function(a){this.element.radialReference=a;return this},
translate:function(a,d){return this.attr({translateX:a,translateY:d})},invert:function(){this.inverted=!0;this.updateTransform();return this},updateTransform:function(){var a=this.translateX||0,d=this.translateY||0,h=this.scaleX,s=this.scaleY,b=this.inverted,c=this.rotation,m=this.element;b&&(a+=this.attr("width"),d+=this.attr("height"));a=["translate("+a+","+d+")"];b?a.push("rotate(90) scale(-1,1)"):c&&a.push("rotate("+c+" "+(m.getAttribute("x")||0)+" "+(m.getAttribute("y")||0)+")");(x(h)||x(s))&&
a.push("scale("+p(h,1)+" "+p(s,1)+")");a.length&&m.setAttribute("transform",a.join(" "))},toFront:function(){var a=this.element;a.parentNode.appendChild(a);return this},align:function(a,d,h){var s,b,c,m,e={};b=this.renderer;c=b.alignedObjects;if(a){if(this.alignOptions=a,this.alignByTranslate=d,!h||g(h))this.alignTo=s=h||"renderer",u(c,this),c.push(this),h=null}else a=this.alignOptions,d=this.alignByTranslate,s=this.alignTo;h=p(h,b[s],b);s=a.align;b=a.verticalAlign;c=(h.x||0)+(a.x||0);m=(h.y||0)+
(a.y||0);if("right"===s||"center"===s)c+=(h.width-(a.width||0))/{right:1,center:2}[s];e[d?"translateX":"x"]=E(c);if("bottom"===b||"middle"===b)m+=(h.height-(a.height||0))/({bottom:1,middle:2}[b]||1);e[d?"translateY":"y"]=E(m);this[this.placed?"animate":"attr"](e);this.placed=!0;this.alignAttr=e;return this},getBBox:function(){var a=this.bBox,d=this.renderer,h,s,c=this.rotation;h=this.element;var L=this.styles,m=c*Ka;s=this.textStr;var e;if(""===s||Kb.test(s))e="num."+s.toString().length+(L?"|"+L.fontSize+
"|"+L.fontFamily:"");e&&(a=d.cache[e]);if(!a){if(h.namespaceURI===Ga||d.forExport){try{a=h.getBBox?b({},h.getBBox()):{width:h.offsetWidth,height:h.offsetHeight}}catch(n){}if(!a||0>a.width)a={width:0,height:0}}else a=this.htmlGetBBox();d.isSVG&&(h=a.width,s=a.height,Ja&&L&&"11px"===L.fontSize&&"16.9"===s.toPrecision(3)&&(a.height=s=14),c&&(a.width=Y(s*sa(m))+Y(h*na(m)),a.height=Y(s*na(m))+Y(h*sa(m))));this.bBox=a;e&&(d.cache[e]=a)}return a},show:function(a){return a&&this.element.namespaceURI===Ga?
(this.element.removeAttribute("visibility"),this):this.attr({visibility:a?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(a){var d=this;d.animate({opacity:0},{duration:a||150,complete:function(){d.hide()}})},add:function(a){var d=this.renderer,h=a||d,s=h.element||d.box,b=this.element,c=this.zIndex,m,J;a&&(this.parentGroup=a);this.parentInverted=a&&a.inverted;void 0!==this.textStr&&d.buildText(this);c&&(h.handleZ=!0,c=e(c));if(h.handleZ)for(a=s.childNodes,
m=0;m<a.length;m++)if(d=a[m],h=A(d,"zIndex"),d!==b&&(e(h)>c||!x(c)&&x(h))){s.insertBefore(b,d);J=!0;break}J||s.appendChild(b);this.added=!0;if(this.onAdd)this.onAdd();return this},safeRemoveChild:function(a){var d=a.parentNode;d&&d.removeChild(a)},destroy:function(){var a=this,d=a.element||{},h=a.shadows,s=a.renderer.isSVG&&"SPAN"===d.nodeName&&a.parentGroup,b,c;d.onclick=d.onmouseout=d.onmouseover=d.onmousemove=d.point=null;cb(a);a.clipPath&&(a.clipPath=a.clipPath.destroy());if(a.stops){for(c=0;c<
a.stops.length;c++)a.stops[c]=a.stops[c].destroy();a.stops=null}a.safeRemoveChild(d);for(h&&y(h,function(d){a.safeRemoveChild(d)});s&&0===s.div.childNodes.length;)d=s.parentGroup,a.safeRemoveChild(s.div),delete s.div,s=d;a.alignTo&&u(a.renderer.alignedObjects,a);for(b in a)delete a[b];return null},shadow:function(a,d,h){var s=[],b,c,m=this.element,e,n,f,g;if(a){n=p(a.width,3);f=(a.opacity||0.15)/n;g=this.parentInverted?"(-1,-1)":"("+p(a.offsetX,1)+", "+p(a.offsetY,1)+")";for(b=1;b<=n;b++)c=m.cloneNode(0),
e=2*n+1-2*b,A(c,{isShadow:"true",stroke:a.color||"black","stroke-opacity":f*b,"stroke-width":e,transform:"translate"+g,fill:ca}),h&&(A(c,"height",F(A(c,"height")-e,0)),c.cutHeight=e),d?d.element.appendChild(c):m.parentNode.insertBefore(c,m),s.push(c);this.shadows=s}return this},xGetter:function(a){"circle"===this.element.nodeName&&(a={x:"cx",y:"cy"}[a]||a);return this._defaultGetter(a)},_defaultGetter:function(a){a=p(this[a],this.element?this.element.getAttribute(a):null,0);/^[0-9\.]+$/.test(a)&&
(a=parseFloat(a));return a},dSetter:function(a,d,h){a&&a.join&&(a=a.join(" "));/(NaN| {2}|^$)/.test(a)&&(a="M 0 0");h.setAttribute(d,a);this[d]=a},dashstyleSetter:function(a){var d;if(a=a&&a.toLowerCase()){a=a.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(d=a.length;d--;)a[d]=e(a[d])*this.element.getAttribute("stroke-width");
a=a.join(",");this.element.setAttribute("stroke-dasharray",a)}},alignSetter:function(a){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[a])},opacitySetter:function(a,d,h){this[d]=a;h.setAttribute(d,a)},"stroke-widthSetter":function(a,d,h){0===a&&(a=1E-5);this.strokeWidth=a;h.setAttribute(d,a)},titleSetter:function(a){var d=this.element.getElementsByTagName("title")[0];d||(d=K.createElementNS(Ga,"title"),this.element.appendChild(d));d.textContent=a},textSetter:function(a){a!==
this.textStr&&(delete this.bBox,this.textStr=a,this.added&&this.renderer.buildText(this))},fillSetter:function(a,d,h){"string"===typeof a?h.setAttribute(d,a):a&&this.colorGradient(a,d,h)},zIndexSetter:function(a,d,h){h.setAttribute(d,a);this[d]=a},_defaultSetter:function(a,d,h){h.setAttribute(d,a)}};I.prototype.yGetter=I.prototype.xGetter;I.prototype.translateXSetter=I.prototype.translateYSetter=I.prototype.rotationSetter=I.prototype.verticalAlignSetter=I.prototype.scaleXSetter=I.prototype.scaleYSetter=
function(a,d){this[d]=a;this.doTransform=!0};I.prototype.strokeSetter=I.prototype.fillSetter;var Ca=function(){this.init.apply(this,arguments)};Ca.prototype={Element:I,init:function(a,d,h,s,b){var c=location,m;s=this.createElement("svg").attr({version:"1.1"}).css(this.getStyle(s));m=s.element;a.appendChild(m);-1===a.innerHTML.indexOf("xmlns")&&A(m,"xmlns",Ga);this.isSVG=!0;this.box=m;this.boxWrapper=s;this.alignedObjects=[];this.url=(Ua||kb)&&K.getElementsByTagName("base").length?c.href.replace(/#.*?$/,
"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"";this.createElement("desc").add().element.appendChild(K.createTextNode("Created with Highcharts 4.0.1"));this.defs=this.createElement("defs").add();this.forExport=b;this.gradients={};this.cache={};this.setSize(d,h,!1);var e;Ua&&a.getBoundingClientRect&&(this.subPixelFix=d=function(){C(a,{left:0,top:0});e=a.getBoundingClientRect();C(a,{left:Pa(e.left)-e.left+"px",top:Pa(e.top)-e.top+"px"})},d(),T(Q,"resize",d))},getStyle:function(a){return this.style=
b({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},a)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var a=this.defs;this.box=null;this.boxWrapper=this.boxWrapper.destroy();Ra(this.gradients||{});this.gradients=null;a&&(this.defs=a.destroy());this.subPixelFix&&ia(Q,"resize",this.subPixelFix);return this.alignedObjects=null},createElement:function(a){var d=new this.Element;d.init(this,a);return d},draw:function(){},
buildText:function(a){for(var d=a.element,h=this,s=h.forExport,b=p(a.textStr,"").toString(),c=-1!==b.indexOf("<"),m=d.childNodes,J,n,f=A(d,"x"),g=a.styles,w=a.textWidth,k=g&&g.lineHeight,v=m.length,D=function(a){return k?e(k):h.fontMetrics(/(px|em)$/.test(a&&a.style.fontSize)?a.style.fontSize:g&&g.fontSize||h.style.fontSize||12).h};v--;)d.removeChild(m[v]);c||-1!==b.indexOf(" ")?(J=/<.*style="([^"]+)".*>/,n=/<.*href="(http[^"]+)".*>/,w&&!a.added&&this.box.appendChild(d),b=c?b.replace(/<(b|strong)>/g,
'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[b],""===b[b.length-1]&&b.pop(),y(b,function(b,c){var M,L=0;b=b.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");M=b.split("|||");y(M,function(b){if(""!==b||1===M.length){var m={},e=K.createElementNS(Ga,"tspan"),k;J.test(b)&&(k=b.match(J)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),A(e,"style",k));n.test(b)&&!s&&
(A(e,"onclick",'location.href="'+b.match(n)[1]+'"'),C(e,{cursor:"pointer"}));b=(b.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">");if(" "!==b&&(e.appendChild(K.createTextNode(b)),L?m.dx=0:c&&null!==f&&(m.x=f),A(e,m),!L&&c&&(!pa&&s&&C(e,{display:"block"}),A(e,"dy",D(e),kb&&e.offsetHeight)),d.appendChild(e),L++,w)){b=b.replace(/([^\^])-/g,"$1- ").split(" ");for(var m=1<b.length&&"nowrap"!==g.whiteSpace,v,Z,p=a._clipHeight,l=[],q=D(),t=1;m&&(b.length||l.length);)delete a.bBox,
v=a.getBBox(),Z=v.width,!pa&&h.forExport&&(Z=h.measureSpanWidth(e.firstChild.data,a.styles)),(v=Z>w)&&1!==b.length?(e.removeChild(e.firstChild),l.unshift(b.pop())):(b=l,l=[],b.length&&(t++,p&&t*q>p?(b=["..."],a.attr("title",a.textStr)):(e=K.createElementNS(Ga,"tspan"),A(e,{dy:q,x:f}),k&&A(e,"style",k),d.appendChild(e),Z>w&&(w=Z)))),b.length&&e.appendChild(K.createTextNode(b.join(" ").replace(/- /g,"-")))}}})})):d.appendChild(K.createTextNode(b))},button:function(a,d,h,s,M,L,e,J,n){var f=this.label(a,
d,h,n,null,null,null,null,"button"),g=0,w,k,v,D,p,l;a={x1:0,y1:0,x2:0,y2:1};M=c({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:a,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},M);v=M.style;delete M.style;L=c(M,{stroke:"#68A",fill:{linearGradient:a,stops:[[0,"#FFF"],[1,"#ACF"]]}},L);D=L.style;delete L.style;e=c(M,{stroke:"#68A",fill:{linearGradient:a,stops:[[0,"#9BD"],[1,"#CDF"]]}},e);p=e.style;delete e.style;J=c(M,{style:{color:"#CCC"}},J);l=J.style;delete J.style;
T(f.element,Ja?"mouseover":"mouseenter",function(){3!==g&&f.attr(L).css(D)});T(f.element,Ja?"mouseout":"mouseleave",function(){3!==g&&(w=[M,L,e][g],k=[v,D,p][g],f.attr(w).css(k))});f.setState=function(a){(f.state=g=a)?2===a?f.attr(e).css(p):3===a&&f.attr(J).css(l):f.attr(M).css(v)};return f.on("click",function(){3!==g&&s.call(f)}).attr(M).css(b({cursor:"default"},v))},crispLine:function(a,d){a[1]===a[4]&&(a[1]=a[4]=E(a[1])-d%2/2);a[2]===a[5]&&(a[2]=a[5]=E(a[2])+d%2/2);return a},path:function(a){var d=
{fill:ca};k(a)?d.d=a:f(a)&&b(d,a);return this.createElement("path").attr(d)},circle:function(a,d,h){a=f(a)?a:{x:a,y:d,r:h};d=this.createElement("circle");d.xSetter=function(a){this.element.setAttribute("cx",a)};d.ySetter=function(a){this.element.setAttribute("cy",a)};return d.attr(a)},arc:function(a,d,h,s,b,c){f(a)&&(d=a.y,h=a.r,s=a.innerR,b=a.start,c=a.end,a=a.x);a=this.symbol("arc",a||0,d||0,h||0,h||0,{innerR:s||0,start:b||0,end:c||0});a.r=h;return a},rect:function(a,d,h,s,b,c){b=f(a)?a.r:b;var e=
this.createElement("rect");a=f(a)?a:a===G?{}:{x:a,y:d,width:F(h,0),height:F(s,0)};c!==G&&(a.strokeWidth=c,a=e.crisp(a));b&&(a.r=b);e.rSetter=function(a){A(this.element,{rx:a,ry:a})};return e.attr(a)},setSize:function(a,d,h){var b=this.alignedObjects,c=b.length;this.width=a;this.height=d;for(this.boxWrapper[p(h,!0)?"animate":"attr"]({width:a,height:d});c--;)b[c].align()},g:function(a){var d=this.createElement("g");return x(a)?d.attr({"class":"highcharts-"+a}):d},image:function(a,d,h,s,c){var e={preserveAspectRatio:ca};
1<arguments.length&&b(e,{x:d,y:h,width:s,height:c});e=this.createElement("image").attr(e);e.element.setAttributeNS?e.element.setAttributeNS("http://www.w3.org/1999/xlink","href",a):e.element.setAttribute("hc-svg-href",a);return e},symbol:function(a,d,h,s,c,e){var m,J=this.symbols[a],J=J&&J(E(d),E(h),s,c,e),n=/^url\((.*?)\)$/,f,g;J?(m=this.path(J),b(m,{symbolName:a,x:d,y:h,width:s,height:c}),e&&b(m,e)):n.test(a)&&(g=function(a,d){a.element&&(a.attr({width:d[0],height:d[1]}),a.alignByTranslate||a.translate(E((s-
d[0])/2),E((c-d[1])/2)))},f=a.match(n)[1],a=Gb[f],m=this.image(f).attr({x:d,y:h}),m.isImg=!0,a?g(m,a):(m.attr({width:0,height:0}),R("img",{onload:function(){g(m,Gb[f]=[this.width,this.height])},src:f})));return m},symbols:{circle:function(a,d,h,b){var c=0.166*h;return["M",a+h/2,d,"C",a+h+c,d,a+h+c,d+b,a+h/2,d+b,"C",a-c,d+b,a-c,d,a+h/2,d,"Z"]},square:function(a,d,h,b){return["M",a,d,"L",a+h,d,a+h,d+b,a,d+b,"Z"]},triangle:function(a,d,h,b){return["M",a+h/2,d,"L",a+h,d+b,a,d+b,"Z"]},"triangle-down":function(a,
d,h,b){return["M",a,d,"L",a+h,d,a+h/2,d+b,"Z"]},diamond:function(a,d,h,b){return["M",a+h/2,d,"L",a+h,d+b/2,a+h/2,d+b,a,d+b/2,"Z"]},arc:function(a,d,h,b,c){var e=c.start;h=c.r||h||b;var m=c.end-0.001;b=c.innerR;var J=c.open,n=na(e),f=sa(e),g=na(m),m=sa(m);c=c.end-e<xa?0:1;return["M",a+h*n,d+h*f,"A",h,h,0,c,1,a+h*g,d+h*m,J?"M":"L",a+b*g,d+b*m,"A",b,b,0,c,0,a+b*n,d+b*f,J?"":"Z"]},callout:function(a,d,h,b,c){var e=S(c&&c.r||0,h,b),m=e+6,J=c&&c.anchorX,n=c&&c.anchorY;c=E(c.strokeWidth||0)%2/2;a+=c;d+=
c;c=["M",a+e,d,"L",a+h-e,d,"C",a+h,d,a+h,d,a+h,d+e,"L",a+h,d+b-e,"C",a+h,d+b,a+h,d+b,a+h-e,d+b,"L",a+e,d+b,"C",a,d+b,a,d+b,a,d+b-e,"L",a,d+e,"C",a,d,a,d,a+e,d];J&&J>h&&n>d+m&&n<d+b-m?c.splice(13,3,"L",a+h,n-6,a+h+6,n,a+h,n+6,a+h,d+b-e):J&&0>J&&n>d+m&&n<d+b-m?c.splice(33,3,"L",a,n+6,a-6,n,a,n-6,a,d+e):n&&n>b&&J>a+m&&J<a+h-m?c.splice(23,3,"L",J+6,d+b,J,d+b+6,J-6,d+b,a+e,d+b):n&&0>n&&J>a+m&&J<a+h-m&&c.splice(3,3,"L",J-6,d,J,d-6,J+6,d,h-e,d);return c}},clipRect:function(a,d,h,b){var c="highcharts-"+tb++,
e=this.createElement("clipPath").attr({id:c}).add(this.defs);a=this.rect(a,d,h,b,0).add(e);a.id=c;a.clipPath=e;return a},text:function(a,d,h,b){var c=ta||!pa&&this.forExport,e={};if(b&&!this.forExport)return this.html(a,d,h);e.x=Math.round(d||0);h&&(e.y=Math.round(h));if(a||0===a)e.text=a;a=this.createElement("text").attr(e);c&&a.css({position:"absolute"});b||(a.xSetter=function(a,d,h){var b=h.childNodes,s,c;for(c=1;c<b.length;c++)s=b[c],s.getAttribute("x")===h.getAttribute("x")&&s.setAttribute("x",
a);h.setAttribute(d,a)});return a},fontMetrics:function(a){a=a||this.style.fontSize;a=/px/.test(a)?e(a):/em/.test(a)?12*parseFloat(a):12;a=24>a?a+4:E(1.2*a);var d=E(0.8*a);return{h:a,b:d}},label:function(a,d,h,s,M,e,m,J,n){function f(){var a,d;a=p.element.style;q=(void 0===A||void 0===z||v.styles.textAlign)&&p.textStr&&p.getBBox();v.width=(A||q.width||0)+2*u+F;v.height=(z||q.height||0)+2*u;db=u+k.fontMetrics(a&&a.fontSize).b;N&&(l||(a=E(-t*u),d=J?-db:0,v.box=l=s?k.symbol(s,a,d,v.width,v.height,O):
k.rect(a,d,v.width,v.height,0,O[Lb]),l.attr("fill",ca).add(v)),l.isImg||l.attr(b({width:E(v.width),height:E(v.height)},O)),O=null)}function g(){var a=v.styles,a=a&&a.textAlign,d=F+u*(1-t),h;h=J?0:db;x(A)&&q&&("center"===a||"right"===a)&&(d+={center:0.5,right:1}[a]*(A-q.width));if(d!==p.x||h!==p.y)p.attr("x",d),h!==G&&p.attr("y",h);p.x=d;p.y=h}function w(a,d){l?l.attr(a,d):O[a]=d}var k=this,v=k.g(n),p=k.text("",0,0,m).attr({zIndex:1}),l,q,t=0,u=3,F=0,A,z,B,C,K=0,O={},db,N;v.onAdd=function(){p.add(v);
v.attr({text:a||"",x:d,y:h});l&&x(M)&&v.attr({anchorX:M,anchorY:e})};v.widthSetter=function(a){A=a};v.heightSetter=function(a){z=a};v.paddingSetter=function(a){x(a)&&a!==u&&(u=a,g())};v.paddingLeftSetter=function(a){x(a)&&a!==F&&(F=a,g())};v.alignSetter=function(a){t={left:0,center:0.5,right:1}[a]};v.textSetter=function(a){a!==G&&p.textSetter(a);f();g()};v["stroke-widthSetter"]=function(a,d){a&&(N=!0);K=a%2/2;w(d,a)};v.strokeSetter=v.fillSetter=v.rSetter=function(a,d){"fill"===d&&a&&(N=!0);w(d,a)};
v.anchorXSetter=function(a,d){M=a;w(d,a+K-B)};v.anchorYSetter=function(a,d){e=a;w(d,a-C)};v.xSetter=function(a){v.x=a;t&&(a-=t*((A||q.width)+u));B=E(a);v.attr("translateX",B)};v.ySetter=function(a){C=v.y=E(a);v.attr("translateY",C)};var S=v.css;return b(v,{css:function(a){if(a){var d={};a=c(a);y("fontSize fontWeight fontFamily color lineHeight width textDecoration textShadow".split(" "),function(h){a[h]!==G&&(d[h]=a[h],delete a[h])});p.css(d)}return S.call(v,a)},getBBox:function(){return{width:q.width+
2*u,height:q.height+2*u,x:q.x-u,y:q.y-u}},shadow:function(a){l&&l.shadow(a);return v},destroy:function(){ia(v.element,"mouseenter");ia(v.element,"mouseleave");p&&(p=p.destroy());l&&(l=l.destroy());I.prototype.destroy.call(v);v=k=f=g=w=null}})}};$a=Ca;b(I.prototype,{htmlCss:function(a){var d=this.element;if(d=a&&"SPAN"===d.tagName&&a.width)delete a.width,this.textWidth=d,this.updateTransform();this.styles=b(this.styles,a);C(this.element,a);return this},htmlGetBBox:function(){var a=this.element,d=this.bBox;
d||("text"===a.nodeName&&(a.style.position="absolute"),d=this.bBox={x:a.offsetLeft,y:a.offsetTop,width:a.offsetWidth,height:a.offsetHeight});return d},htmlUpdateTransform:function(){if(this.added){var a=this.renderer,d=this.element,h=this.translateX||0,b=this.translateY||0,c=this.x||0,L=this.y||0,m=this.textAlign||"left",J={left:0,center:0.5,right:1}[m],f=this.shadows;C(d,{marginLeft:h,marginTop:b});f&&y(f,function(a){C(a,{marginLeft:h+1,marginTop:b+1})});this.inverted&&y(d.childNodes,function(h){a.invertChild(h,
d)});if("SPAN"===d.tagName){var g=this.rotation,H,w=e(this.textWidth),k=[g,m,d.innerHTML,this.textWidth].join();k!==this.cTT&&(H=a.fontMetrics(d.style.fontSize).b,x(g)&&this.setSpanRotation(g,J,H),f=p(this.elemWidth,d.offsetWidth),f>w&&/[ \-]/.test(d.textContent||d.innerText)&&(C(d,{width:w+"px",display:"block",whiteSpace:"normal"}),f=w),this.getSpanCorrection(f,H,J,g,m));C(d,{left:c+(this.xCorr||0)+"px",top:L+(this.yCorr||0)+"px"});kb&&(H=d.offsetHeight);this.cTT=k}}else this.alignOnAdd=!0},setSpanRotation:function(a,
d,h){var b={},c=Ja?"-ms-transform":kb?"-webkit-transform":Ua?"MozTransform":Eb?"-o-transform":"";b[c]=b.transform="rotate("+a+"deg)";b[c+(Ua?"Origin":"-origin")]=b.transformOrigin=100*d+"% "+h+"px";C(this.element,b)},getSpanCorrection:function(a,d,h){this.xCorr=-a*h;this.yCorr=-d}});b(Ca.prototype,{html:function(a,d,h){var s=this.createElement("span"),c=s.element,e=s.renderer;s.textSetter=function(a){a!==c.innerHTML&&delete this.bBox;c.innerHTML=this.textStr=a};s.xSetter=s.ySetter=s.alignSetter=s.rotationSetter=
function(a,d){"align"===d&&(d="textAlign");s[d]=a;s.htmlUpdateTransform()};s.attr({text:a,x:E(d),y:E(h)}).css({position:"absolute",whiteSpace:"nowrap",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize});s.css=s.htmlCss;e.isSVG&&(s.add=function(a){var d,h=e.box.parentNode,f=[];if(this.parentGroup=a){if(d=a.div,!d){for(;a;)f.push(a),a=a.parentGroup;y(f.reverse(),function(a){var s;d=a.div=a.div||R(Oa,{className:A(a.element,"class")},{position:"absolute",left:(a.translateX||0)+"px",top:(a.translateY||
0)+"px"},d||h);s=d.style;b(a,{translateXSetter:function(d,h){s.left=d+"px";a[h]=d;a.doTransform=!0},translateYSetter:function(d,h){s.top=d+"px";a[h]=d;a.doTransform=!0},visibilitySetter:function(a,d){s[d]=a}})})}}else d=h;d.appendChild(c);s.added=!0;s.alignOnAdd&&s.htmlUpdateTransform();return s});return s}});var ja;if(!pa&&!ta){da.VMLElement=ja={init:function(a,d){var h=["<",d,' filled="f" stroked="f"'],b=["position: ","absolute",";"],c=d===Oa;("shape"===d||c)&&b.push("left:0;top:0;width:1px;height:1px;");
b.push("visibility: ",c?"hidden":"visible");h.push(' style="',b.join(""),'"/>');d&&(h=c||"span"===d||"img"===d?h.join(""):a.prepVML(h),this.element=R(h));this.renderer=a},add:function(a){var d=this.renderer,h=this.element,b=d.box,b=a?a.element||a:b;a&&a.inverted&&d.invertChild(h,b);b.appendChild(h);this.added=!0;this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform();if(this.onAdd)this.onAdd();return this},updateTransform:I.prototype.htmlUpdateTransform,setSpanRotation:function(){var a=
this.rotation,d=na(a*Ka),h=sa(a*Ka);C(this.element,{filter:a?["progid:DXImageTransform.Microsoft.Matrix(M11=",d,", M12=",-h,", M21=",h,", M22=",d,", sizingMethod='auto expand')"].join(""):ca})},getSpanCorrection:function(a,d,h,b,c){var e=b?na(b*Ka):1,m=b?sa(b*Ka):0,f=p(this.elemHeight,this.element.offsetHeight),n;this.xCorr=0>e&&-a;this.yCorr=0>m&&-f;n=0>e*m;this.xCorr+=m*d*(n?1-h:h);this.yCorr-=e*d*(b?n?h:1-h:1);c&&"left"!==c&&(this.xCorr-=a*h*(0>e?-1:1),b&&(this.yCorr-=f*h*(0>m?-1:1)),C(this.element,
{textAlign:c}))},pathToVML:function(a){for(var d=a.length,h=[];d--;)l(a[d])?h[d]=E(10*a[d])-5:"Z"===a[d]?h[d]="x":(h[d]=a[d],!a.isArc||"wa"!==a[d]&&"at"!==a[d])||(h[d+5]===h[d+7]&&(h[d+7]+=a[d+7]>a[d+5]?1:-1),h[d+6]===h[d+8]&&(h[d+8]+=a[d+8]>a[d+6]?1:-1));return h.join(" ")||"x"},clip:function(a){var d=this,h;a?(h=a.members,u(h,d),h.push(d),d.destroyClip=function(){u(h,d)},a=a.getCSS(d)):(d.destroyClip&&d.destroyClip(),a={clip:jb?"inherit":"rect(auto)"});return d.css(a)},css:I.prototype.htmlCss,safeRemoveChild:function(a){a.parentNode&&
Ia(a)},destroy:function(){this.destroyClip&&this.destroyClip();return I.prototype.destroy.apply(this)},on:function(a,d){this.element["on"+a]=function(){var a=Q.event;a.target=a.srcElement;d(a)};return this},cutOffPath:function(a,d){var h;a=a.split(/[ ,]/);h=a.length;if(9===h||11===h)a[h-4]=a[h-2]=e(a[h-2])-10*d;return a.join(" ")},shadow:function(a,d,h){var b=[],c,L=this.element,m=this.renderer,f,n=L.style,g,k=L.path,w,Z,v,D;k&&"string"!==typeof k.value&&(k="x");Z=k;if(a){v=p(a.width,3);D=(a.opacity||
0.15)/v;for(c=1;3>=c;c++)w=2*v+1-2*c,h&&(Z=this.cutOffPath(k.value,w+0.5)),g=['<shape isShadow="true" strokeweight="',w,'" filled="false" path="',Z,'" coordsize="10 10" style="',L.style.cssText,'" />'],f=R(m.prepVML(g),null,{left:e(n.left)+p(a.offsetX,1),top:e(n.top)+p(a.offsetY,1)}),h&&(f.cutOff=w+1),g=['<stroke color="',a.color||"black",'" opacity="',D*c,'"/>'],R(m.prepVML(g),null,null,f),d?d.element.appendChild(f):L.parentNode.insertBefore(f,L),b.push(f);this.shadows=b}return this},updateShadows:Ba,
setAttr:function(a,d){jb?this.element[a]=d:this.element.setAttribute(a,d)},classSetter:function(a){this.element.className=a},dashstyleSetter:function(a,d,h){(h.getElementsByTagName("stroke")[0]||R(this.renderer.prepVML(["<stroke/>"]),null,null,h))[d]=a||"solid";this[d]=a},dSetter:function(a,d,h){var b=this.shadows;a=a||[];this.d=a.join(" ");h.path=a=this.pathToVML(a);if(b)for(h=b.length;h--;)b[h].path=b[h].cutOff?this.cutOffPath(a,b[h].cutOff):a;this.setAttr(d,a)},fillSetter:function(a,d,h){var b=
h.nodeName;"SPAN"===b?h.style.color=a:"IMG"!==b&&(h.filled=a!==ca,this.setAttr("fillcolor",this.renderer.color(a,h,d,this)))},opacitySetter:Ba,rotationSetter:function(a,d,h){h=h.style;this[d]=h[d]=a;h.left=-E(sa(a*Ka)+1)+"px";h.top=E(na(a*Ka))+"px"},strokeSetter:function(a,d,h){this.setAttr("strokecolor",this.renderer.color(a,h,d))},"stroke-widthSetter":function(a,d,h){h.stroked=!!a;this[d]=a;l(a)&&(a+="px");this.setAttr("strokeweight",a)},titleSetter:function(a,d){this.setAttr(d,a)},visibilitySetter:function(a,
d,h){"inherit"===a&&(a="visible");this.shadows&&y(this.shadows,function(h){h.style[d]=a});"DIV"===h.nodeName&&(a="hidden"===a?"-999em":0,jb||(h.style[d]=a?"visible":"hidden"),d="top");h.style[d]=a},xSetter:function(a,d,h){this[d]=a;"x"===d?d="left":"y"===d&&(d="top");this.updateClipping?(this[d]=a,this.updateClipping()):h.style[d]=a},zIndexSetter:function(a,d,h){h.style[d]=a}};ja=ba(I,ja);ja.prototype.ySetter=ja.prototype.widthSetter=ja.prototype.heightSetter=ja.prototype.xSetter;var ua={Element:ja,
isIE8:-1<Fa.indexOf("MSIE 8.0"),init:function(a,d,h,s){var c;this.alignedObjects=[];s=this.createElement(Oa).css(b(this.getStyle(s),{position:"relative"}));c=s.element;a.appendChild(s.element);this.isVML=!0;this.box=c;this.boxWrapper=s;this.cache={};this.setSize(d,h,!1);if(!K.namespaces.hcv){K.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{K.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(e){K.styleSheets[0].cssText+=
"hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(a,d,h,s){var c=this.createElement(),e=f(a);return b(c,{members:[],left:(e?a.x:a)+1,top:(e?a.y:d)+1,width:(e?a.width:h)-1,height:(e?a.height:s)-1,getCSS:function(a){var d=a.element,h=d.nodeName;a=a.inverted;var s=this.top-("shape"===h?d.offsetTop:0),c=this.left,d=c+this.width,M=s+this.height,s={clip:"rect("+E(a?c:s)+"px,"+E(a?
M:d)+"px,"+E(a?d:M)+"px,"+E(a?s:c)+"px)"};!a&&jb&&"DIV"===h&&b(s,{width:d+"px",height:M+"px"});return s},updateClipping:function(){y(c.members,function(a){a.element&&a.css(c.getCSS(a))})}})},color:function(a,d,h,b){var c=this,e,m=/^rgba/,f,n,g=ca;a&&a.linearGradient?n="gradient":a&&a.radialGradient&&(n="pattern");if(n){var k,w,p=a.linearGradient||a.radialGradient,v,D,l,q,t,u="";a=a.stops;var x,A=[],F=function(){f=['<fill colors="'+A.join(",")+'" opacity="',l,'" o:opacity2="',D,'" type="',n,'" ',u,
'focus="100%" method="any" />'];R(c.prepVML(f),null,null,d)};v=a[0];x=a[a.length-1];0<v[0]&&a.unshift([0,v[1]]);1>x[0]&&a.push([1,x[1]]);y(a,function(a,d){m.test(a[1])?(e=Ha(a[1]),k=e.get("rgb"),w=e.get("a")):(k=a[1],w=1);A.push(100*a[0]+"% "+k);d?(l=w,q=k):(D=w,t=k)});if("fill"===h)if("gradient"===n)h=p.x1||p[0]||0,a=p.y1||p[1]||0,v=p.x2||p[2]||0,p=p.y2||p[3]||0,u='angle="'+(90-180*ga.atan((p-a)/(v-h))/xa)+'"',F();else{var g=p.r,z=2*g,B=2*g,C=p.cx,O=p.cy,G=d.radialReference,E,g=function(){G&&(E=
b.getBBox(),C+=(G[0]-E.x)/E.width-0.5,O+=(G[1]-E.y)/E.height-0.5,z*=G[2]/E.width,B*=G[2]/E.height);u='src="'+X.global.VMLRadialGradientURL+'" size="'+z+","+B+'" origin="0.5,0.5" position="'+C+","+O+'" color2="'+t+'" ';F()};b.added?g():b.onAdd=g;g=q}else g=k}else m.test(a)&&"IMG"!==d.tagName?(e=Ha(a),f=["<",h,' opacity="',e.get("a"),'"/>'],R(this.prepVML(f),null,null,d),g=e.get("rgb")):(g=d.getElementsByTagName(h),g.length&&(g[0].opacity=1,g[0].type="solid"),g=a);return g},prepVML:function(a){var d=
this.isIE8;a=a.join("");d?(a=a.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),a=-1===a.indexOf('style="')?a.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):a.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):a=a.replace("<","<hcv:");return a},text:Ca.prototype.html,path:function(a){var d={coordsize:"10 10"};k(a)?d.d=a:f(a)&&b(d,a);return this.createElement("shape").attr(d)},circle:function(a,d,h){var b=this.symbol("circle");f(a)&&
(h=a.r,d=a.y,a=a.x);b.isCircle=!0;b.r=h;return b.attr({x:a,y:d})},g:function(a){var d;a&&(d={className:"highcharts-"+a,"class":"highcharts-"+a});return this.createElement(Oa).attr(d)},image:function(a,d,h,b,c){var e=this.createElement("img").attr({src:a});1<arguments.length&&e.attr({x:d,y:h,width:b,height:c});return e},createElement:function(a){return"rect"===a?this.symbol(a):Ca.prototype.createElement.call(this,a)},invertChild:function(a,d){var h=this,b=d.style,c="IMG"===a.tagName&&a.style;C(a,{flip:"x",
left:e(b.width)-(c?e(c.top):1),top:e(b.height)-(c?e(c.left):1),rotation:-90});y(a.childNodes,function(d){h.invertChild(d,a)})},symbols:{arc:function(a,d,h,b,c){var e=c.start,m=c.end,f=c.r||h||b;h=c.innerR;b=na(e);var n=sa(e),g=na(m),k=sa(m);if(0===m-e)return["x"];e=["wa",a-f,d-f,a+f,d+f,a+f*b,d+f*n,a+f*g,d+f*k];c.open&&!h&&e.push("e","M",a,d);e.push("at",a-h,d-h,a+h,d+h,a+h*g,d+h*k,a+h*b,d+h*n,"x","e");e.isArc=!0;return e},circle:function(a,d,h,b,c){c&&(h=b=2*c.r);c&&c.isCircle&&(a-=h/2,d-=b/2);return["wa",
a,d,a+h,d+b,a+h,d+b/2,a+h,d+b/2,"e"]},rect:function(a,d,h,b,c){return Ca.prototype.symbols[x(c)&&c.r?"callout":"square"].call(0,a,d,h,b,c)}}};da.VMLRenderer=ja=function(){this.init.apply(this,arguments)};ja.prototype=c(Ca.prototype,ua);$a=ja}Ca.prototype.measureSpanWidth=function(a,d){var h=K.createElement("span"),b;b=K.createTextNode(a);h.appendChild(b);C(h,d);this.box.appendChild(h);b=h.offsetWidth;Ia(h);return b};var Hb;ta&&(da.CanVGRenderer=ja=function(){Ga="http://www.w3.org/1999/xhtml"},ja.prototype.symbols=
{},Hb=function(){function a(){var a=d.length,b;for(b=0;b<a;b++)d[b]();d=[]}var d=[];return{push:function(h,b){0===d.length&&Mb(b,a);d.push(h)}}}(),$a=ja);U.prototype={addLabel:function(){var a=this.axis,d=a.options,h=a.chart,s=a.horiz,c=a.categories,e=a.names,m=this.pos,f=d.labels,n=a.tickPositions,s=s&&c&&!f.step&&!f.staggerLines&&!f.rotation&&h.plotWidth/n.length||!s&&(h.margin[3]||0.33*h.chartWidth),g=m===n[0],k=m===n[n.length-1],w,e=c?p(c[m],e[m],m):m,c=this.label,Z=n.info;a.isDatetimeAxis&&Z&&
(w=d.dateTimeLabelFormats[Z.higherRanks[m]||Z.unitName]);this.isFirst=g;this.isLast=k;d=a.labelFormatter.call({axis:a,chart:h,isFirst:g,isLast:k,dateTimeLabelFormat:w,value:a.isLog?la(t(e)):e});m=s&&{width:F(1,E(s-2*(f.padding||10)))+"px"};m=b(m,f.style);x(c)?c&&c.attr({text:d}).css(m):(w={align:a.labelAlign},l(f.rotation)&&(w.rotation=f.rotation),s&&f.ellipsis&&(w._clipHeight=a.len/n.length),this.label=x(d)&&f.enabled?h.renderer.text(d,0,0,f.useHTML).attr(w).css(m).add(a.labelGroup):null)},getLabelSize:function(){var a=
this.label,d=this.axis;return a?a.getBBox()[d.horiz?"height":"width"]:0},getLabelSides:function(){var a=this.label.getBBox(),d=this.axis,h=d.horiz,b=d.options.labels,a=h?a.width:a.height,d=h?b.x-a*{left:0,center:0.5,right:1}[d.labelAlign]:0;return[d,h?a+d:a]},handleOverflow:function(a,d){var h=!0,b=this.axis,c=this.isFirst,e=this.isLast,m=b.horiz?d.x:d.y,f=b.reversed,n=b.tickPositions,g=this.getLabelSides(),k=g[0],g=g[1],w,p,v,D=this.label.line||0;w=b.labelEdge;p=b.justifyLabels&&(c||e);w[D]===G||
m+k>w[D]?w[D]=m+g:p||(h=!1);if(p){w=(p=b.justifyToPlot)?b.pos:0;p=p?w+b.len:b.chart.chartWidth;do a+=c?1:-1,v=b.ticks[n[a]];while(n[a]&&(!v||v.label.line!==D));b=v&&v.label.xy&&v.label.xy.x+v.getLabelSides()[c?0:1];c&&!f||e&&f?m+k<w&&(m=w-k,v&&m+g>b&&(h=!1)):m+g>p&&(m=p-g,v&&m+k<b&&(h=!1));d.x=m}return h},getPosition:function(a,d,h,b){var c=this.axis,e=c.chart,m=b&&e.oldChartHeight||e.chartHeight;return{x:a?c.translate(d+h,null,null,b)+c.transB:c.left+c.offset+(c.opposite?(b&&e.oldChartWidth||e.chartWidth)-
c.right-c.left:0),y:a?m-c.bottom+c.offset-(c.opposite?c.height:0):m-c.translate(d+h,null,null,b)-c.transB}},getLabelPosition:function(a,d,h,b,c,e,m,f){var n=this.axis,g=n.transA,k=n.reversed,w=n.staggerLines,p=n.chart.renderer.fontMetrics(c.style.fontSize).b,v=c.rotation;a=a+c.x-(e&&b?e*g*(k?-1:1):0);d=d+c.y-(e&&!b?e*g*(k?1:-1):0);v&&2===n.side&&(d-=p-p*na(v*Ka));x(c.y)||v||(d+=p-h.getBBox().height/2);w&&(h.line=m/(f||1)%w,d+=n.labelOffset/w*h.line);return{x:a,y:d}},getMarkPath:function(a,d,h,b,c,
e){return e.crispLine(["M",a,d,"L",a+(c?0:-h),d+(c?h:0)],b)},render:function(a,d,h){var b=this.axis,c=b.options,e=b.chart.renderer,m=b.horiz,f=this.type,g=this.label,k=this.pos,H=c.labels,w=this.gridLine,l=f?f+"Grid":"grid",v=f?f+"Tick":"tick",D=c[l+"LineWidth"],q=c[l+"LineColor"],t=c[l+"LineDashStyle"],u=c[v+"Length"],l=c[v+"Width"]||0,x=c[v+"Color"],y=c[v+"Position"],v=this.mark,A=H.step,F=!0,E=b.tickmarkOffset,z=this.getPosition(m,k,E,d),B=z.x,z=z.y,O=m&&B===b.pos+b.len||!m&&z===b.pos?-1:1;this.isActive=
!0;if(D&&(k=b.getPlotLinePath(k+E,D*O,d,!0),w===G&&(w={stroke:q,"stroke-width":D},t&&(w.dashstyle=t),f||(w.zIndex=1),d&&(w.opacity=0),this.gridLine=w=D?e.path(k).attr(w).add(b.gridGroup):null),!d&&w&&k))w[this.isNew?"attr":"animate"]({d:k,opacity:h});l&&u&&("inside"===y&&(u=-u),b.opposite&&(u=-u),f=this.getMarkPath(B,z,u,l*O,m,e),v?v.animate({d:f,opacity:h}):this.mark=e.path(f).attr({stroke:x,"stroke-width":l,opacity:h}).add(b.axisGroup));g&&!isNaN(B)&&(g.xy=z=this.getLabelPosition(B,z,g,m,H,E,a,
A),this.isFirst&&!this.isLast&&!p(c.showFirstLabel,1)||this.isLast&&!this.isFirst&&!p(c.showLastLabel,1)?F=!1:b.isRadial||H.step||H.rotation||d||0===h||(F=this.handleOverflow(a,z)),A&&a%A&&(F=!1),F&&!isNaN(z.y)?(z.opacity=h,g[this.isNew?"attr":"animate"](z),this.isNew=!1):g.attr("y",-9999))},destroy:function(){Ra(this,this.axis)}};da.PlotLineOrBand=function(a,d){this.axis=a;d&&(this.options=d,this.id=d.id)};da.PlotLineOrBand.prototype={render:function(){var a=this,d=a.axis,h=d.horiz,b=(d.pointRange||
0)/2,e=a.options,L=e.label,m=a.label,f=e.width,g=e.to,k=e.from,H=x(k)&&x(g),w=e.value,l=e.dashStyle,v=a.svgElem,D=[],u,t=e.color,y=e.zIndex,z=e.events,A={},E=d.chart.renderer;d.isLog&&(k=q(k),g=q(g),w=q(w));if(f){if(D=d.getPlotLinePath(w,f),A={stroke:t,"stroke-width":f},l)A.dashstyle=l}else if(H)k=F(k,d.min-b),g=S(g,d.max+b),D=d.getPlotBandPath(k,g,e),t&&(A.fill=t),e.borderWidth&&(A.stroke=e.borderColor,A["stroke-width"]=e.borderWidth);else return;x(y)&&(A.zIndex=y);if(v)if(D)v.animate({d:D},null,
v.onGetPath);else{if(v.hide(),v.onGetPath=function(){v.show()},m)a.label=m=m.destroy()}else if(D&&D.length&&(a.svgElem=v=E.path(D).attr(A).add(),z))for(u in b=function(d){v.on(d,function(h){z[d].apply(a,[h])})},z)b(u);L&&x(L.text)&&D&&D.length&&0<d.width&&0<d.height?(L=c({align:h&&H&&"center",x:h?!H&&4:10,verticalAlign:!h&&H&&"middle",y:h?H?16:10:H?6:-4,rotation:h&&!H&&90},L),m||(A={align:L.textAlign||L.align,rotation:L.rotation},x(y)&&(A.zIndex=y),a.label=m=E.text(L.text,0,0,L.useHTML).attr(A).css(L.style).add()),
d=[D[1],D[4],p(D[6],D[1])],D=[D[2],D[5],p(D[7],D[2])],h=Qa(d),H=Qa(D),m.align(L,!1,{x:h,y:H,width:Aa(d)-h,height:Aa(D)-H}),m.show()):m&&m.hide();return a},destroy:function(){u(this.axis.plotLinesAndBands,this);delete this.axis;Ra(this)}};ma.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:W,lineColor:"#C0D0E0",lineWidth:1,minPadding:0.01,
maxPadding:0.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:0.05,minPadding:0.05,startOnTick:!0,
tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return ka(this.total,-1)},style:W.style}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{x:0,y:20},title:{rotation:0}},defaultTopAxisOptions:{labels:{x:0,y:-15},title:{rotation:0}},init:function(a,d){var h=d.isX;this.horiz=a.inverted?!h:h;this.coll=(this.isXAxis=h)?"xAxis":"yAxis";this.opposite=
d.opposite;this.side=d.side||(this.horiz?this.opposite?0:2:this.opposite?1:3);this.setOptions(d);var b=this.options,c=b.type;this.labelFormatter=b.labels.formatter||this.defaultLabelFormatter;this.userOptions=d;this.minPixelPadding=0;this.chart=a;this.reversed=b.reversed;this.zoomEnabled=!1!==b.zoomEnabled;this.categories=b.categories||"category"===c;this.names=[];this.isLog="logarithmic"===c;this.isDatetimeAxis="datetime"===c;this.isLinked=x(b.linkedTo);this.tickmarkOffset=this.categories&&"between"===
b.tickmarkPlacement?0.5:0;this.ticks={};this.labelEdge=[];this.minorTicks={};this.plotLinesAndBands=[];this.alternateBands={};this.len=0;this.minRange=this.userMinRange=b.minRange||b.maxZoom;this.range=b.range;this.offset=b.offset||0;this.stacks={};this.oldStacks={};this.min=this.max=null;this.crosshair=p(b.crosshair,B(a.options.tooltip.crosshairs)[h?0:1],!1);var e,b=this.options.events;-1===La(this,a.axes)&&(h&&!this.isColorAxis?a.axes.splice(a.xAxis.length,0,this):a.axes.push(this),a[this.coll].push(this));
this.series=this.series||[];a.inverted&&h&&this.reversed===G&&(this.reversed=!0);this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(e in b)T(this,e,b[e]);this.isLog&&(this.val2lin=q,this.lin2val=t)},setOptions:function(a){this.options=c(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],c(X[this.coll],a))},defaultLabelFormatter:function(){var a=
this.axis,d=this.value,h=a.categories,b=this.dateTimeLabelFormat,c=X.lang.numericSymbols,e=c&&c.length,m,f=a.options.labels.format,a=a.isLog?d:a.tickInterval;if(f)m=va(f,this);else if(h)m=d;else if(b)m=eb(b,d);else if(e&&1E3<=a)for(;e--&&m===G;)h=Math.pow(1E3,e+1),a>=h&&null!==c[e]&&(m=ka(d/h,-1)+c[e]);m===G&&(m=1E4<=Y(d)?ka(d,0):ka(d,-1,G,""));return m},getSeriesExtremes:function(){var a=this,d=a.chart;a.hasVisibleSeries=!1;a.dataMin=a.dataMax=null;a.buildStacks&&a.buildStacks();y(a.series,function(h){if(h.visible||
!d.options.chart.ignoreHiddenSeries){var b;b=h.options.threshold;var c;a.hasVisibleSeries=!0;a.isLog&&0>=b&&(b=null);if(a.isXAxis){if(b=h.xData,b.length)a.dataMin=S(p(a.dataMin,b[0]),Qa(b)),a.dataMax=F(p(a.dataMax,b[0]),Aa(b))}else h.getExtremes(),c=h.dataMax,h=h.dataMin,x(h)&&x(c)&&(a.dataMin=S(p(a.dataMin,h),h),a.dataMax=F(p(a.dataMax,c),c)),x(b)&&(a.dataMin>=b?(a.dataMin=b,a.ignoreMinPadding=!0):a.dataMax<b&&(a.dataMax=b,a.ignoreMaxPadding=!0))}})},translate:function(a,d,h,b,c,e){var m=1,f=0,g=
b?this.oldTransA:this.transA;b=b?this.oldMin:this.min;var k=this.minPixelPadding;c=(this.options.ordinal||this.isLog&&c)&&this.lin2val;g||(g=this.transA);h&&(m*=-1,f=this.len);this.reversed&&(m*=-1,f-=m*(this.sector||this.len));d?(a=a*m+f,a-=k,a=a/g+b,c&&(a=this.lin2val(a))):(c&&(a=this.val2lin(a)),"between"===e&&(e=0.5),a=m*(a-b)*g+f+m*k+(l(e)?g*e*this.pointRange:0));return a},toPixels:function(a,d){return this.translate(a,!1,!this.horiz,null,!0)+(d?0:this.pos)},toValue:function(a,d){return this.translate(a-
(d?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(a,d,h,b,c){var e=this.chart,m=this.left,f=this.top,g,k,H=h&&e.oldChartHeight||e.chartHeight,w=h&&e.oldChartWidth||e.chartWidth,l;g=this.transB;c=p(c,this.translate(a,null,null,h));a=h=E(c+g);g=k=E(H-c-g);if(isNaN(c))l=!0;else if(this.horiz){if(g=f,k=H-this.bottom,a<m||a>m+this.width)l=!0}else if(a=m,h=w-this.right,g<f||g>f+this.height)l=!0;return l&&!b?null:e.renderer.crispLine(["M",a,g,"L",h,k],d||1)},getLinearTickPositions:function(a,
d,h){var b,c=la(fa(d/a)*a),e=la(Pa(h/a)*a),m=[];if(d===h&&l(d))return[d];for(d=c;d<=e;){m.push(d);d=la(d+a);if(d===b)break;b=d}return m},getMinorTickPositions:function(){var a=this.options,d=this.tickPositions,h=this.minorTickInterval,b=[],c;if(this.isLog)for(c=d.length,a=1;a<c;a++)b=b.concat(this.getLogTickPositions(h,d[a-1],d[a],!0));else if(this.isDatetimeAxis&&"auto"===a.minorTickInterval)b=b.concat(this.getTimeTicks(this.normalizeTimeTickInterval(h),this.min,this.max,a.startOfWeek)),b[0]<this.min&&
b.shift();else for(d=this.min+(d[0]-this.min)%h;d<=this.max;d+=h)b.push(d);return b},adjustForMinRange:function(){var a=this.options,d=this.min,h=this.max,b,c=this.dataMax-this.dataMin>=this.minRange,e,m,f,g;this.isXAxis&&this.minRange===G&&!this.isLog&&(x(a.min)||x(a.max)?this.minRange=null:(y(this.series,function(a){g=a.xData;for(m=a.xIncrement?1:g.length-1;0<m;m--)if(f=g[m]-g[m-1],e===G||f<e)e=f}),this.minRange=S(5*e,this.dataMax-this.dataMin)));if(h-d<this.minRange){var k=this.minRange;b=(k-h+
d)/2;b=[d-b,p(a.min,d-b)];c&&(b[2]=this.dataMin);d=Aa(b);h=[d+k,p(a.max,d+k)];c&&(h[2]=this.dataMax);h=Qa(h);h-d<k&&(b[0]=h-k,b[1]=p(a.min,h-k),d=Aa(b))}this.min=d;this.max=h},setAxisTranslation:function(a){var d=this,h=d.max-d.min,b=d.axisPointRange||0,c,e=0,m=0,f=d.linkedParent,n=!!d.categories,k=d.transA;if(d.isXAxis||n||b)f?(e=f.minPointOffset,m=f.pointRangePadding):y(d.series,function(a){var f=n?1:d.isXAxis?a.pointRange:d.axisPointRange||0,J=a.options.pointPlacement,k=a.closestPointRange;f>h&&
(f=0);b=F(b,f);e=F(e,g(J)?0:f/2);m=F(m,"on"===J?0:f);!a.noSharedTooltip&&x(k)&&(c=x(c)?S(c,k):k)}),f=d.ordinalSlope&&c?d.ordinalSlope/c:1,d.minPointOffset=e*=f,d.pointRangePadding=m*=f,d.pointRange=S(b,h),d.closestPointRange=c;a&&(d.oldTransA=k);d.translationSlope=d.transA=k=d.len/(h+m||1);d.transB=d.horiz?d.left:d.bottom;d.minPixelPadding=k*e},setTickPositions:function(a){var d=this,h=d.chart,b=d.options,c=d.isLog,e=d.isDatetimeAxis,m=d.isXAxis,f=d.isLinked,g=d.options.tickPositioner,k=b.maxPadding,
H=b.minPadding,w=b.tickInterval,Z=b.minTickInterval,v=b.tickPixelInterval,D,t=d.categories;f?(d.linkedParent=h[d.coll][b.linkedTo],h=d.linkedParent.getExtremes(),d.min=p(h.min,h.dataMin),d.max=p(h.max,h.dataMax),b.type!==d.linkedParent.options.type&&oa(11,1)):(d.min=p(d.userMin,b.min,d.dataMin),d.max=p(d.userMax,b.max,d.dataMax));c&&(!a&&0>=S(d.min,p(d.dataMin,d.min))&&oa(10,1),d.min=la(q(d.min)),d.max=la(q(d.max)));d.range&&x(d.max)&&(d.userMin=d.min=F(d.min,d.max-d.range),d.userMax=d.max,d.range=
null);d.beforePadding&&d.beforePadding();d.adjustForMinRange();t||d.axisPointRange||d.usePercentage||f||!x(d.min)||!x(d.max)||!(h=d.max-d.min)||(x(b.min)||x(d.userMin)||!H||!(0>d.dataMin)&&d.ignoreMinPadding||(d.min-=h*H),x(b.max)||x(d.userMax)||!k||!(0<d.dataMax)&&d.ignoreMaxPadding||(d.max+=h*k));l(b.floor)&&(d.min=F(d.min,b.floor));l(b.ceiling)&&(d.max=S(d.max,b.ceiling));d.min===d.max||void 0===d.min||void 0===d.max?d.tickInterval=1:f&&!w&&v===d.linkedParent.options.tickPixelInterval?d.tickInterval=
d.linkedParent.tickInterval:(d.tickInterval=p(w,t?1:(d.max-d.min)*v/F(d.len,v)),!x(w)&&d.len<v&&!this.isRadial&&!this.isLog&&!t&&b.startOnTick&&b.endOnTick&&(D=!0,d.tickInterval/=4));m&&!a&&y(d.series,function(a){a.processData(d.min!==d.oldMin||d.max!==d.oldMax)});d.setAxisTranslation(!0);d.beforeSetTickPositions&&d.beforeSetTickPositions();d.postProcessTickInterval&&(d.tickInterval=d.postProcessTickInterval(d.tickInterval));d.pointRange&&(d.tickInterval=F(d.pointRange,d.tickInterval));!w&&d.tickInterval<
Z&&(d.tickInterval=Z);e||c||w||(d.tickInterval=Na(d.tickInterval,null,wa(d.tickInterval),b));d.minorTickInterval="auto"===b.minorTickInterval&&d.tickInterval?d.tickInterval/5:b.minorTickInterval;d.tickPositions=a=b.tickPositions?[].concat(b.tickPositions):g&&g.apply(d,[d.min,d.max]);a||(!d.ordinalPositions&&(d.max-d.min)/d.tickInterval>F(2*d.len,200)&&oa(19,!0),a=e?d.getTimeTicks(d.normalizeTimeTickInterval(d.tickInterval,b.units),d.min,d.max,b.startOfWeek,d.ordinalPositions,d.closestPointRange,!0):
c?d.getLogTickPositions(d.tickInterval,d.min,d.max):d.getLinearTickPositions(d.tickInterval,d.min,d.max),D&&a.splice(1,a.length-2),d.tickPositions=a);f||(c=a[0],e=a[a.length-1],f=d.minPointOffset||0,b.startOnTick?d.min=c:d.min-f>c&&a.shift(),b.endOnTick?d.max=e:d.max+f<e&&a.pop(),1===a.length&&(b=1E13<Y(d.max)?1:0.001,d.min-=b,d.max+=b))},setMaxTicks:function(){var a=this.chart,d=a.maxTicks||{},b=this.tickPositions,c=this._maxTicksKey=[this.coll,this.pos,this.len].join("-");!this.isLinked&&!this.isDatetimeAxis&&
b&&b.length>(d[c]||0)&&!1!==this.options.alignTicks&&(d[c]=b.length);a.maxTicks=d},adjustTickAmount:function(){var a=this._maxTicksKey,d=this.tickPositions,b=this.chart.maxTicks;if(b&&b[a]&&!this.isDatetimeAxis&&!this.categories&&!this.isLinked&&!1!==this.options.alignTicks&&this.min!==G){var c=this.tickAmount,e=d.length;this.tickAmount=a=b[a];if(e<a){for(;d.length<a;)d.push(la(d[d.length-1]+this.tickInterval));this.transA*=(e-1)/(a-1);this.max=d[d.length-1]}x(c)&&a!==c&&(this.isDirty=!0)}},setScale:function(){var a=
this.stacks,d,b,c,e;this.oldMin=this.min;this.oldMax=this.max;this.oldAxisLength=this.len;this.setAxisSize();e=this.len!==this.oldAxisLength;y(this.series,function(a){if(a.isDirtyData||a.isDirty||a.xAxis.isDirty)c=!0});if(e||c||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax){if(!this.isXAxis)for(d in a)for(b in a[d])a[d][b].total=null,a[d][b].cum=0;this.forceRedraw=!1;this.getSeriesExtremes();this.setTickPositions();this.oldUserMin=this.userMin;this.oldUserMax=
this.userMax;this.isDirty||(this.isDirty=e||this.min!==this.oldMin||this.max!==this.oldMax)}else if(!this.isXAxis)for(d in this.oldStacks&&(a=this.stacks=this.oldStacks),a)for(b in a[d])a[d][b].cum=a[d][b].total;this.setMaxTicks()},setExtremes:function(a,d,h,c,e){var f=this,m=f.chart;h=p(h,!0);e=b(e,{min:a,max:d});P(f,"setExtremes",e,function(){f.userMin=a;f.userMax=d;f.eventArgs=e;f.isDirtyExtremes=!0;h&&m.redraw(c)})},zoom:function(a,d){var b=this.dataMin,c=this.dataMax,e=this.options;this.allowZoomOutside||
(x(b)&&a<=S(b,p(e.min,b))&&(a=G),x(c)&&d>=F(c,p(e.max,c))&&(d=G));this.displayBtn=a!==G||d!==G;this.setExtremes(a,d,!1,G,{trigger:"zoom"});return!0},setAxisSize:function(){var a=this.chart,d=this.options,b=d.offsetLeft||0,c=this.horiz,e=p(d.width,a.plotWidth-b+(d.offsetRight||0)),f=p(d.height,a.plotHeight),m=p(d.top,a.plotTop),d=p(d.left,a.plotLeft+b),b=/%$/;b.test(f)&&(f=parseInt(f,10)/100*a.plotHeight);b.test(m)&&(m=parseInt(m,10)/100*a.plotHeight+a.plotTop);this.left=d;this.top=m;this.width=e;
this.height=f;this.bottom=a.chartHeight-f-m;this.right=a.chartWidth-e-d;this.len=F(c?e:f,0);this.pos=c?d:m},getExtremes:function(){var a=this.isLog;return{min:a?la(t(this.min)):this.min,max:a?la(t(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(a){var d=this.isLog,b=d?t(this.min):this.min,d=d?t(this.max):this.max;b>a||null===a?a=b:d<a&&(a=d);return this.translate(a,0,1,0,1)},autoLabelAlign:function(a){a=(p(a,0)-90*this.side+
720)%360;return 15<a&&165>a?"right":195<a&&345>a?"left":"center"},getOffset:function(){var a=this,d=a.chart,b=d.renderer,c=a.options,e=a.tickPositions,f=a.ticks,m=a.horiz,g=a.side,n=d.inverted?[1,0,3,2][g]:g,k,H=0,w,l=0,v=c.title,D=c.labels,q=0,t=d.axisOffset,u=d.clipOffset,A=[-1,1,1,-1][g],z,E=1,B=p(D.maxStaggerLines,5),C,K,I,O,db=2===g?b.fontMetrics(D.style.fontSize).b:0;a.hasData=k=a.hasVisibleSeries||x(a.min)&&x(a.max)&&!!e;a.showAxis=d=k||p(c.showEmpty,!0);a.staggerLines=a.horiz&&D.staggerLines;
a.axisGroup||(a.gridGroup=b.g("grid").attr({zIndex:c.gridZIndex||1}).add(),a.axisGroup=b.g("axis").attr({zIndex:c.zIndex||2}).add(),a.labelGroup=b.g("axis-labels").attr({zIndex:D.zIndex||7}).addClass("highcharts-"+a.coll.toLowerCase()+"-labels").add());if(k||a.isLinked){a.labelAlign=p(D.align||a.autoLabelAlign(D.rotation));y(e,function(d){f[d]?f[d].addLabel():f[d]=new U(a,d)});if(a.horiz&&!a.staggerLines&&B&&!D.rotation){for(z=a.reversed?[].concat(e).reverse():e;E<B;){k=[];C=!1;for(D=0;D<z.length;D++)K=
z[D],I=(I=f[K].label&&f[K].label.getBBox())?I.width:0,O=D%E,I&&(K=a.translate(K),k[O]!==G&&K<k[O]&&(C=!0),k[O]=K+I);if(C)E++;else break}1<E&&(a.staggerLines=E)}y(e,function(d){if(0===g||2===g||{1:"left",3:"right"}[g]===a.labelAlign)q=F(f[d].getLabelSize(),q)});a.staggerLines&&(q*=a.staggerLines,a.labelOffset=q)}else for(z in f)f[z].destroy(),delete f[z];v&&v.text&&!1!==v.enabled&&(a.axisTitle||(a.axisTitle=b.text(v.text,0,0,v.useHTML).attr({zIndex:7,rotation:v.rotation||0,align:v.textAlign||{low:"left",
middle:"center",high:"right"}[v.align]}).addClass("highcharts-"+this.coll.toLowerCase()+"-title").css(v.style).add(a.axisGroup),a.axisTitle.isNew=!0),d&&(H=a.axisTitle.getBBox()[m?"height":"width"],l=p(v.margin,m?5:10),w=v.offset),a.axisTitle[d?"show":"hide"]());a.offset=A*p(c.offset,t[g]);a.axisTitleMargin=p(w,q+l+(q&&A*c.labels[m?"y":"x"]-db));t[g]=F(t[g],a.axisTitleMargin+H+A*a.offset);u[n]=F(u[n],2*fa(c.lineWidth/2))},getLinePath:function(a){var d=this.chart,b=this.opposite,c=this.offset,e=this.horiz,
f=this.left+(b?this.width:0)+c,c=d.chartHeight-this.bottom-(b?this.height:0)+c;b&&(a*=-1);return d.renderer.crispLine(["M",e?this.left:f,e?c:this.top,"L",e?d.chartWidth-this.right:f,e?c:d.chartHeight-this.bottom],a)},getTitlePosition:function(){var a=this.horiz,d=this.left,b=this.top,c=this.len,M=this.options.title,f=a?d:b,m=this.opposite,g=this.offset,n=e(M.style.fontSize||12),c={low:f+(a?0:c),middle:f+c/2,high:f+(a?c:0)}[M.align],d=(a?b+this.height:d)+(a?1:-1)*(m?-1:1)*this.axisTitleMargin+(2===
this.side?n:0);return{x:a?c:d+(m?this.width:0)+g+(M.x||0),y:a?d-(m?this.height:0)+g:c+(M.y||0)}},render:function(){var a=this,d=a.horiz,b=a.reversed,c=a.chart,e=c.renderer,f=a.options,m=a.isLog,g=a.isLinked,n=a.tickPositions,k,p=a.axisTitle,w=a.ticks,l=a.minorTicks,v=a.alternateBands,D=f.stackLabels,q=f.alternateGridColor,u=a.tickmarkOffset,A=f.lineWidth,z=c.hasRendered&&x(a.oldMin)&&!isNaN(a.oldMin),E=a.hasData,F=a.showAxis,B,C=f.labels.overflow,K=a.justifyLabels=d&&!1!==C,I;a.labelEdge.length=0;
a.justifyToPlot="justify"===C;y([w,l,v],function(a){for(var d in a)a[d].isActive=!1});if(E||g)(a.minorTickInterval&&!a.categories&&y(a.getMinorTickPositions(),function(d){l[d]||(l[d]=new U(a,d,"minor"));z&&l[d].isNew&&l[d].render(null,!0);l[d].render(null,!1,1)}),n.length&&(k=n.slice(),(d&&b||!d&&!b)&&k.reverse(),K&&(k=k.slice(1).concat([k[0]])),y(k,function(d,b){K&&(b=b===k.length-1?0:b+1);if(!g||d>=a.min&&d<=a.max)w[d]||(w[d]=new U(a,d)),z&&w[d].isNew&&w[d].render(b,!0,0.1),w[d].render(b,!1,1)}),
u&&0===a.min&&(w[-1]||(w[-1]=new U(a,-1,null,!0)),w[-1].render(-1))),q&&y(n,function(d,b){0===b%2&&d<a.max&&(v[d]||(v[d]=new da.PlotLineOrBand(a)),B=d+u,I=n[b+1]!==G?n[b+1]+u:a.max,v[d].options={from:m?t(B):B,to:m?t(I):I,color:q},v[d].render(),v[d].isActive=!0)}),a._addedPlotLB)||(y((f.plotLines||[]).concat(f.plotBands||[]),function(d){a.addPlotBandOrLine(d)}),a._addedPlotLB=!0);y([w,l,v],function(a){var d,b,h=[],e=Ea?Ea.duration||500:0,M=function(){for(b=h.length;b--;)a[h[b]]&&!a[h[b]].isActive&&
(a[h[b]].destroy(),delete a[h[b]])};for(d in a)a[d].isActive||(a[d].render(d,!1,0),a[d].isActive=!1,h.push(d));a!==v&&c.hasRendered&&e?e&&setTimeout(M,e):M()});A&&(d=a.getLinePath(A),a.axisLine?a.axisLine.animate({d:d}):a.axisLine=e.path(d).attr({stroke:f.lineColor,"stroke-width":A,zIndex:7}).add(a.axisGroup),a.axisLine[F?"show":"hide"]());p&&F&&(p[p.isNew?"attr":"animate"](a.getTitlePosition()),p.isNew=!1);D&&D.enabled&&a.renderStackTotals();a.isDirty=!1},redraw:function(){var a=this.chart.pointer;
a&&a.reset(!0);this.render();y(this.plotLinesAndBands,function(a){a.render()});y(this.series,function(a){a.isDirty=!0})},destroy:function(a){var d=this,b=d.stacks,c,e=d.plotLinesAndBands;a||ia(d);for(c in b)Ra(b[c]),b[c]=null;y([d.ticks,d.minorTicks,d.alternateBands],function(a){Ra(a)});for(a=e.length;a--;)e[a].destroy();y("stackTotalGroup axisLine axisTitle axisGroup cross gridGroup labelGroup".split(" "),function(a){d[a]&&(d[a]=d[a].destroy())});this.cross&&this.cross.destroy()},drawCrosshair:function(a,
d){if(this.crosshair)if(!1===(x(d)||!p(this.crosshair.snap,!0)))this.hideCrosshair();else{var b,c=this.crosshair,e=c.animation;p(c.snap,!0)?x(d)&&(b=this.chart.inverted!=this.horiz?d.plotX:this.len-d.plotY):b=this.horiz?a.chartX-this.pos:this.len-a.chartY+this.pos;b=this.isRadial?this.getPlotLinePath(this.isXAxis?d.x:p(d.stackY,d.y)):this.getPlotLinePath(null,null,null,null,b);if(null===b)this.hideCrosshair();else if(this.cross)this.cross.attr({visibility:"visible"})[e?"animate":"attr"]({d:b},e);
else e={"stroke-width":c.width||1,stroke:c.color||"#C0C0C0",zIndex:c.zIndex||2},c.dashStyle&&(e.dashstyle=c.dashStyle),this.cross=this.chart.renderer.path(b).attr(e).add()}},hideCrosshair:function(){this.cross&&this.cross.hide()}};b(ma.prototype,{getPlotBandPath:function(a,d){var b=this.getPlotLinePath(d),c=this.getPlotLinePath(a);c&&b?c.push(b[4],b[5],b[1],b[2]):c=null;return c},addPlotBand:function(a){this.addPlotBandOrLine(a,"plotBands")},addPlotLine:function(a){this.addPlotBandOrLine(a,"plotLines")},
addPlotBandOrLine:function(a,d){var b=(new da.PlotLineOrBand(this,a)).render(),c=this.userOptions;b&&(d&&(c[d]=c[d]||[],c[d].push(a)),this.plotLinesAndBands.push(b));return b},removePlotBandOrLine:function(a){for(var d=this.plotLinesAndBands,b=this.options,c=this.userOptions,e=d.length;e--;)d[e].id===a&&d[e].destroy();y([b.plotLines||[],c.plotLines||[],b.plotBands||[],c.plotBands||[]],function(d){for(e=d.length;e--;)d[e].id===a&&u(d,d[e])})}});ma.prototype.getTimeTicks=function(a,d,h,c){var e=[],
f={},m=X.global.useUTC,g,n=new Date(d-Ta),k=a.unitRange,H=a.count;if(x(d)){k>=N.second&&(n.setMilliseconds(0),n.setSeconds(k>=N.minute?0:H*fa(n.getSeconds()/H)));if(k>=N.minute)n[Ab](k>=N.hour?0:H*fa(n[pb]()/H));if(k>=N.hour)n[Bb](k>=N.day?0:H*fa(n[qb]()/H));if(k>=N.day)n[sb](k>=N.month?1:H*fa(n[Za]()/H));k>=N.month&&(n[Cb](k>=N.year?0:H*fa(n[hb]()/H)),g=n[ib]());k>=N.year&&(g-=g%H,n[Db](g));if(k===N.week)n[sb](n[Za]()-n[rb]()+p(c,1));d=1;Ta&&(n=new Date(n.getTime()+Ta));g=n[ib]();c=n.getTime();for(var w=
n[hb](),l=n[Za](),v=m?Ta:(864E5+6E4*n.getTimezoneOffset())%864E5;c<h;)e.push(c),k===N.year?c=gb(g+d*H,0):k===N.month?c=gb(g,w+d*H):m||k!==N.day&&k!==N.week?c+=k*H:c=gb(g,w,l+d*H*(k===N.day?1:7)),d++;e.push(c);y(vb(e,function(a){return k<=N.hour&&a%N.day===v}),function(a){f[a]="day"})}e.info=b(a,{higherRanks:f,totalRange:k*H});return e};ma.prototype.normalizeTimeTickInterval=function(a,d){var b=d||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],
["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],c=b[b.length-1],e=N[c[0]],f=c[1],m;for(m=0;m<b.length&&!(c=b[m],e=N[c[0]],f=c[1],b[m+1]&&a<=(e*f[f.length-1]+N[b[m+1][0]])/2);m++);e===N.year&&a<5*e&&(f=[1,2,5]);b=Na(a/e,f,"year"===c[0]?F(wa(a/e),1):1);return{unitRange:e,count:b,unitName:c[0]}};ma.prototype.getLogTickPositions=function(a,d,b,c){var e=this.options,f=this.len,m=[];c||(this._minorAutoInterval=null);if(0.5<=a)a=E(a),m=this.getLinearTickPositions(a,
d,b);else if(0.08<=a)for(var f=fa(d),g,n,k,H,w,e=0.3<a?[1,2,4]:0.15<a?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];f<b+1&&!w;f++)for(n=e.length,g=0;g<n&&!w;g++)k=q(t(f)*e[g]),k>d&&(!c||H<=b)&&m.push(H),H>b&&(w=!0),H=k;else(d=t(d),b=t(b),a=e[c?"minorTickInterval":"tickInterval"],a=p("auto"===a?null:a,this._minorAutoInterval,e.tickPixelInterval/(c?5:1)*(b-d)/((c?f/this.tickPositions.length:f)||1)),a=Na(a,null,wa(a)),m=Va(this.getLinearTickPositions(a,d,b),q),c)||(this._minorAutoInterval=a/5);c||(this.tickInterval=
a);return m};var Ib=da.Tooltip=function(){this.init.apply(this,arguments)};Ib.prototype={init:function(a,d){var b=d.borderWidth,c=d.style,f=e(c.padding);this.chart=a;this.options=d;this.crosshairs=[];this.now={x:0,y:0};this.isHidden=!0;this.label=a.renderer.label("",0,0,d.shape||"callout",null,null,d.useHTML,null,"tooltip").attr({padding:f,fill:d.backgroundColor,"stroke-width":b,r:d.borderRadius,zIndex:8}).css(c).css({padding:0}).add().attr({y:-9999});ta||this.label.shadow(d.shadow);this.shared=d.shared},
destroy:function(){this.label&&(this.label=this.label.destroy());clearTimeout(this.hideTimer);clearTimeout(this.tooltipTimeout)},move:function(a,d,h,c){var e=this,f=e.now,m=!1!==e.options.animation&&!e.isHidden,g=e.followPointer||1<e.len;b(f,{x:m?(2*f.x+a)/3:a,y:m?(f.y+d)/2:d,anchorX:g?G:m?(2*f.anchorX+h)/3:h,anchorY:g?G:m?(f.anchorY+c)/2:c});e.label.attr(f);m&&(1<Y(a-f.x)||1<Y(d-f.y))&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){e&&e.move(a,d,h,c)},32))},hide:function(){var a=
this,d;clearTimeout(this.hideTimer);this.isHidden||(d=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){a.label.fadeOut();a.isHidden=!0},p(this.options.hideDelay,500)),d&&y(d,function(a){a.setState()}),this.chart.hoverPoints=null)},getAnchor:function(a,d){var b,c=this.chart,e=c.inverted,f=c.plotTop,m=0,g=0,n;a=B(a);b=a[0].tooltipPos;this.followPointer&&d&&(d.chartX===G&&(d=c.pointer.normalize(d)),b=[d.chartX-c.plotLeft,d.chartY-f]);b||(y(a,function(a){n=a.series.yAxis;m+=a.plotX;g+=(a.plotLow?
(a.plotLow+a.plotHigh)/2:a.plotY)+(!e&&n?n.top-f:0)}),m/=a.length,g/=a.length,b=[e?c.plotWidth-g:m,this.shared&&!e&&1<a.length&&d?d.chartY-f:e?c.plotHeight-m:g]);return Va(b,E)},getPosition:function(a,d,b){var c=this.chart,e=this.distance,f={},m,g=["y",c.chartHeight,d,b.plotY+c.plotTop],n=["x",c.chartWidth,a,b.plotX+c.plotLeft],k=b.ttBelow||c.inverted&&!b.negative||!c.inverted&&b.negative,p=function(a,d,b,h){var c=b<h-e;d=h+e+b<d;b=h-e-b;h+=e;if(k&&d)f[a]=h;else if(!k&&c)f[a]=b;else if(c)f[a]=b;else if(d)f[a]=
h;else return!1},w=function(a,d,b,h){if(h<e||h>d-e)return!1;f[a]=h<b/2?1:h>d-b/2?d-b-2:h-b/2},l=function(a){var d=g;g=n;n=d;m=a},v=function(){!1!==p.apply(0,g)?!1===w.apply(0,n)&&!m&&(l(!0),v()):m?f.x=f.y=0:(l(!0),v())};(c.inverted||1<this.len)&&l();v();return f},defaultFormatter:function(a){var d=this.points||B(this),b=d[0].series,c;c=[a.tooltipHeaderFormatter(d[0])];y(d,function(a){b=a.series;c.push(b.tooltipFormatter&&b.tooltipFormatter(a)||a.point.tooltipFormatter(b.tooltipOptions.pointFormat))});
c.push(a.options.footerFormat||"");return c.join("")},refresh:function(a,d){var b=this.chart,c=this.label,e=this.options,f,m,g={},n,k=[];n=e.formatter||this.defaultFormatter;var g=b.hoverPoints,l,w=this.shared;clearTimeout(this.hideTimer);this.followPointer=B(a)[0].series.tooltipOptions.followPointer;m=this.getAnchor(a,d);f=m[0];m=m[1];!w||a.series&&a.series.noSharedTooltip?g=a.getLabelConfig():(b.hoverPoints=a,g&&y(g,function(a){a.setState()}),y(a,function(a){a.setState("hover");k.push(a.getLabelConfig())}),
g={x:a[0].category,y:a[0].y},g.points=k,this.len=k.length,a=a[0]);n=n.call(g,this);g=a.series;this.distance=p(g.tooltipOptions.distance,16);!1===n?this.hide():(this.isHidden&&(cb(c),c.attr("opacity",1).show()),c.attr({text:n}),l=e.borderColor||a.color||g.color||"#606060",c.attr({stroke:l}),this.updatePosition({plotX:f,plotY:m,negative:a.negative,ttBelow:a.ttBelow}),this.isHidden=!1);P(b,"tooltipRefresh",{text:n,x:f+b.plotLeft,y:m+b.plotTop,borderColor:l})},updatePosition:function(a){var d=this.chart,
b=this.label,b=(this.options.positioner||this.getPosition).call(this,b.width,b.height,a);this.move(E(b.x),E(b.y),a.plotX+d.plotLeft,a.plotY+d.plotTop)},tooltipHeaderFormatter:function(a){var d=a.series,b=d.tooltipOptions,c=b.dateTimeLabelFormats,e=b.xDateFormat,f=d.xAxis,m=f&&"datetime"===f.options.type&&l(a.key),b=b.headerFormat,f=f&&f.closestPointRange,g;if(m&&!e){if(f)for(g in N){if(N[g]>=f||N[g]<=N.day&&0<a.key%N[g]){e=c[g];break}}else e=c.day;e=e||c.year}m&&e&&(b=b.replace("{point.key}","{point.key:"+
e+"}"));return va(b,{point:a,series:d})}};var ya;ab=K.documentElement.ontouchstart!==G;var Wa=da.Pointer=function(a,d){this.init(a,d)};Wa.prototype={init:function(a,d){var b=d.chart,c=b.events,e=ta?"":b.zoomType,b=a.inverted,f;this.options=d;this.chart=a;this.zoomX=f=/x/.test(e);this.zoomY=e=/y/.test(e);this.zoomHor=f&&!b||e&&b;this.zoomVert=e&&!b||f&&b;this.hasZoom=f||e;this.runChartClick=c&&!!c.click;this.pinchDown=[];this.lastValidTouch={};da.Tooltip&&d.tooltip.enabled&&(a.tooltip=new Ib(a,d.tooltip),
this.followTouchMove=d.tooltip.followTouchMove);this.setDOMEvents()},normalize:function(a,d){var h,c;a=a||window.event;a=Ob(a);a.target||(a.target=a.srcElement);c=a.touches?a.touches.length?a.touches.item(0):a.changedTouches[0]:a;d||(this.chartPosition=d=Nb(this.chart.container));c.pageX===G?(h=F(a.x,a.clientX-d.left),c=a.y):(h=c.pageX-d.left,c=c.pageY-d.top);return b(a,{chartX:E(h),chartY:E(c)})},getCoordinates:function(a){var d={xAxis:[],yAxis:[]};y(this.chart.axes,function(b){d[b.isXAxis?"xAxis":
"yAxis"].push({axis:b,value:b.toValue(a[b.horiz?"chartX":"chartY"])})});return d},getIndex:function(a){var d=this.chart;return d.inverted?d.plotHeight+d.plotTop-a.chartY:a.chartX-d.plotLeft},runPointActions:function(a){var d=this.chart,b=d.series,c=d.tooltip,e,f,m=d.hoverPoint,g=d.hoverSeries,n,k,l=d.chartWidth,w=this.getIndex(a);if(c&&this.options.tooltip.shared&&(!g||!g.noSharedTooltip)){f=[];n=b.length;for(k=0;k<n;k++)b[k].visible&&!1!==b[k].options.enableMouseTracking&&!b[k].noSharedTooltip&&
!0!==b[k].singularTooltips&&b[k].tooltipPoints.length&&(e=b[k].tooltipPoints[w])&&e.series&&(e._dist=Y(w-e.clientX),l=S(l,e._dist),f.push(e));for(n=f.length;n--;)f[n]._dist>l&&f.splice(n,1);f.length&&f[0].clientX!==this.hoverX&&(c.refresh(f,a),this.hoverX=f[0].clientX)}b=g&&g.tooltipOptions.followPointer;if(g&&g.tracker&&!b){if((e=g.tooltipPoints[w])&&e!==m)e.onMouseOver(a)}else c&&b&&!c.isHidden&&(g=c.getAnchor([{}],a),c.updatePosition({plotX:g[0],plotY:g[1]}));c&&!this._onDocumentMouseMove&&(this._onDocumentMouseMove=
function(a){if(ha[ya])ha[ya].pointer.onDocumentMouseMove(a)},T(K,"mousemove",this._onDocumentMouseMove));y(d.axes,function(d){d.drawCrosshair(a,p(e,m))})},reset:function(a){var d=this.chart,b=d.hoverSeries,c=d.hoverPoint,e=d.tooltip,f=e&&e.shared?d.hoverPoints:c;(a=a&&e&&f)&&B(f)[0].plotX===G&&(a=!1);if(a)e.refresh(f),c&&c.setState(c.state,!0);else{if(c)c.onMouseOut();if(b)b.onMouseOut();e&&e.hide();this._onDocumentMouseMove&&(ia(K,"mousemove",this._onDocumentMouseMove),this._onDocumentMouseMove=
null);y(d.axes,function(a){a.hideCrosshair()});this.hoverX=null}},scaleGroups:function(a,d){var b=this.chart,c;y(b.series,function(e){c=a||e.getPlotBox();e.xAxis&&e.xAxis.zoomEnabled&&(e.group.attr(c),e.markerGroup&&(e.markerGroup.attr(c),e.markerGroup.clip(d?b.clipRect:null)),e.dataLabelsGroup&&e.dataLabelsGroup.attr(c))});b.clipRect.attr(d||b.clipBox)},dragStart:function(a){var d=this.chart;d.mouseIsDown=a.type;d.cancelClick=!1;d.mouseDownX=this.mouseDownX=a.chartX;d.mouseDownY=this.mouseDownY=
a.chartY},drag:function(a){var d=this.chart,b=d.options.chart,c=a.chartX,e=a.chartY,f=this.zoomHor,m=this.zoomVert,g=d.plotLeft,n=d.plotTop,k=d.plotWidth,p=d.plotHeight,w,l=this.mouseDownX,v=this.mouseDownY;c<g?c=g:c>g+k&&(c=g+k);e<n?e=n:e>n+p&&(e=n+p);this.hasDragged=Math.sqrt(Math.pow(l-c,2)+Math.pow(v-e,2));10<this.hasDragged&&(w=d.isInsidePlot(l-g,v-n),d.hasCartesianSeries&&(this.zoomX||this.zoomY)&&w&&!this.selectionMarker&&(this.selectionMarker=d.renderer.rect(g,n,f?1:k,m?1:p,0).attr({fill:b.selectionMarkerFill||
"rgba(69,114,167,0.25)",zIndex:7}).add()),this.selectionMarker&&f&&(c-=l,this.selectionMarker.attr({width:Y(c),x:(0<c?0:c)+l})),this.selectionMarker&&m&&(c=e-v,this.selectionMarker.attr({height:Y(c),y:(0<c?0:c)+v})),w&&!this.selectionMarker&&b.panning&&d.pan(a,b.panning))},drop:function(a){var d=this.chart,c=this.hasPinched;if(this.selectionMarker){var e={xAxis:[],yAxis:[],originalEvent:a.originalEvent||a};a=this.selectionMarker;var f=a.attr?a.attr("x"):a.x,g=a.attr?a.attr("y"):a.y,m=a.attr?a.attr("width"):
a.width,k=a.attr?a.attr("height"):a.height,n;if(this.hasDragged||c)y(d.axes,function(a){if(a.zoomEnabled){var d=a.horiz,b=a.toValue(d?f:g),d=a.toValue(d?f+m:g+k);!isNaN(b)&&!isNaN(d)&&(e[a.coll].push({axis:a,min:S(b,d),max:F(b,d)}),n=!0)}}),n&&P(d,"selection",e,function(a){d.zoom(b(a,c?{animation:!1}:null))});this.selectionMarker=this.selectionMarker.destroy();c&&this.scaleGroups()}d&&(C(d.container,{cursor:d._cursor}),d.cancelClick=10<this.hasDragged,d.mouseIsDown=this.hasDragged=this.hasPinched=
!1,this.pinchDown=[])},onContainerMouseDown:function(a){a=this.normalize(a);a.preventDefault&&a.preventDefault();this.dragStart(a)},onDocumentMouseUp:function(a){ha[ya]&&ha[ya].pointer.drop(a)},onDocumentMouseMove:function(a){var d=this.chart,b=this.chartPosition,c=d.hoverSeries;a=this.normalize(a,b);b&&c&&!this.inClass(a.target,"highcharts-tracker")&&!d.isInsidePlot(a.chartX-d.plotLeft,a.chartY-d.plotTop)&&this.reset()},onContainerMouseLeave:function(){var a=ha[ya];a&&(a.pointer.reset(),a.pointer.chartPosition=
null)},onContainerMouseMove:function(a){var d=this.chart;ya=d.index;a=this.normalize(a);"mousedown"===d.mouseIsDown&&this.drag(a);(this.inClass(a.target,"highcharts-tracker")||d.isInsidePlot(a.chartX-d.plotLeft,a.chartY-d.plotTop))&&!d.openMenu&&this.runPointActions(a)},inClass:function(a,d){for(var b;a;){if(b=A(a,"class")){if(-1!==b.indexOf(d))return!0;if(-1!==b.indexOf("highcharts-container"))return!1}a=a.parentNode}},onTrackerMouseOut:function(a){var d=this.chart.hoverSeries,b=(a=a.relatedTarget||
a.toElement)&&a.point&&a.point.series;if(d&&!d.options.stickyTracking&&!this.inClass(a,"highcharts-tooltip")&&b!==d)d.onMouseOut()},onContainerClick:function(a){var d=this.chart,c=d.hoverPoint,e=d.plotLeft,f=d.plotTop;a=this.normalize(a);a.cancelBubble=!0;d.cancelClick||(c&&this.inClass(a.target,"highcharts-tracker")?(P(c.series,"click",b(a,{point:c})),d.hoverPoint&&c.firePointEvent("click",a)):(b(a,this.getCoordinates(a)),d.isInsidePlot(a.chartX-e,a.chartY-f)&&P(d,"click",a)))},setDOMEvents:function(){var a=
this,d=a.chart.container;d.onmousedown=function(d){a.onContainerMouseDown(d)};d.onmousemove=function(d){a.onContainerMouseMove(d)};d.onclick=function(d){a.onContainerClick(d)};T(d,"mouseleave",a.onContainerMouseLeave);1===bb&&T(K,"mouseup",a.onDocumentMouseUp);ab&&(d.ontouchstart=function(d){a.onContainerTouchStart(d)},d.ontouchmove=function(d){a.onContainerTouchMove(d)},1===bb&&T(K,"touchend",a.onDocumentTouchEnd))},destroy:function(){var a;ia(this.chart.container,"mouseleave",this.onContainerMouseLeave);
bb||(ia(K,"mouseup",this.onDocumentMouseUp),ia(K,"touchend",this.onDocumentTouchEnd));clearInterval(this.tooltipTimeout);for(a in this)this[a]=null}};b(da.Pointer.prototype,{pinchTranslate:function(a,d,b,c,e,f){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,a,d,b,c,e,f);(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,a,d,b,c,e,f)},pinchTranslateDirection:function(a,d,b,c,e,f,m,g){var n=this.chart,k=a?"x":"y",p=a?"X":"Y",w="chart"+p,l=a?"width":"height",v=n["plot"+
(a?"Left":"Top")],D,q,t=g||1,u=n.inverted,x=n.bounds[a?"h":"v"],y=1===d.length,A=d[0][w],z=b[0][w],E=!y&&d[1][w],F=!y&&b[1][w],B;b=function(){!y&&20<Y(A-E)&&(t=g||Y(z-F)/Y(A-E));q=(v-z)/t+A;D=n["plot"+(a?"Width":"Height")]/t};b();d=q;d<x.min?(d=x.min,B=!0):d+D>x.max&&(d=x.max-D,B=!0);B?(z-=0.8*(z-m[k][0]),y||(F-=0.8*(F-m[k][1])),b()):m[k]=[z,F];u||(f[k]=q-v,f[l]=D);f=u?1/t:t;e[l]=D;e[k]=d;c[u?a?"scaleY":"scaleX":"scale"+p]=t;c["translate"+p]=f*v+(z-f*A)},pinch:function(a){var d=this,c=d.chart,e=d.pinchDown,
f=d.followTouchMove,g=a.touches,m=g.length,k=d.lastValidTouch,n=d.hasZoom,p=d.selectionMarker,l={},w=1===m&&(d.inClass(a.target,"highcharts-tracker")&&c.runTrackerClick||c.runChartClick),q={};(n||f)&&!w&&a.preventDefault();Va(g,function(a){return d.normalize(a)});"touchstart"===a.type?(y(g,function(a,d){e[d]={chartX:a.chartX,chartY:a.chartY}}),k.x=[e[0].chartX,e[1]&&e[1].chartX],k.y=[e[0].chartY,e[1]&&e[1].chartY],y(c.axes,function(a){if(a.zoomEnabled){var d=c.bounds[a.horiz?"h":"v"],b=a.minPixelPadding,
e=a.toPixels(a.dataMin),s=a.toPixels(a.dataMax),f=S(e,s),e=F(e,s);d.min=S(a.pos,f-b);d.max=F(a.pos+a.len,e+b)}})):e.length&&(p||(d.selectionMarker=p=b({destroy:Ba},c.plotBox)),d.pinchTranslate(e,g,l,p,q,k),d.hasPinched=n,d.scaleGroups(l,q),!n&&f&&1===m&&this.runPointActions(d.normalize(a)))},onContainerTouchStart:function(a){var d=this.chart;ya=d.index;1===a.touches.length?(a=this.normalize(a),d.isInsidePlot(a.chartX-d.plotLeft,a.chartY-d.plotTop)?(this.runPointActions(a),this.pinch(a)):this.reset()):
2===a.touches.length&&this.pinch(a)},onContainerTouchMove:function(a){1!==a.touches.length&&2!==a.touches.length||this.pinch(a)},onDocumentTouchEnd:function(a){ha[ya]&&ha[ya].pointer.drop(a)}});if(Q.PointerEvent||Q.MSPointerEvent){var Da={},wb=!!Q.PointerEvent,Sb=function(){var a,d=[];d.item=function(a){return this[a]};for(a in Da)Da.hasOwnProperty(a)&&d.push({pageX:Da[a].pageX,pageY:Da[a].pageY,target:Da[a].target});return d},xb=function(a,d,b,c){a=a.originalEvent||a;"touch"!==a.pointerType&&a.pointerType!==
a.MSPOINTER_TYPE_TOUCH||!ha[ya]||(c(a),c=ha[ya].pointer,c[d]({type:b,target:a.currentTarget,preventDefault:Ba,touches:Sb()}))};b(Wa.prototype,{onContainerPointerDown:function(a){xb(a,"onContainerTouchStart","touchstart",function(a){Da[a.pointerId]={pageX:a.pageX,pageY:a.pageY,target:a.currentTarget}})},onContainerPointerMove:function(a){xb(a,"onContainerTouchMove","touchmove",function(a){Da[a.pointerId]={pageX:a.pageX,pageY:a.pageY};Da[a.pointerId].target||(Da[a.pointerId].target=a.currentTarget)})},
onDocumentPointerUp:function(a){xb(a,"onContainerTouchEnd","touchend",function(a){delete Da[a.pointerId]})},batchMSEvents:function(a){a(this.chart.container,wb?"pointerdown":"MSPointerDown",this.onContainerPointerDown);a(this.chart.container,wb?"pointermove":"MSPointerMove",this.onContainerPointerMove);a(K,wb?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}});z(Wa.prototype,"init",function(a,d,b){a.call(this,d,b);(this.hasZoom||this.followTouchMove)&&C(d.container,{"-ms-touch-action":ca,"touch-action":ca})});
z(Wa.prototype,"setDOMEvents",function(a){a.apply(this);(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(T)});z(Wa.prototype,"destroy",function(a){this.batchMSEvents(ia);a.call(this)})}var nb=da.Legend=function(a,d){this.init(a,d)};nb.prototype={init:function(a,d){var b=this,s=d.itemStyle,f=p(d.padding,8),g=d.itemMarginTop||0;this.options=d;d.enabled&&(b.baseline=e(s.fontSize)+3+g,b.itemStyle=s,b.itemHiddenStyle=c(s,d.itemHiddenStyle),b.itemMarginTop=g,b.padding=f,b.initialItemX=f,b.initialItemY=
f-5,b.maxItemWidth=0,b.chart=a,b.itemHeight=0,b.lastLineHeight=0,b.symbolWidth=p(d.symbolWidth,16),b.pages=[],b.render(),T(b.chart,"endResize",function(){b.positionCheckboxes()}))},colorizeItem:function(a,d){var b=this.options,c=a.legendItem,e=a.legendLine,f=a.legendSymbol,m=this.itemHiddenStyle.color,b=d?b.itemStyle.color:m,g=d?a.legendColor||a.color||"#CCC":m,m=a.options&&a.options.marker,n={fill:g},k;c&&c.css({fill:b,color:b});e&&e.attr({stroke:g});if(f){if(m&&f.isMarker)for(k in n.stroke=g,m=
a.convertAttribs(m),m)c=m[k],c!==G&&(n[k]=c);f.attr(n)}},positionItem:function(a){var d=this.options,b=d.symbolPadding,d=!d.rtl,c=a._legendItemPos,e=c[0],c=c[1],f=a.checkbox;a.legendGroup&&a.legendGroup.translate(d?e:this.legendWidth-e-2*b-4,c);f&&(f.x=e,f.y=c)},destroyItem:function(a){var d=a.checkbox;y(["legendItem","legendLine","legendSymbol","legendGroup"],function(d){a[d]&&(a[d]=a[d].destroy())});d&&Ia(a.checkbox)},destroy:function(){var a=this.group,d=this.box;d&&(this.box=d.destroy());a&&(this.group=
a.destroy())},positionCheckboxes:function(a){var d=this.group.alignAttr,b,c=this.clipHeight||this.legendHeight;d&&(b=d.translateY,y(this.allItems,function(e){var f=e.checkbox,m;f&&(m=b+f.y+(a||0)+3,C(f,{left:d.translateX+e.checkboxOffset+f.x-20+"px",top:m+"px",display:m>b-6&&m<b+c-6?"":ca}))}))},renderTitle:function(){var a=this.padding,d=this.options.title,b=0;d.text&&(this.title||(this.title=this.chart.renderer.label(d.text,a-3,a-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(d.style).add(this.group)),
a=this.title.getBBox(),b=a.height,this.offsetWidth=a.width,this.contentGroup.attr({translateY:b}));this.titleHeight=b},renderItem:function(a){var d=this.chart,b=d.renderer,e=this.options,f="horizontal"===e.layout,g=this.symbolWidth,m=e.symbolPadding,k=this.itemStyle,n=this.itemHiddenStyle,l=this.padding,H=f?p(e.itemDistance,20):0,w=!e.rtl,q=e.width,v=e.itemMarginBottom||0,D=this.itemMarginTop,t=this.initialItemX,u=a.legendItem,x=a.series&&a.series.drawLegendSymbol?a.series:a,y=x.options,y=this.createCheckboxForItem&&
y&&y.showCheckbox,z=e.useHTML;u||(a.legendGroup=b.g("legend-item").attr({zIndex:1}).add(this.scrollGroup),x.drawLegendSymbol(this,a),a.legendItem=u=b.text(e.labelFormat?va(e.labelFormat,a):e.labelFormatter.call(a),w?g+m:-m,this.baseline,z).css(c(a.visible?k:n)).attr({align:w?"left":"right",zIndex:2}).add(a.legendGroup),this.setItemEvents&&this.setItemEvents(a,u,z,k,n),this.colorizeItem(a,a.visible),y&&this.createCheckboxForItem(a));b=u.getBBox();g=a.checkboxOffset=e.itemWidth||a.legendItemWidth||
g+m+b.width+H+(y?20:0);this.itemHeight=m=E(a.legendItemHeight||b.height);f&&this.itemX-t+g>(q||d.chartWidth-2*l-t-e.x)&&(this.itemX=t,this.itemY+=D+this.lastLineHeight+v,this.lastLineHeight=0);this.maxItemWidth=F(this.maxItemWidth,g);this.lastItemY=D+this.itemY+v;this.lastLineHeight=F(m,this.lastLineHeight);a._legendItemPos=[this.itemX,this.itemY];f?this.itemX+=g:(this.itemY+=D+m+v,this.lastLineHeight=m);this.offsetWidth=q||F((f?this.itemX-t-H:g)+l,this.offsetWidth)},getAllItems:function(){var a=
[];y(this.chart.series,function(d){var b=d.options;p(b.showInLegend,x(b.linkedTo)?!1:G,!0)&&(a=a.concat(d.legendItems||("point"===b.legendType?d.data:d)))});return a},render:function(){var a=this,d=a.chart,c=d.renderer,e=a.group,f,g,m,k,n=a.box,p=a.options,l=a.padding,w=p.borderWidth,q=p.backgroundColor;a.itemX=a.initialItemX;a.itemY=a.initialItemY;a.offsetWidth=0;a.lastItemY=0;e||(a.group=e=c.g("legend").attr({zIndex:7}).add(),a.contentGroup=c.g().attr({zIndex:1}).add(e),a.scrollGroup=c.g().add(a.contentGroup));
a.renderTitle();f=a.getAllItems();ob(f,function(a,d){return(a.options&&a.options.legendIndex||0)-(d.options&&d.options.legendIndex||0)});p.reversed&&f.reverse();a.allItems=f;a.display=g=!!f.length;y(f,function(d){a.renderItem(d)});m=p.width||a.offsetWidth;k=a.lastItemY+a.lastLineHeight+a.titleHeight;k=a.handleOverflow(k);if(w||q)m+=l,k+=l,n?0<m&&0<k&&(n[n.isNew?"attr":"animate"](n.crisp({width:m,height:k})),n.isNew=!1):(a.box=n=c.rect(0,0,m,k,p.borderRadius,w||0).attr({stroke:p.borderColor,"stroke-width":w||
0,fill:q||ca}).add(e).shadow(p.shadow),n.isNew=!0),n[g?"show":"hide"]();a.legendWidth=m;a.legendHeight=k;y(f,function(d){a.positionItem(d)});g&&e.align(b({width:m,height:k},p),!0,"spacingBox");d.isResizing||this.positionCheckboxes()},handleOverflow:function(a){var d=this,b=this.chart,c=b.renderer,e=this.options,f=e.y,f=b.spacingBox.height+("top"===e.verticalAlign?-f:f)-this.padding,m=e.maxHeight,g,n=this.clipRect,k=e.navigation,l=p(k.animation,!0),w=k.arrowSize||12,q=this.nav,v=this.pages,D,t=this.allItems;
"horizontal"===e.layout&&(f/=2);m&&(f=S(f,m));v.length=0;a>f&&!e.useHTML?(this.clipHeight=g=f-20-this.titleHeight-this.padding,this.currentPage=p(this.currentPage,1),this.fullHeight=a,y(t,function(a,d){var b=a._legendItemPos[1],c=E(a.legendItem.getBBox().height),h=v.length;if(!h||b-v[h-1]>g&&(D||b)!==v[h-1])v.push(D||b),h++;d===t.length-1&&b+c-v[h-1]>g&&v.push(b);b!==D&&(D=b)}),n||(n=d.clipRect=c.clipRect(0,this.padding,9999,0),d.contentGroup.clip(n)),n.attr({height:g}),q||(this.nav=q=c.g().attr({zIndex:1}).add(this.group),
this.up=c.symbol("triangle",0,0,w,w).on("click",function(){d.scroll(-1,l)}).add(q),this.pager=c.text("",15,10).css(k.style).add(q),this.down=c.symbol("triangle-down",0,0,w,w).on("click",function(){d.scroll(1,l)}).add(q)),d.scroll(0),a=f):q&&(n.attr({height:b.chartHeight}),q.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0);return a},scroll:function(a,d){var b=this.pages,c=b.length,e=this.currentPage+a,f=this.clipHeight,m=this.options.navigation,g=m.activeColor,m=m.inactiveColor,n=this.pager,
k=this.padding;e>c&&(e=c);0<e&&(d!==G&&Sa(d,this.chart),this.nav.attr({translateX:k,translateY:f+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:1===e?m:g}).css({cursor:1===e?"default":"pointer"}),n.attr({text:e+"/"+c}),this.down.attr({x:18+this.pager.getBBox().width,fill:e===c?m:g}).css({cursor:e===c?"default":"pointer"}),b=-b[e-1]+this.initialItemY,this.scrollGroup.animate({translateY:b}),this.currentPage=e,this.positionCheckboxes(b))}};W=da.LegendSymbolMixin={drawRectangle:function(a,
d){var b=a.options.symbolHeight||12;d.legendSymbol=this.chart.renderer.rect(0,a.baseline-5-b/2,a.symbolWidth,b,a.options.symbolRadius||0).attr({zIndex:3}).add(d.legendGroup)},drawLineMarker:function(a){var d=this.options,b=d.marker,c;c=a.symbolWidth;var e=this.chart.renderer,f=this.legendGroup;a=a.baseline-E(0.3*e.fontMetrics(a.options.itemStyle.fontSize).b);var m;d.lineWidth&&(m={"stroke-width":d.lineWidth},d.dashStyle&&(m.dashstyle=d.dashStyle),this.legendLine=e.path(["M",0,a,"L",c,a]).attr(m).add(f));
b&&!1!==b.enabled&&(d=b.radius,this.legendSymbol=c=e.symbol(this.symbol,c/2-d,a-d,2*d,2*d).add(f),c.isMarker=!0)}};(/Trident\/7\.0/.test(Fa)||Ua)&&z(nb.prototype,"positionItem",function(a,d){var b=this,c=function(){d._legendItemPos&&a.call(b,d)};c();setTimeout(c)});Xa.prototype={init:function(a,d){var b,e=a.series;a.series=null;b=c(X,a);b.series=a.series=e;this.userOptions=a;e=b.chart;this.margin=this.splashArray("margin",e);this.spacing=this.splashArray("spacing",e);var f=e.events;this.bounds={h:{},
v:{}};this.callback=d;this.isResizing=0;this.options=b;this.axes=[];this.series=[];this.hasCartesianSeries=e.showAxes;var g=this,m;g.index=ha.length;ha.push(g);bb++;!1!==e.reflow&&T(g,"load",function(){g.initReflow()});if(f)for(m in f)T(g,m,f[m]);g.xAxis=[];g.yAxis=[];g.animation=ta?!1:p(e.animation,!0);g.pointCount=0;g.counters=new Ya;g.firstRender()},initSeries:function(a){var d=this.options.chart;(d=V[a.type||d.type||d.defaultSeriesType])||oa(17,!0);d=new d;d.init(this,a);return d},isInsidePlot:function(a,
d,b){var c=b?d:a;a=b?a:d;return 0<=c&&c<=this.plotWidth&&0<=a&&a<=this.plotHeight},adjustTickAmounts:function(){!1!==this.options.chart.alignTicks&&y(this.axes,function(a){a.adjustTickAmount()});this.maxTicks=null},redraw:function(a){var d=this.axes,c=this.series,e=this.pointer,f=this.legend,g=this.isDirtyLegend,m,k,n=this.isDirtyBox,p=c.length,l=p,w=this.renderer,q=w.isHidden(),v=[];Sa(a,this);q&&this.cloneRenderTo();for(this.layOutTitles();l--;)if(a=c[l],a.options.stacking&&(m=!0,a.isDirty)){k=
!0;break}if(k)for(l=p;l--;)if(a=c[l],a.options.stacking)a.isDirty=!0;y(c,function(a){a.isDirty&&"point"===a.options.legendType&&(g=!0)});g&&f.options.enabled&&(f.render(),this.isDirtyLegend=!1);m&&this.getStacks();this.hasCartesianSeries&&(this.isResizing||(this.maxTicks=null,y(d,function(a){a.setScale()})),this.adjustTickAmounts(),this.getMargins(),y(d,function(a){a.isDirty&&(n=!0)}),y(d,function(a){a.isDirtyExtremes&&(a.isDirtyExtremes=!1,v.push(function(){P(a,"afterSetExtremes",b(a.eventArgs,a.getExtremes()));
delete a.eventArgs}));(n||m)&&a.redraw()}));n&&this.drawChartBox();y(c,function(a){a.isDirty&&a.visible&&(!a.isCartesian||a.xAxis)&&a.redraw()});e&&e.reset(!0);w.draw();P(this,"redraw");q&&this.cloneRenderTo(!0);y(v,function(a){a.call()})},get:function(a){var d=this.axes,b=this.series,c,e;for(c=0;c<d.length;c++)if(d[c].options.id===a)return d[c];for(c=0;c<b.length;c++)if(b[c].options.id===a)return b[c];for(c=0;c<b.length;c++)for(e=b[c].points||[],d=0;d<e.length;d++)if(e[d].id===a)return e[d];return null},
getAxes:function(){var a=this,d=this.options,b=d.xAxis=B(d.xAxis||{}),d=d.yAxis=B(d.yAxis||{});y(b,function(a,d){a.index=d;a.isX=!0});y(d,function(a,d){a.index=d});b=b.concat(d);y(b,function(d){new ma(a,d)});a.adjustTickAmounts()},getSelectedPoints:function(){var a=[];y(this.series,function(d){a=a.concat(vb(d.points||[],function(a){return a.selected}))});return a},getSelectedSeries:function(){return vb(this.series,function(a){return a.selected})},getStacks:function(){var a=this;y(a.yAxis,function(a){a.stacks&&
a.hasVisibleSeries&&(a.oldStacks=a.stacks)});y(a.series,function(d){!d.options.stacking||!0!==d.visible&&!1!==a.options.chart.ignoreHiddenSeries||(d.stackKey=d.type+p(d.options.stack,""))})},setTitle:function(a,d,b){var e=this,f=e.options,g;g=f.title=c(f.title,a);f=f.subtitle=c(f.subtitle,d);y([["title",a,g],["subtitle",d,f]],function(a){var d=a[0],b=e[d],c=a[1];a=a[2];b&&c&&(e[d]=b=b.destroy());a&&a.text&&!b&&(e[d]=e.renderer.text(a.text,0,0,a.useHTML).attr({align:a.align,"class":"highcharts-"+d,
zIndex:a.zIndex||4}).css(a.style).add())});e.layOutTitles(b)},layOutTitles:function(a){var d=0,c=this.title,e=this.subtitle,f=this.options,g=f.title,f=f.subtitle,m=this.spacingBox.width-44;!c||(c.css({width:(g.width||m)+"px"}).align(b({y:15},g),!1,"spacingBox"),g.floating||g.verticalAlign)||(d=c.getBBox().height);e&&(e.css({width:(f.width||m)+"px"}).align(b({y:d+g.margin},f),!1,"spacingBox"),!f.floating&&!f.verticalAlign&&(d=Pa(d+e.getBBox().height)));c=this.titleOffset!==d;this.titleOffset=d;!this.isDirtyBox&&
c&&(this.isDirtyBox=c,this.hasRendered&&p(a,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var a=this.options.chart,d=a.width,a=a.height,b=this.renderToClone||this.renderTo;x(d)||(this.containerWidth=lb(b,"width"));x(a)||(this.containerHeight=lb(b,"height"));this.chartWidth=F(0,d||this.containerWidth||600);this.chartHeight=F(0,p(a,19<this.containerHeight?this.containerHeight:400))},cloneRenderTo:function(a){var d=this.renderToClone,b=this.container;a?d&&(this.renderTo.appendChild(b),
Ia(d),delete this.renderToClone):(b&&b.parentNode===this.renderTo&&this.renderTo.removeChild(b),this.renderToClone=d=this.renderTo.cloneNode(0),C(d,{position:"absolute",top:"-9999px",display:"block"}),d.style.setProperty&&d.style.setProperty("display","block","important"),K.body.appendChild(d),b&&d.appendChild(b))},getContainer:function(){var a,d=this.options.chart,c,f,M;this.renderTo=a=d.renderTo;M="highcharts-"+tb++;g(a)&&(this.renderTo=a=K.getElementById(a));a||oa(13,!0);c=e(A(a,"data-highcharts-chart"));
!isNaN(c)&&ha[c]&&ha[c].hasRendered&&ha[c].destroy();A(a,"data-highcharts-chart",this.index);a.innerHTML="";d.skipClone||a.offsetWidth||this.cloneRenderTo();this.getChartSize();c=this.chartWidth;f=this.chartHeight;this.container=a=R(Oa,{className:"highcharts-container"+(d.className?" "+d.className:""),id:M},b({position:"relative",overflow:"hidden",width:c+"px",height:f+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},d.style),this.renderToClone||a);
this._cursor=a.style.cursor;this.renderer=d.forExport?new Ca(a,c,f,d.style,!0):new $a(a,c,f,d.style);ta&&this.renderer.create(this,a,c,f)},getMargins:function(){var a=this.spacing,d,b=this.legend,c=this.margin,e=this.options.legend,f=p(e.margin,20),g=e.x,k=e.y,n=e.align,l=e.verticalAlign,q=this.titleOffset;this.resetMargins();d=this.axisOffset;q&&!x(c[0])&&(this.plotTop=F(this.plotTop,q+this.options.title.margin+a[0]));b.display&&!e.floating&&("right"===n?x(c[1])||(this.marginRight=F(this.marginRight,
b.legendWidth-g+f+a[1])):"left"===n?x(c[3])||(this.plotLeft=F(this.plotLeft,b.legendWidth+g+f+a[3])):"top"===l?x(c[0])||(this.plotTop=F(this.plotTop,b.legendHeight+k+f+a[0])):"bottom"!==l||x(c[2])||(this.marginBottom=F(this.marginBottom,b.legendHeight-k+f+a[2])));this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin);this.extraTopMargin&&(this.plotTop+=this.extraTopMargin);this.hasCartesianSeries&&y(this.axes,function(a){a.getOffset()});x(c[3])||(this.plotLeft+=d[3]);x(c[0])||(this.plotTop+=
d[0]);x(c[2])||(this.marginBottom+=d[2]);x(c[1])||(this.marginRight+=d[1]);this.setChartSize()},reflow:function(a){var d=this,b=d.options.chart,c=d.renderTo,e=b.width||lb(c,"width"),f=b.height||lb(c,"height"),b=a?a.target:Q,c=function(){d.container&&(d.setSize(e,f,!1),d.hasUserSize=null)};if(!d.hasUserSize&&e&&f&&(b===Q||b===K)){if(e!==d.containerWidth||f!==d.containerHeight)clearTimeout(d.reflowTimeout),a?d.reflowTimeout=setTimeout(c,100):c();d.containerWidth=e;d.containerHeight=f}},initReflow:function(){var a=
this,d=function(d){a.reflow(d)};T(Q,"resize",d);T(a,"destroy",function(){ia(Q,"resize",d)})},setSize:function(a,d,b){var c=this,e,f,g;c.isResizing+=1;g=function(){c&&P(c,"endResize",null,function(){c.isResizing-=1})};Sa(b,c);c.oldChartHeight=c.chartHeight;c.oldChartWidth=c.chartWidth;x(a)&&(c.chartWidth=e=F(0,E(a)),c.hasUserSize=!!e);x(d)&&(c.chartHeight=f=F(0,E(d)));(Ea?mb:C)(c.container,{width:e+"px",height:f+"px"},Ea);c.setChartSize(!0);c.renderer.setSize(e,f,b);c.maxTicks=null;y(c.axes,function(a){a.isDirty=
!0;a.setScale()});y(c.series,function(a){a.isDirty=!0});c.isDirtyLegend=!0;c.isDirtyBox=!0;c.layOutTitles();c.getMargins();c.redraw(b);c.oldChartHeight=null;P(c,"resize");!1===Ea?g():setTimeout(g,Ea&&Ea.duration||500)},setChartSize:function(a){var d=this.inverted,b=this.renderer,c=this.chartWidth,e=this.chartHeight,f=this.options.chart,g=this.spacing,k=this.clipOffset,n,p,l,w;this.plotLeft=n=E(this.plotLeft);this.plotTop=p=E(this.plotTop);this.plotWidth=l=F(0,E(c-n-this.marginRight));this.plotHeight=
w=F(0,E(e-p-this.marginBottom));this.plotSizeX=d?w:l;this.plotSizeY=d?l:w;this.plotBorderWidth=f.plotBorderWidth||0;this.spacingBox=b.spacingBox={x:g[3],y:g[0],width:c-g[3]-g[1],height:e-g[0]-g[2]};this.plotBox=b.plotBox={x:n,y:p,width:l,height:w};c=2*fa(this.plotBorderWidth/2);d=Pa(F(c,k[3])/2);b=Pa(F(c,k[0])/2);this.clipBox={x:d,y:b,width:fa(this.plotSizeX-F(c,k[1])/2-d),height:fa(this.plotSizeY-F(c,k[2])/2-b)};a||y(this.axes,function(a){a.setAxisSize();a.setAxisTranslation()})},resetMargins:function(){var a=
this.spacing,d=this.margin;this.plotTop=p(d[0],a[0]);this.marginRight=p(d[1],a[1]);this.marginBottom=p(d[2],a[2]);this.plotLeft=p(d[3],a[3]);this.axisOffset=[0,0,0,0];this.clipOffset=[0,0,0,0]},drawChartBox:function(){var a=this.options.chart,d=this.renderer,b=this.chartWidth,c=this.chartHeight,e=this.chartBackground,f=this.plotBackground,g=this.plotBorder,k=this.plotBGImage,n=a.borderWidth||0,p=a.backgroundColor,l=a.plotBackgroundColor,w=a.plotBackgroundImage,q=a.plotBorderWidth||0,v,t=this.plotLeft,
u=this.plotTop,x=this.plotWidth,y=this.plotHeight,z=this.plotBox,A=this.clipRect,E=this.clipBox;v=n+(a.shadow?8:0);if(n||p)e?e.animate(e.crisp({width:b-v,height:c-v})):(e={fill:p||ca},n&&(e.stroke=a.borderColor,e["stroke-width"]=n),this.chartBackground=d.rect(v/2,v/2,b-v,c-v,a.borderRadius,n).attr(e).addClass("highcharts-background").add().shadow(a.shadow));l&&(f?f.animate(z):this.plotBackground=d.rect(t,u,x,y,0).attr({fill:l}).add().shadow(a.plotShadow));w&&(k?k.animate(z):this.plotBGImage=d.image(w,
t,u,x,y).add());A?A.animate({width:E.width,height:E.height}):this.clipRect=d.clipRect(E);q&&(g?g.animate(g.crisp({x:t,y:u,width:x,height:y})):this.plotBorder=d.rect(t,u,x,y,0,-q).attr({stroke:a.plotBorderColor,"stroke-width":q,fill:ca,zIndex:1}).add());this.isDirtyBox=!1},propFromSeries:function(){var a=this,d=a.options.chart,b,c=a.options.series,e,f;y(["inverted","angular","polar"],function(g){b=V[d.type||d.defaultSeriesType];f=a[g]||d[g]||b&&b.prototype[g];for(e=c&&c.length;!f&&e--;)(b=V[c[e].type])&&
b.prototype[g]&&(f=!0);a[g]=f})},linkSeries:function(){var a=this,d=a.series;y(d,function(a){a.linkedSeries.length=0});y(d,function(d){var b=d.options.linkedTo;g(b)&&(b=":previous"===b?a.series[d.index-1]:a.get(b))&&(b.linkedSeries.push(d),d.linkedParent=b)})},renderSeries:function(){y(this.series,function(a){a.translate();a.setTooltipPoints&&a.setTooltipPoints();a.render()})},render:function(){var a=this,d=a.axes,c=a.renderer,f=a.options,g=f.labels,k=f.credits,m;a.setTitle();a.legend=new nb(a,f.legend);
a.getStacks();y(d,function(a){a.setScale()});a.getMargins();a.maxTicks=null;y(d,function(a){a.setTickPositions(!0);a.setMaxTicks()});a.adjustTickAmounts();a.getMargins();a.drawChartBox();a.hasCartesianSeries&&y(d,function(a){a.render()});a.seriesGroup||(a.seriesGroup=c.g("series-group").attr({zIndex:3}).add());a.renderSeries();g.items&&y(g.items,function(d){var f=b(g.style,d.style),s=e(f.left)+a.plotLeft,m=e(f.top)+a.plotTop+12;delete f.left;delete f.top;c.text(d.html,s,m).attr({zIndex:2}).css(f).add()});
k.enabled&&!a.credits&&(m=k.href,a.credits=c.text(k.text,0,0).on("click",function(){m&&(location.href=m)}).attr({align:k.position.align,zIndex:8}).css(k.style).add().align(k.position));a.hasRendered=!0},destroy:function(){var a=this,d=a.axes,b=a.series,c=a.container,e,f=c&&c.parentNode;P(a,"destroy");ha[a.index]=G;bb--;a.renderTo.removeAttribute("data-highcharts-chart");ia(a);for(e=d.length;e--;)d[e]=d[e].destroy();for(e=b.length;e--;)b[e]=b[e].destroy();y("title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer scroller rangeSelector legend resetZoomButton tooltip renderer".split(" "),
function(d){var b=a[d];b&&b.destroy&&(a[d]=b.destroy())});c&&(c.innerHTML="",ia(c),f&&Ia(c));for(e in a)delete a[e]},isReadyToRender:function(){var a=this;return!pa&&Q==Q.top&&"complete"!==K.readyState||ta&&!Q.canvg?(ta?Hb.push(function(){a.firstRender()},a.options.global.canvasToolsURL):K.attachEvent("onreadystatechange",function(){K.detachEvent("onreadystatechange",a.firstRender);"complete"===K.readyState&&a.firstRender()}),!1):!0},firstRender:function(){var a=this,d=a.options,b=a.callback;a.isReadyToRender()&&
(a.getContainer(),P(a,"init"),a.resetMargins(),a.setChartSize(),a.propFromSeries(),a.getAxes(),y(d.series||[],function(d){a.initSeries(d)}),a.linkSeries(),P(a,"beforeRender"),da.Pointer&&(a.pointer=new Wa(a,d)),a.render(),a.renderer.draw(),b&&b.apply(a,[a]),y(a.callbacks,function(d){d.apply(a,[a])}),a.cloneRenderTo(!0),P(a,"load"))},splashArray:function(a,d){var b=d[a],b=f(b)?b:[b,b,b,b];return[p(d[a+"Top"],b[0]),p(d[a+"Right"],b[1]),p(d[a+"Bottom"],b[2]),p(d[a+"Left"],b[3])]}};Xa.prototype.callbacks=
[];ja=da.CenteredSeriesMixin={getCenter:function(){var a=this.options,d=this.chart,b=2*(a.slicedOffset||0),c,f=d.plotWidth-2*b,g=d.plotHeight-2*b,d=a.center,a=[p(d[0],"50%"),p(d[1],"50%"),a.size||"100%",a.innerSize||0],m=S(f,g),k;return Va(a,function(a,d){k=/%$/.test(a);c=2>d||2===d&&k;return(k?[f,g,m,m][d]*e(a)/100:a)+(c?b:0)})}};var Ma=function(){};Ma.prototype={init:function(a,d,b){this.series=a;this.applyOptions(d,b);this.pointAttr={};a.options.colorByPoint&&(d=a.options.colors||a.chart.options.colors,
this.color=this.color||d[a.colorCounter++],a.colorCounter===d.length)&&(a.colorCounter=0);a.chart.pointCount++;return this},applyOptions:function(a,d){var c=this.series,e=c.pointValKey;a=Ma.prototype.optionsToObject.call(this,a);b(this,a);this.options=this.options?b(this.options,a):a;e&&(this.y=this[e]);this.x===G&&c&&(this.x=d===G?c.autoIncrement():d);return this},optionsToObject:function(a){var d={},b=this.series,c=b.pointArrayMap||["y"],e=c.length,f=0,g=0;if("number"===typeof a||null===a)d[c[0]]=
a;else if(k(a))for(a.length>e&&(b=typeof a[0],"string"===b?d.name=a[0]:"number"===b&&(d.x=a[0]),f++);g<e;)d[c[g++]]=a[f++];else"object"===typeof a&&(d=a,a.dataLabels&&(b._hasPointLabels=!0),a.marker&&(b._hasPointMarkers=!0));return d},destroy:function(){var a=this.series.chart,d=a.hoverPoints,b;a.pointCount--;d&&(this.setState(),u(d,this),!d.length)&&(a.hoverPoints=null);if(this===a.hoverPoint)this.onMouseOut();if(this.graphic||this.dataLabel)ia(this),this.destroyElements();this.legendItem&&a.legend.destroyItem(this);
for(b in this)this[b]=null},destroyElements:function(){for(var a="graphic dataLabel dataLabelUpper group connector shadowGroup".split(" "),d,b=6;b--;)d=a[b],this[d]&&(this[d]=this[d].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(a){var d=this.series,b=d.tooltipOptions,c=p(b.valueDecimals,""),e=b.valuePrefix||"",f=b.valueSuffix||
"";y(d.pointArrayMap||["y"],function(d){d="{point."+d;if(e||f)a=a.replace(d+"}",e+d+"}"+f);a=a.replace(d+"}",d+":,."+c+"f}")});return va(a,{point:this,series:this.series})},firePointEvent:function(a,d,b){var c=this,e=this.series.options;(e.point.events[a]||c.options&&c.options.events&&c.options.events[a])&&this.importEvents();"click"===a&&e.allowPointSelect&&(b=function(a){c.select(null,a.ctrlKey||a.metaKey||a.shiftKey)});P(this,a,d,b)}};var aa=function(){};aa.prototype={isCartesian:!0,type:"line",
pointClass:Ma,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(a,d){var c=this,e,f,g=a.series,m=function(a,d){return p(a.options.index,a._i)-p(d.options.index,d._i)};c.chart=a;c.options=d=c.setOptions(d);c.linkedSeries=[];c.bindAxes();b(c,{name:d.name,state:"",pointAttr:{},visible:!1!==d.visible,selected:!0===d.selected});ta&&(d.animation=!1);
f=d.events;for(e in f)T(c,e,f[e]);if(f&&f.click||d.point&&d.point.events&&d.point.events.click||d.allowPointSelect)a.runTrackerClick=!0;c.getColor();c.getSymbol();y(c.parallelArrays,function(a){c[a+"Data"]=[]});c.setData(d.data,!1);c.isCartesian&&(a.hasCartesianSeries=!0);g.push(c);c._i=g.length-1;ob(g,m);this.yAxis&&ob(this.yAxis.series,m);y(g,function(a,d){a.index=d;a.name=a.name||"Series "+(d+1)})},bindAxes:function(){var a=this,d=a.options,b=a.chart,c;y(a.axisTypes||[],function(e){y(b[e],function(b){c=
b.options;if(d[e]===c.index||d[e]!==G&&d[e]===c.id||d[e]===G&&0===c.index)b.series.push(a),a[e]=b,b.isDirty=!0});!a[e]&&a.optionalAxis!==e&&oa(18,!0)})},updateParallelArrays:function(a,d){var b=a.series,c=arguments;y(b.parallelArrays,"number"===typeof d?function(c){var e="y"===c&&b.toYData?b.toYData(a):a[c];b[c+"Data"][d]=e}:function(a){Array.prototype[d].apply(b[a+"Data"],Array.prototype.slice.call(c,2))})},autoIncrement:function(){var a=this.options,d=this.xIncrement,d=p(d,a.pointStart,0);this.pointInterval=
p(this.pointInterval,a.pointInterval,1);this.xIncrement=d+this.pointInterval;return d},getSegments:function(){var a=-1,d=[],b,c=this.points,e=c.length;if(e)if(this.options.connectNulls){for(b=e;b--;)null===c[b].y&&c.splice(b,1);c.length&&(d=[c])}else y(c,function(b,h){null===b.y?(h>a+1&&d.push(c.slice(a+1,h)),a=h):h===e-1&&d.push(c.slice(a+1,h+1))});this.segments=d},setOptions:function(a){var d=this.chart,b=d.options.plotOptions,d=d.userOptions||{},e=d.plotOptions||{},f=b[this.type];this.userOptions=
a;b=c(f,b.series,a);this.tooltipOptions=c(X.tooltip,X.plotOptions[this.type].tooltip,d.tooltip,e.series&&e.series.tooltip,e[this.type]&&e[this.type].tooltip,a.tooltip);null===f.marker&&delete b.marker;return b},getColor:function(){var a=this.options,d=this.userOptions,b=this.chart.options.colors,c=this.chart.counters,e;e=a.color||qa[this.type].color;e||a.colorByPoint||(x(d._colorIndex)?a=d._colorIndex:(d._colorIndex=c.color,a=c.color++),e=b[a]);this.color=e;c.wrapColor(b.length)},getSymbol:function(){var a=
this.userOptions,d=this.options.marker,b=this.chart,c=b.options.symbols,b=b.counters;this.symbol=d.symbol;this.symbol||(x(a._symbolIndex)?a=a._symbolIndex:(a._symbolIndex=b.symbol,a=b.symbol++),this.symbol=c[a]);/^url/.test(this.symbol)&&(d.radius=0);b.wrapSymbol(c.length)},drawLegendSymbol:W.drawLineMarker,setData:function(a,d,b,c){var e=this,f=e.points,m=f&&f.length||0,J,n=e.options,q=e.chart,H=null,w=e.xAxis,t=w&&!!w.categories,v=e.tooltipPoints,u=n.turboThreshold,x=this.xData,z=this.yData,A=(J=
e.pointArrayMap)&&J.length;a=a||[];J=a.length;d=p(d,!0);if(!1===c||!J||m!==J||e.cropped||e.hasGroupedData){e.xIncrement=null;e.pointRange=t?1:n.pointRange;e.colorCounter=0;y(this.parallelArrays,function(a){e[a+"Data"].length=0});if(u&&J>u){for(b=0;null===H&&b<J;)H=a[b],b++;if(l(H)){t=p(n.pointStart,0);n=p(n.pointInterval,1);for(b=0;b<J;b++)x[b]=t,z[b]=a[b],t+=n;e.xIncrement=t}else if(k(H))if(A)for(b=0;b<J;b++)n=a[b],x[b]=n[0],z[b]=n.slice(1,A+1);else for(b=0;b<J;b++)n=a[b],x[b]=n[0],z[b]=n[1];else oa(12)}else for(b=
0;b<J;b++)a[b]!==G&&(n={series:e},e.pointClass.prototype.applyOptions.apply(n,[a[b]]),e.updateParallelArrays(n,b),t&&n.name)&&(w.names[n.x]=n.name);g(z[0])&&oa(14,!0);e.data=[];e.options.data=a;for(b=m;b--;)f[b]&&f[b].destroy&&f[b].destroy();v&&(v.length=0);w&&(w.minRange=w.userMinRange);e.isDirty=e.isDirtyData=q.isDirtyBox=!0;b=!1}else y(a,function(a,d){f[d].update(a,!1)});d&&q.redraw(b)},processData:function(a){var d=this.xData,b=this.yData,c=d.length,e;e=0;var f,g,k=this.xAxis,n=this.options,p=
n.cropThreshold,l=0,w=this.isCartesian,q,v;if(w&&!(this.isDirty||k.isDirty||this.yAxis.isDirty||a))return!1;if(w&&this.sorted&&(!p||c>p||this.forceCrop))if(q=k.min,v=k.max,d[c-1]<q||d[0]>v)d=[],b=[];else if(d[0]<q||d[c-1]>v)e=this.cropData(this.xData,this.yData,q,v),d=e.xData,b=e.yData,e=e.start,f=!0,l=d.length;for(c=d.length-1;0<=c;c--)a=d[c]-d[c-1],!f&&d[c]>q&&d[c]<v&&l++,0<a&&(g===G||a<g)?g=a:0>a&&this.requireSorting&&oa(15);this.cropped=f;this.cropStart=e;this.processedXData=d;this.processedYData=
b;this.activePointCount=l;null===n.pointRange&&(this.pointRange=g||1);this.closestPointRange=g},cropData:function(a,d,b,c){var e=a.length,f=0,g=e,k=p(this.cropShoulder,1),n;for(n=0;n<e;n++)if(a[n]>=b){f=F(0,n-k);break}for(;n<e;n++)if(a[n]>c){g=n+k;break}return{xData:a.slice(f,g),yData:d.slice(f,g),start:f,end:g}},generatePoints:function(){var a=this.options.data,d=this.data,b,c=this.processedXData,e=this.processedYData,f=this.pointClass,g=c.length,k=this.cropStart||0,n,p=this.hasGroupedData,l,w=[],
q;d||p||(d=[],d.length=a.length,d=this.data=d);for(q=0;q<g;q++)n=k+q,p?w[q]=(new f).init(this,[c[q]].concat(B(e[q]))):(d[n]?l=d[n]:a[n]!==G&&(d[n]=l=(new f).init(this,a[n],c[q])),w[q]=l);if(d&&(g!==(b=d.length)||p))for(q=0;q<b;q++)if(q===k&&!p&&(q+=g),d[q])d[q].destroyElements(),d[q].plotX=G;this.data=d;this.points=w},getExtremes:function(a){var d=this.yAxis,b=this.processedXData,c,e=[],f=0;c=this.xAxis.getExtremes();var g=c.min,k=c.max,n,l,q,w;a=a||this.stackedYData||this.processedYData;c=a.length;
for(w=0;w<c;w++)if(l=b[w],q=a[w],n=null!==q&&q!==G&&(!d.isLog||q.length||0<q),l=this.getExtremesFromAll||this.cropped||(b[w+1]||l)>=g&&(b[w-1]||l)<=k,n&&l)if(n=q.length)for(;n--;)null!==q[n]&&(e[f++]=q[n]);else e[f++]=q;this.dataMin=p(void 0,Qa(e));this.dataMax=p(void 0,Aa(e))},translate:function(){this.processedXData||this.processData();this.generatePoints();for(var a=this.options,d=a.stacking,b=this.xAxis,c=b.categories,e=this.yAxis,f=this.points,g=f.length,k=!!this.modifyValue,n=a.pointPlacement,
q="between"===n||l(n),t=a.threshold,a=0;a<g;a++){var w=f[a],u=w.x,v=w.y,D=w.low,y=d&&e.stacks[(this.negStacks&&v<t?"-":"")+this.stackKey];e.isLog&&0>=v&&(w.y=v=null);w.plotX=b.translate(u,0,0,0,1,n,"flags"===this.type);d&&this.visible&&y&&y[u]&&(y=y[u],v=y.points[this.index+","+a],D=v[0],v=v[1],0===D&&(D=p(t,e.min)),e.isLog&&0>=D&&(D=null),w.total=w.stackTotal=y.total,w.percentage=y.total&&w.y/y.total*100,w.stackY=v,y.setOffset(this.pointXOffset||0,this.barW||0));w.yBottom=x(D)?e.translate(D,0,1,
0,1):null;k&&(v=this.modifyValue(v,w));w.plotY="number"===typeof v&&Infinity!==v?e.translate(v,0,1,0,1):G;w.clientX=q?b.translate(u,0,0,0,1):w.plotX;w.negative=w.y<(t||0);w.category=c&&c[w.x]!==G?c[w.x]:w.x}this.getSegments()},animate:function(a){var d=this.chart,c=d.renderer,e;e=this.options.animation;var g=this.clipBox||d.clipBox,k=d.inverted,m;e&&!f(e)&&(e=qa[this.type].animation);m=["_sharedClip",e.duration,e.easing,g.height].join();a?(a=d[m],e=d[m+"m"],a||(d[m]=a=c.clipRect(b(g,{width:0})),d[m+
"m"]=e=c.clipRect(-99,k?-d.plotLeft:-d.plotTop,99,k?d.chartWidth:d.chartHeight)),this.group.clip(a),this.markerGroup.clip(e),this.sharedClipKey=m):((a=d[m])&&a.animate({width:d.plotSizeX},e),d[m+"m"]&&d[m+"m"].animate({width:d.plotSizeX+99},e),this.animate=null)},afterAnimate:function(){var a=this.chart,d=this.sharedClipKey,b=this.group,c=this.clipBox;b&&!1!==this.options.clip&&(d&&c||b.clip(c?a.renderer.clipRect(c):a.clipRect),this.markerGroup.clip());P(this,"afterAnimate");setTimeout(function(){d&&
a[d]&&(c||(a[d]=a[d].destroy()),a[d+"m"]&&(a[d+"m"]=a[d+"m"].destroy()))},100)},drawPoints:function(){var a,d=this.points,c=this.chart,e,f,g,m,k,n,l,q;e=this.options.marker;var w=this.pointAttr[""],t,v=this.markerGroup,u=p(e.enabled,this.activePointCount<0.5*this.xAxis.len/e.radius);if(!1!==e.enabled||this._hasPointMarkers)for(g=d.length;g--;)(m=d[g],e=fa(m.plotX),f=m.plotY,q=m.graphic,n=m.marker||{},a=u&&n.enabled===G||n.enabled,t=c.isInsidePlot(E(e),f,c.inverted),a&&f!==G&&!isNaN(f)&&null!==m.y)?
(a=m.pointAttr[m.selected?"select":""]||w,k=a.r,n=p(n.symbol,this.symbol),l=0===n.indexOf("url"),q)?q[t?"show":"hide"](!0).animate(b({x:e-k,y:f-k},q.symbolName?{width:2*k,height:2*k}:{})):t&&(0<k||l)&&(m.graphic=c.renderer.symbol(n,e-k,f-k,2*k,2*k).attr(a).add(v)):q&&(m.graphic=q.destroy())},convertAttribs:function(a,d,b,c){var e=this.pointAttrToOptions,f,g,k={};a=a||{};d=d||{};b=b||{};c=c||{};for(f in e)g=e[f],k[f]=p(a[g],d[f],b[f],c[f]);return k},getAttribs:function(){var a=this,d=a.options,c=qa[a.type].marker?
d.marker:d,e=c.states,f=e.hover,g,m=a.color;g={stroke:m,fill:m};var k=a.points||[],n,p=[],l,w=a.pointAttrToOptions;l=a.hasPointSpecificOptions;var q=d.negativeColor,v=c.lineColor,t=c.fillColor;n=d.turboThreshold;var u;d.marker?(f.radius=f.radius||c.radius+2,f.lineWidth=f.lineWidth||c.lineWidth+1):f.color=f.color||Ha(f.color||m).brighten(f.brightness).get();p[""]=a.convertAttribs(c,g);y(["hover","select"],function(d){p[d]=a.convertAttribs(e[d],p[""])});a.pointAttr=p;m=k.length;if(!n||m<n||l)for(;m--;){n=
k[m];(c=n.options&&n.options.marker||n.options)&&!1===c.enabled&&(c.radius=0);n.negative&&q&&(n.color=n.fillColor=q);l=d.colorByPoint||n.color;if(n.options)for(u in w)x(c[w[u]])&&(l=!0);l?(c=c||{},l=[],e=c.states||{},g=e.hover=e.hover||{},d.marker||(g.color=g.color||!n.options.color&&f.color||Ha(n.color).brighten(g.brightness||f.brightness).get()),g={color:n.color},t||(g.fillColor=n.color),v||(g.lineColor=n.color),l[""]=a.convertAttribs(b(g,c),p[""]),l.hover=a.convertAttribs(e.hover,p.hover,l[""]),
l.select=a.convertAttribs(e.select,p.select,l[""])):l=p;n.pointAttr=l}},destroy:function(){var a=this,d=a.chart,b=/AppleWebKit\/533/.test(Fa),c,e,f=a.data||[],g,k,n;P(a,"destroy");ia(a);y(a.axisTypes||[],function(d){if(n=a[d])u(n.series,a),n.isDirty=n.forceRedraw=!0});a.legendItem&&a.chart.legend.destroyItem(a);for(e=f.length;e--;)(g=f[e])&&g.destroy&&g.destroy();a.points=null;clearTimeout(a.animationTimeout);y("area graph dataLabelsGroup group markerGroup tracker graphNeg areaNeg posClip negClip".split(" "),
function(d){a[d]&&(c=b&&"group"===d?"hide":"destroy",a[d][c]())});d.hoverSeries===a&&(d.hoverSeries=null);u(d.series,a);for(k in a)delete a[k]},getSegmentPath:function(a){var d=this,b=[],c=d.options.step;y(a,function(e,f){var g=e.plotX,k=e.plotY,n;d.getPointSpline?b.push.apply(b,d.getPointSpline(a,e,f)):(b.push(f?"L":"M"),c&&f&&(n=a[f-1],"right"===c?b.push(n.plotX,k):"center"===c?b.push((n.plotX+g)/2,n.plotY,(n.plotX+g)/2,k):b.push(g,n.plotY)),b.push(e.plotX,e.plotY))});return b},getGraphPath:function(){var a=
this,d=[],b,c=[];y(a.segments,function(e){b=a.getSegmentPath(e);1<e.length?d=d.concat(b):c.push(e[0])});a.singlePoints=c;return a.graphPath=d},drawGraph:function(){var a=this,d=this.options,b=[["graph",d.lineColor||this.color]],c=d.lineWidth,e=d.dashStyle,f="square"!==d.linecap,g=this.getGraphPath(),k=d.negativeColor;k&&b.push(["graphNeg",k]);y(b,function(b,h){var k=b[0],p=a[k];p?(cb(p),p.animate({d:g})):c&&g.length&&(p={stroke:b[1],"stroke-width":c,fill:ca,zIndex:1},e?p.dashstyle=e:f&&(p["stroke-linecap"]=
p["stroke-linejoin"]="round"),a[k]=a.chart.renderer.path(g).attr(p).add(a.group).shadow(!h&&d.shadow))})},clipNeg:function(){var a=this.options,d=this.chart,b=d.renderer,c=a.negativeColor||a.negativeFillColor,e,f=this.graph,g=this.area,k=this.posClip,n=this.negClip;e=d.chartWidth;var p=d.chartHeight,l=F(e,p),q=this.yAxis;c&&(f||g)&&(c=E(q.toPixels(a.threshold||0,!0)),0>c&&(l-=c),a={x:0,y:0,width:l,height:c},l={x:0,y:c,width:l,height:l},d.inverted&&(a.height=l.y=d.plotWidth-c,b.isVML&&(a={x:d.plotWidth-
c-d.plotLeft,y:0,width:e,height:p},l={x:c+d.plotLeft-e,y:0,width:d.plotLeft+c,height:e})),q.reversed?(d=l,e=a):(d=a,e=l),k?(k.animate(d),n.animate(e)):(this.posClip=k=b.clipRect(d),this.negClip=n=b.clipRect(e),f&&this.graphNeg&&(f.clip(k),this.graphNeg.clip(n)),g&&(g.clip(k),this.areaNeg.clip(n))))},invertGroups:function(){function a(){var a={width:d.yAxis.len,height:d.xAxis.len};y(["group","markerGroup"],function(b){d[b]&&d[b].attr(a).invert()})}var d=this,b=d.chart;d.xAxis&&(T(b,"resize",a),T(d,
"destroy",function(){ia(b,"resize",a)}),a(),d.invertGroups=a)},plotGroup:function(a,d,b,c,e){var f=this[a],g=!f;g&&(this[a]=f=this.chart.renderer.g(d).attr({visibility:b,zIndex:c||0.1}).add(e));f[g?"attr":"animate"](this.getPlotBox());return f},getPlotBox:function(){var a=this.chart,d=this.xAxis,b=this.yAxis;a.inverted&&(d=b,b=this.xAxis);return{translateX:d?d.left:a.plotLeft,translateY:b?b.top:a.plotTop,scaleX:1,scaleY:1}},render:function(){var a=this,d=a.chart,b,c=a.options,e=(b=c.animation)&&!!a.animate&&
d.renderer.isSVG&&p(b.duration,500)||0,f=a.visible?"visible":"hidden",g=c.zIndex,k=a.hasRendered,n=d.seriesGroup;b=a.plotGroup("group","series",f,g,n);a.markerGroup=a.plotGroup("markerGroup","markers",f,g,n);e&&a.animate(!0);a.getAttribs();b.inverted=a.isCartesian?d.inverted:!1;a.drawGraph&&(a.drawGraph(),a.clipNeg());a.drawDataLabels&&a.drawDataLabels();a.visible&&a.drawPoints();a.drawTracker&&!1!==a.options.enableMouseTracking&&a.drawTracker();d.inverted&&a.invertGroups();!1===c.clip||a.sharedClipKey||
k||b.clip(d.clipRect);e&&a.animate();k||(e?a.animationTimeout=setTimeout(function(){a.afterAnimate()},e):a.afterAnimate());a.isDirty=a.isDirtyData=!1;a.hasRendered=!0},redraw:function(){var a=this.chart,d=this.isDirtyData,b=this.group,c=this.xAxis,e=this.yAxis;b&&(a.inverted&&b.attr({width:a.plotWidth,height:a.plotHeight}),b.animate({translateX:p(c&&c.left,a.plotLeft),translateY:p(e&&e.top,a.plotTop)}));this.translate();this.setTooltipPoints&&this.setTooltipPoints(!0);this.render();d&&P(this,"updatedData")}};
zb.prototype={destroy:function(){Ra(this,this.axis)},render:function(a){var d=this.options,b=d.format,b=b?va(b,this):d.formatter.call(this);this.label?this.label.attr({text:b,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(b,null,null,d.useHTML).css(d.style).attr({align:this.textAlign,rotation:d.rotation,visibility:"hidden"}).add(a)},setOffset:function(a,b){var c=this.axis,e=c.chart,f=e.inverted,g=this.isNegative,m=c.translate(c.usePercentage?100:this.total,0,0,0,1),c=c.translate(0),
c=Y(m-c),k=e.xAxis[0].translate(this.x)+a,n=e.plotHeight,g={x:f?g?m:m-c:k,y:f?n-k-b:g?n-m-c:n-m,width:f?c:b,height:f?b:c};if(f=this.label)f.align(this.alignOptions,null,g),g=f.alignAttr,f[!1===this.options.crop||e.isInsidePlot(g.x,g.y)?"show":"hide"](!0)}};ma.prototype.buildStacks=function(){var a=this.series,b=p(this.options.reversedStacks,!0),c=a.length;if(!this.isXAxis){for(this.usePercentage=!1;c--;)a[b?c:a.length-c-1].setStackedPoints();if(this.usePercentage)for(c=0;c<a.length;c++)a[c].setPercentStacks()}};
ma.prototype.renderStackTotals=function(){var a=this.chart,b=a.renderer,c=this.stacks,e,f,g=this.stackTotalGroup;g||(this.stackTotalGroup=g=b.g("stack-labels").attr({visibility:"visible",zIndex:6}).add());g.translate(a.plotLeft,a.plotTop);for(e in c)for(f in a=c[e],a)a[f].render(g)};aa.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var a=this.processedXData,b=this.processedYData,c=[],e=b.length,f=this.options,
g=f.threshold,m=f.stack,f=f.stacking,k=this.stackKey,n="-"+k,p=this.negStacks,l=this.yAxis,q=l.stacks,t=l.oldStacks,v,u,y,x,z,A;for(x=0;x<e;x++)z=a[x],A=b[x],y=this.index+","+x,u=(v=p&&A<g)?n:k,q[u]||(q[u]={}),q[u][z]||(t[u]&&t[u][z]?(q[u][z]=t[u][z],q[u][z].total=null):q[u][z]=new zb(l,l.options.stackLabels,v,z,m)),u=q[u][z],u.points[y]=[u.cum||0],"percent"===f?(v=v?k:n,p&&q[v]&&q[v][z]?(v=q[v][z],u.total=v.total=F(v.total,u.total)+Y(A)||0):u.total=la(u.total+(Y(A)||0))):u.total=la(u.total+(A||0)),
u.cum=(u.cum||0)+(A||0),u.points[y].push(u.cum),c[x]=u.cum;"percent"===f&&(l.usePercentage=!0);this.stackedYData=c;l.oldStacks={}}};aa.prototype.setPercentStacks=function(){var a=this,b=a.stackKey,c=a.yAxis.stacks,e=a.processedXData;y([b,"-"+b],function(b){for(var d,f=e.length,g,k;f--;)if(g=e[f],d=(k=c[b]&&c[b][g])&&k.points[a.index+","+f],g=d)k=k.total?100/k.total:0,g[0]=la(g[0]*k),g[1]=la(g[1]*k),a.stackedYData[f]=g[1]})};b(Xa.prototype,{addSeries:function(a,b,c){var e,f=this;a&&(b=p(b,!0),P(f,
"addSeries",{options:a},function(){e=f.initSeries(a);f.isDirtyLegend=!0;f.linkSeries();b&&f.redraw(c)}));return e},addAxis:function(a,b,e,f){var g=b?"xAxis":"yAxis",k=this.options;new ma(this,c(a,{index:this[g].length,isX:b}));k[g]=B(k[g]||{});k[g].push(a);p(e,!0)&&this.redraw(f)},showLoading:function(a){var d=this.options,c=this.loadingDiv,e=d.loading;c||(this.loadingDiv=c=R(Oa,{className:"highcharts-loading"},b(e.style,{zIndex:10,display:ca}),this.container),this.loadingSpan=R("span",null,e.labelStyle,
c));this.loadingSpan.innerHTML=a||d.lang.loading;this.loadingShown||(C(c,{opacity:0,display:"",left:this.plotLeft+"px",top:this.plotTop+"px",width:this.plotWidth+"px",height:this.plotHeight+"px"}),mb(c,{opacity:e.style.opacity},{duration:e.showDuration||0}),this.loadingShown=!0)},hideLoading:function(){var a=this.options,b=this.loadingDiv;b&&mb(b,{opacity:0},{duration:a.loading.hideDuration||100,complete:function(){C(b,{display:ca})}});this.loadingShown=!1}});b(Ma.prototype,{update:function(a,b,c){var e=
this,g=e.series,k=e.graphic,m,l=g.data,n=g.chart,q=g.options;b=p(b,!0);e.firePointEvent("update",{options:a},function(){e.applyOptions(a);f(a)&&(g.getAttribs(),k&&(a&&a.marker&&a.marker.symbol?e.graphic=k.destroy():k.attr(e.pointAttr[e.state||""])),a&&a.dataLabels&&e.dataLabel&&(e.dataLabel=e.dataLabel.destroy()));m=La(e,l);g.updateParallelArrays(e,m);q.data[m]=e.options;g.isDirty=g.isDirtyData=!0;!g.fixedBox&&g.hasCartesianSeries&&(n.isDirtyBox=!0);"point"===q.legendType&&n.legend.destroyItem(e);
b&&n.redraw(c)})},remove:function(a,b){var c=this,e=c.series,f=e.points,g=e.chart,k,l=e.data;Sa(b,g);a=p(a,!0);c.firePointEvent("remove",null,function(){k=La(c,l);l.length===f.length&&f.splice(k,1);l.splice(k,1);e.options.data.splice(k,1);e.updateParallelArrays(c,"splice",k,1);c.destroy();e.isDirty=!0;e.isDirtyData=!0;a&&g.redraw()})}});b(aa.prototype,{addPoint:function(a,b,c,e){var f=this.options,g=this.data,k=this.graph,l=this.area,n=this.chart,q=this.xAxis&&this.xAxis.names,u=k&&k.shift||0,w=f.data,
t,v=this.xData;Sa(e,n);c&&y([k,l,this.graphNeg,this.areaNeg],function(a){a&&(a.shift=u+1)});l&&(l.isArea=!0);b=p(b,!0);e={series:this};this.pointClass.prototype.applyOptions.apply(e,[a]);k=e.x;l=v.length;if(this.requireSorting&&k<v[l-1])for(t=!0;l&&v[l-1]>k;)l--;this.updateParallelArrays(e,"splice",l,0,0);this.updateParallelArrays(e,l);q&&(q[k]=e.name);w.splice(l,0,a);t&&(this.data.splice(l,0,null),this.processData());"point"===f.legendType&&this.generatePoints();c&&(g[0]&&g[0].remove?g[0].remove(!1):
(g.shift(),this.updateParallelArrays(e,"shift"),w.shift()));this.isDirtyData=this.isDirty=!0;b&&(this.getAttribs(),n.redraw())},remove:function(a,b){var c=this,e=c.chart;a=p(a,!0);c.isRemoving||(c.isRemoving=!0,P(c,"remove",null,function(){c.destroy();e.isDirtyLegend=e.isDirtyBox=!0;e.linkSeries();a&&e.redraw(b)}));c.isRemoving=!1},update:function(a,d){var e=this.chart,f=this.type,g=V[f].prototype,k;a=c(this.userOptions,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},
a);this.remove(!1);for(k in g)g.hasOwnProperty(k)&&(this[k]=G);b(this,V[a.type||f].prototype);this.init(e,a);p(d,!0)&&e.redraw(!1)}});b(ma.prototype,{update:function(a,d){var e=this.chart;a=e.options[this.coll][this.options.index]=c(this.userOptions,a);this.destroy(!0);this._addedPlotLB=G;this.init(e,b(a,{events:G}));e.isDirtyBox=!0;p(d,!0)&&e.redraw()},remove:function(a){for(var b=this.chart,c=this.coll,e=this.series,f=e.length;f--;)e[f]&&e[f].remove(!1);u(b.axes,this);u(b[c],this);b.options[c].splice(this.options.index,
1);y(b[c],function(a,b){a.options.index=b});this.destroy();b.isDirtyBox=!0;p(a,!0)&&b.redraw()},setTitle:function(a,b){this.update({title:a},b)},setCategories:function(a,b){this.update({categories:a},b)}});ua=ba(aa);V.line=ua;qa.area=c(ea,{threshold:0});var za=ba(aa,{type:"area",getSegments:function(){var a=[],b=[],c=[],e=this.xAxis,f=this.yAxis,g=f.stacks[this.stackKey],k={},l,n,p=this.points,q=this.options.connectNulls,w,u,v;if(this.options.stacking&&!this.cropped){for(u=0;u<p.length;u++)k[p[u].x]=
p[u];for(v in g)null!==g[v].total&&c.push(+v);c.sort(function(a,b){return a-b});y(c,function(a){if(!q||k[a]&&null!==k[a].y)k[a]?b.push(k[a]):(l=e.translate(a),w=g[a].percent?g[a].total?100*g[a].cum/g[a].total:0:g[a].cum,n=f.toPixels(w,!0),b.push({y:null,plotX:l,clientX:l,plotY:n,yBottom:n,onMouseOver:Ba}))});b.length&&a.push(b)}else aa.prototype.getSegments.call(this),a=this.segments;this.segments=a},getSegmentPath:function(a){var b=aa.prototype.getSegmentPath.call(this,a),c=[].concat(b),e,f=this.options;
e=b.length;var g=this.yAxis.getThreshold(f.threshold),k;3===e&&c.push("L",b[1],b[2]);if(f.stacking&&!this.closedStacks)for(e=a.length-1;0<=e;e--)k=p(a[e].yBottom,g),e<a.length-1&&f.step&&c.push(a[e+1].plotX,k),c.push(a[e].plotX,k);else this.closeSegment(c,a,g);this.areaPath=this.areaPath.concat(c);return b},closeSegment:function(a,b,c){a.push("L",b[b.length-1].plotX,c,"L",b[0].plotX,c)},drawGraph:function(){this.areaPath=[];aa.prototype.drawGraph.apply(this);var a=this,b=this.areaPath,c=this.options,
e=c.negativeColor,f=c.negativeFillColor,g=[["area",this.color,c.fillColor]];(e||f)&&g.push(["areaNeg",e,f]);y(g,function(e){var f=e[0],g=a[f];g?g.animate({d:b}):a[f]=a.chart.renderer.path(b).attr({fill:p(e[2],Ha(e[1]).setOpacity(p(c.fillOpacity,0.75)).get()),zIndex:0}).add(a.group)})},drawLegendSymbol:W.drawRectangle});V.area=za;qa.spline=c(ea);ua=ba(aa,{type:"spline",getPointSpline:function(a,b,c){var e=b.plotX,f=b.plotY,g=a[c-1],k=a[c+1],l,n,p,q;if(g&&k){a=g.plotY;p=k.plotX;var k=k.plotY,w;l=(1.5*
e+g.plotX)/2.5;n=(1.5*f+a)/2.5;p=(1.5*e+p)/2.5;q=(1.5*f+k)/2.5;w=(q-n)*(p-e)/(p-l)+f-q;n+=w;q+=w;n>a&&n>f?(n=F(a,f),q=2*f-n):n<a&&n<f&&(n=S(a,f),q=2*f-n);q>k&&q>f?(q=F(k,f),n=2*f-q):q<k&&q<f&&(q=S(k,f),n=2*f-q);b.rightContX=p;b.rightContY=q}c?(b=["C",g.rightContX||g.plotX,g.rightContY||g.plotY,l||e,n||f,e,f],g.rightContX=g.rightContY=null):b=["M",e,f];return b}});V.spline=ua;qa.areaspline=c(qa.area);za=za.prototype;ua=ba(ua,{type:"areaspline",closedStacks:!0,getSegmentPath:za.getSegmentPath,closeSegment:za.closeSegment,
drawGraph:za.drawGraph,drawLegendSymbol:W.drawRectangle});V.areaspline=ua;qa.column=c(ea,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:0.2,marker:null,pointPadding:0.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:0.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,tooltip:{distance:6},threshold:0});ua=ba(aa,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",
r:"borderRadius"},cropShoulder:0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){aa.prototype.init.apply(this,arguments);var a=this,b=a.chart;b.hasRendered&&y(b.series,function(b){b.type===a.type&&(b.isDirty=!0)})},getColumnMetrics:function(){var a=this,b=a.options,c=a.xAxis,e=a.yAxis,f=c.reversed,g,k={},l,n=0;!1===b.grouping?n=1:y(a.chart.series,function(b){var d=b.options,c=b.yAxis;b.type===a.type&&b.visible&&e.len===c.len&&e.pos===c.pos&&(d.stacking?(g=b.stackKey,k[g]===
G&&(k[g]=n++),l=k[g]):!1!==d.grouping&&(l=n++),b.columnIndex=l)});var c=S(Y(c.transA)*(c.ordinalSlope||b.pointRange||c.closestPointRange||c.tickInterval||1),c.len),q=c*b.groupPadding,u=(c-2*q)/n,w=b.pointWidth,b=x(w)?(u-w)/2:u*b.pointPadding,w=p(w,u-2*b);return a.columnMetrics={width:w,offset:b+(q+((f?n-(a.columnIndex||0):a.columnIndex)||0)*u-c/2)*(f?-1:1)}},translate:function(){var a=this,b=a.chart,c=a.options,e=a.borderWidth=p(c.borderWidth,a.activePointCount>0.5*a.xAxis.len?0:1),f=a.yAxis,g=a.translatedThreshold=
f.getThreshold(c.threshold),k=p(c.minPointLength,5),c=a.getColumnMetrics(),l=c.width,n=a.barW=Pa(F(l,1+2*e)),q=a.pointXOffset=c.offset,u=-(e%2?0.5:0),w=e%2?0.5:1;b.renderer.isVML&&b.inverted&&(w+=1);aa.prototype.translate.apply(a);y(a.points,function(c){var e=p(c.yBottom,g),h=S(F(-999-e,c.plotY),f.len+999+e),s=c.plotX+q,t=n,x=S(h,e),y;y=F(h,e)-x;Y(y)<k&&k&&(y=k,x=E(Y(x-g)>k?e-k:g-(f.translate(c.y,0,1,0,1)<=g?k:0)));c.barX=s;c.pointWidth=l;c.tooltipPos=b.inverted?[f.len-h,a.xAxis.len-s-t/2]:[s+t/2,
h];e=0.5>Y(s);t=E(s+t)+u;s=E(s)+u;t-=s;h=0.5>Y(x);y=E(x+y)+w;x=E(x)+w;y-=x;e&&(s+=1,t-=1);h&&(x-=1,y+=1);c.shapeType="rect";c.shapeArgs={x:s,y:x,width:t,height:y}})},getSymbol:Ba,drawLegendSymbol:W.drawRectangle,drawGraph:Ba,drawPoints:function(){var a=this,b=this.chart,e=a.options,f=b.renderer,g=e.animationLimit||250,k,m,l;y(a.points,function(n){var p=n.plotY,q=n.graphic;p===G||isNaN(p)||null===n.y?q&&(n.graphic=q.destroy()):(k=n.shapeArgs,l=x(a.borderWidth)?{"stroke-width":a.borderWidth}:{},m=n.pointAttr[n.selected?
"select":""]||a.pointAttr[""],q?(cb(q),q.attr(l)[b.pointCount<g?"animate":"attr"](c(k))):n.graphic=f[n.shapeType](k).attr(m).attr(l).add(a.group).shadow(e.shadow,null,e.stacking&&!e.borderRadius))})},animate:function(a){var b=this.yAxis,c=this.options,e=this.chart.inverted,f={};pa&&(a?(f.scaleY=0.001,a=S(b.pos+b.len,F(b.pos,b.toPixels(c.threshold))),e?f.translateX=a-b.len:f.translateY=a,this.group.attr(f)):(f.scaleY=1,f[e?"translateX":"translateY"]=b.pos,this.group.animate(f,this.options.animation),
this.animate=null))},remove:function(){var a=this,b=a.chart;b.hasRendered&&y(b.series,function(b){b.type===a.type&&(b.isDirty=!0)});aa.prototype.remove.apply(a,arguments)}});V.column=ua;qa.bar=c(qa.column);za=ba(ua,{type:"bar",inverted:!0});V.bar=za;qa.scatter=c(ea,{lineWidth:0,tooltip:{headerFormat:'<span style="color:{series.color}">\u25cf</span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"},stickyTracking:!1});za=ba(aa,
{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["markerGroup"],takeOrdinalPosition:!1,singularTooltips:!0,drawGraph:function(){this.options.lineWidth&&aa.prototype.drawGraph.call(this)}});V.scatter=za;qa.pie=c(ea,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:0.1,
shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}});ea={type:"pie",isCartesian:!1,pointClass:ba(Ma,{init:function(){Ma.prototype.init.apply(this,arguments);var a=this,d;0>a.y&&(a.y=null);b(a,{visible:!1!==a.visible,name:p(a.name,"Slice")});d=function(b){a.slice("select"===b.type)};T(a,"select",d);T(a,"unselect",d);return a},setVisible:function(a){var b=this,c=b.series,e=c.chart;b.visible=b.options.visible=a=a===G?!b.visible:a;c.options.data[La(b,c.data)]=b.options;y(["graphic","dataLabel",
"connector","shadowGroup"],function(c){if(b[c])b[c][a?"show":"hide"](!0)});b.legendItem&&e.legend.colorizeItem(b,a);!c.isDirty&&c.options.ignoreHiddenPoint&&(c.isDirty=!0,e.redraw())},slice:function(a,b,c){var e=this.series;Sa(c,e.chart);p(b,!0);this.sliced=this.options.sliced=a=x(a)?a:!this.sliced;e.options.data[La(this,e.data)]=this.options;a=a?this.slicedTranslation:{translateX:0,translateY:0};this.graphic.animate(a);this.shadowGroup&&this.shadowGroup.animate(a)},haloPath:function(a){var b=this.shapeArgs,
c=this.series.chart;return this.series.chart.renderer.symbols.arc(c.plotLeft+b.x,c.plotTop+b.y,b.r+a,b.r+a,{innerR:this.shapeArgs.r,start:b.start,end:b.end})}}),requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},singularTooltips:!0,getColor:Ba,animate:function(a){var b=this,c=b.points,e=b.startAngleRad;a||(y(c,function(a){var c=a.graphic;a=a.shapeArgs;c&&(c.attr({r:b.center[3]/
2,start:e,end:e}),c.animate({r:a.r,start:a.start,end:a.end},b.options.animation))}),b.animate=null)},setData:function(a,b,c,e){aa.prototype.setData.call(this,a,!1,c,e);this.processData();this.generatePoints();p(b,!0)&&this.chart.redraw(c)},generatePoints:function(){var a,b=0,c,e,f,g=this.options.ignoreHiddenPoint;aa.prototype.generatePoints.call(this);c=this.points;e=c.length;for(a=0;a<e;a++)f=c[a],b+=g&&!f.visible?0:f.y;this.total=b;for(a=0;a<e;a++)f=c[a],f.percentage=0<b?f.y/b*100:0,f.total=b},
translate:function(a){this.generatePoints();var b=0,c=this.options,e=c.slicedOffset,f=e+c.borderWidth,g,k,l,n=c.startAngle||0,q=this.startAngleRad=xa/180*(n-90),n=(this.endAngleRad=xa/180*(p(c.endAngle,n+360)-90))-q,u=this.points,w=c.dataLabels.distance,c=c.ignoreHiddenPoint,t,v=u.length,x;a||(this.center=a=this.getCenter());this.getX=function(b,d){l=ga.asin(S((b-a[1])/(a[2]/2+w),1));return a[0]+(d?-1:1)*na(l)*(a[2]/2+w)};for(t=0;t<v;t++){x=u[t];g=q+b*n;if(!c||x.visible)b+=x.percentage/100;k=q+b*
n;x.shapeType="arc";x.shapeArgs={x:a[0],y:a[1],r:a[2]/2,innerR:a[3]/2,start:E(1E3*g)/1E3,end:E(1E3*k)/1E3};l=(k+g)/2;l>1.5*xa?l-=2*xa:l<-xa/2&&(l+=2*xa);x.slicedTranslation={translateX:E(na(l)*e),translateY:E(sa(l)*e)};g=na(l)*a[2]/2;k=sa(l)*a[2]/2;x.tooltipPos=[a[0]+0.7*g,a[1]+0.7*k];x.half=l<-xa/2||l>xa/2?1:0;x.angle=l;f=S(f,w/2);x.labelPos=[a[0]+g+na(l)*w,a[1]+k+sa(l)*w,a[0]+g+na(l)*f,a[1]+k+sa(l)*f,a[0]+g,a[1]+k,0>w?"center":x.half?"right":"left",l]}},drawGraph:null,drawPoints:function(){var a=
this,d=a.chart.renderer,c,e,f=a.options.shadow,g,k;f&&!a.shadowGroup&&(a.shadowGroup=d.g("shadow").add(a.group));y(a.points,function(l){e=l.graphic;k=l.shapeArgs;g=l.shadowGroup;f&&!g&&(g=l.shadowGroup=d.g("shadow").add(a.shadowGroup));c=l.sliced?l.slicedTranslation:{translateX:0,translateY:0};g&&g.attr(c);e?e.animate(b(k,c)):l.graphic=e=d[l.shapeType](k).setRadialReference(a.center).attr(l.pointAttr[l.selected?"select":""]).attr({"stroke-linejoin":"round"}).attr(c).add(a.group).shadow(f,g);void 0!==
l.visible&&l.setVisible(l.visible)})},sortByAngle:function(a,b){a.sort(function(a,c){return void 0!==a.angle&&(c.angle-a.angle)*b})},drawLegendSymbol:W.drawRectangle,getCenter:ja.getCenter,getSymbol:Ba};ea=ba(aa,ea);V.pie=ea;aa.prototype.drawDataLabels=function(){var a=this,d=a.options,e=d.cursor,f=d.dataLabels,g=a.points,k,m,l,n;if(f.enabled||a._hasPointLabels)a.dlProcessOptions&&a.dlProcessOptions(f),n=a.plotGroup("dataLabelsGroup","data-labels","hidden",f.zIndex||6),!a.hasRendered&&p(f.defer,!0)&&
(n.attr({opacity:0}),T(a,"afterAnimate",function(){a.dataLabelsGroup.show()[d.animation?"animate":"attr"]({opacity:1},{duration:200})})),m=f,y(g,function(d){var g,q=d.dataLabel,u,t,y=d.connector,M=!0;k=d.options&&d.options.dataLabels;g=p(k&&k.enabled,m.enabled);if(q&&!g)d.dataLabel=q.destroy();else if(g){f=c(m,k);g=f.rotation;u=d.getLabelConfig();l=f.format?va(f.format,u):f.formatter.call(u,f);f.style.color=p(f.color,f.style.color,a.color,"black");if(q)if(x(l))q.attr({text:l}),M=!1;else{if(d.dataLabel=
q=q.destroy(),y)d.connector=y.destroy()}else if(x(l)){q={fill:f.backgroundColor,stroke:f.borderColor,"stroke-width":f.borderWidth,r:f.borderRadius||0,rotation:g,padding:f.padding,zIndex:1};for(t in q)q[t]===G&&delete q[t];q=d.dataLabel=a.chart.renderer[g?"text":"label"](l,0,-999,null,null,null,f.useHTML).attr(q).css(b(f.style,e&&{cursor:e})).add(n).shadow(f.shadow)}q&&a.alignDataLabel(d,q,f,null,M)}})};aa.prototype.alignDataLabel=function(a,d,c,e,f){var g=this.chart,k=g.inverted,l=p(a.plotX,-999),
n=p(a.plotY,-999),q=d.getBBox();if(a=this.visible&&(a.series.forceDL||g.isInsidePlot(l,E(n),k)||e&&g.isInsidePlot(l,k?e.x+1:e.y+e.height-1,k)))e=b({x:k?g.plotWidth-n:l,y:E(k?g.plotHeight-l:n),width:0,height:0},e),b(c,{width:q.width,height:q.height}),c.rotation?(k={align:c.align,x:e.x+c.x+e.width/2,y:e.y+c.y+e.height/2},d[f?"attr":"animate"](k)):(d.align(c,null,e),k=d.alignAttr,"justify"===p(c.overflow,"justify")?this.justifyDataLabel(d,c,k,q,e,f):p(c.crop,!0)&&(a=g.isInsidePlot(k.x,k.y)&&g.isInsidePlot(k.x+
q.width,k.y+q.height)));a||(d.attr({y:-999}),d.placed=!1)};aa.prototype.justifyDataLabel=function(a,b,c,e,f,g){var k=this.chart,l=b.align,n=b.verticalAlign,p,q;p=c.x;0>p&&("right"===l?b.align="left":b.x=-p,q=!0);p=c.x+e.width;p>k.plotWidth&&("left"===l?b.align="right":b.x=k.plotWidth-p,q=!0);p=c.y;0>p&&("bottom"===n?b.verticalAlign="top":b.y=-p,q=!0);p=c.y+e.height;p>k.plotHeight&&("top"===n?b.verticalAlign="bottom":b.y=k.plotHeight-p,q=!0);q&&(a.placed=!g,a.align(b,null,f))};V.pie&&(V.pie.prototype.drawDataLabels=
function(){var a=this,b=a.data,c,e=a.chart,f=a.options.dataLabels,g=p(f.connectorPadding,10),k=p(f.connectorWidth,1),l=e.plotWidth,e=e.plotHeight,n,q,u=p(f.softConnector,!0),w=f.distance,t=a.center,v=t[2]/2,x=t[1],z=0<w,A,B,C,G,K=[[],[]],I,N,S,P,O,R=[0,0,0,0],V=function(a,b){return b.y-a.y};if(a.visible&&(f.enabled||a._hasPointLabels)){aa.prototype.drawDataLabels.apply(a);y(b,function(a){a.dataLabel&&a.visible&&K[a.half].push(a)});for(P=0;!G&&b[P];)G=b[P]&&b[P].dataLabel&&(b[P].dataLabel.getBBox().height||
21),P++;for(P=2;P--;){var b=[],W=[],T=K[P],U=T.length,Q;a.sortByAngle(T,P-0.5);if(0<w){for(O=x-v-w;O<=x+v+w;O+=G)b.push(O);B=b.length;if(U>B){c=[].concat(T);c.sort(V);for(O=U;O--;)c[O].rank=O;for(O=U;O--;)T[O].rank>=B&&T.splice(O,1);U=T.length}for(O=0;O<U;O++){c=T[O];C=c.labelPos;c=9999;var ba,X;for(X=0;X<B;X++)ba=Y(b[X]-C[1]),ba<c&&(c=ba,Q=X);if(Q<O&&null!==b[O])Q=O;else for(B<U-O+Q&&null!==b[O]&&(Q=B-U+O);null===b[Q];)Q++;W.push({i:Q,y:b[Q]});b[Q]=null}W.sort(V)}for(O=0;O<U;O++){c=T[O];C=c.labelPos;
A=c.dataLabel;S=!1===c.visible?"hidden":"visible";c=C[1];if(0<w){if(B=W.pop(),Q=B.i,N=B.y,c>N&&null!==b[Q+1]||c<N&&null!==b[Q-1])N=c}else N=c;I=f.justify?t[0]+(P?-1:1)*(v+w):a.getX(0===Q||Q===b.length-1?c:N,P);A._attr={visibility:S,align:C[6]};A._pos={x:I+f.x+({left:g,right:-g}[C[6]]||0),y:N+f.y-10};A.connX=I;A.connY=N;null===this.options.size&&(B=A.width,I-B<g?R[3]=F(E(B-I+g),R[3]):I+B>l-g&&(R[1]=F(E(I+B-l+g),R[1])),0>N-G/2?R[0]=F(E(-N+G/2),R[0]):N+G/2>e&&(R[2]=F(E(N+G/2-e),R[2])))}}if(0===Aa(R)||
this.verifyDataLabelOverflow(R))this.placeDataLabels(),z&&k&&y(this.points,function(b){n=b.connector;C=b.labelPos;(A=b.dataLabel)&&A._pos?(S=A._attr.visibility,I=A.connX,N=A.connY,q=u?["M",I+("left"===C[6]?5:-5),N,"C",I,N,2*C[2]-C[4],2*C[3]-C[5],C[2],C[3],"L",C[4],C[5]]:["M",I+("left"===C[6]?5:-5),N,"L",C[2],C[3],"L",C[4],C[5]],n?(n.animate({d:q}),n.attr("visibility",S)):b.connector=n=a.chart.renderer.path(q).attr({"stroke-width":k,stroke:f.connectorColor||b.color||"#606060",visibility:S}).add(a.dataLabelsGroup)):
n&&(b.connector=n.destroy())})}},V.pie.prototype.placeDataLabels=function(){y(this.points,function(a){a=a.dataLabel;var b;a&&((b=a._pos)?(a.attr(a._attr),a[a.moved?"animate":"attr"](b),a.moved=!0):a&&a.attr({y:-999}))})},V.pie.prototype.alignDataLabel=Ba,V.pie.prototype.verifyDataLabelOverflow=function(a){var b=this.center,c=this.options,e=c.center,f=c=c.minSize||80,g;null!==e[0]?f=F(b[2]-F(a[1],a[3]),c):(f=F(b[2]-a[1]-a[3],c),b[0]+=(a[3]-a[1])/2);null!==e[1]?f=F(S(f,b[2]-F(a[0],a[2])),c):(f=F(S(f,
b[2]-a[0]-a[2]),c),b[1]+=(a[0]-a[2])/2);f<b[2]?(b[2]=f,this.translate(b),y(this.points,function(a){a.dataLabel&&(a.dataLabel._pos=null)}),this.drawDataLabels&&this.drawDataLabels()):g=!0;return g});V.column&&(V.column.prototype.alignDataLabel=function(a,b,e,f,g){var k=this.chart,m=k.inverted,l=a.dlBox||a.shapeArgs,n=a.below||a.plotY>p(this.translatedThreshold,k.plotSizeY),q=p(e.inside,!!this.options.stacking);l&&(f=c(l),m&&(f={x:k.plotWidth-f.y-f.height,y:k.plotHeight-f.x-f.width,width:f.height,height:f.width}),
!q)&&(m?(f.x+=n?0:f.width,f.width=0):(f.y+=n?f.height:0,f.height=0));e.align=p(e.align,!m||q?"center":n?"right":"left");e.verticalAlign=p(e.verticalAlign,m||q?"middle":n?"top":"bottom");aa.prototype.alignDataLabel.call(this,a,b,e,f,g)});ea=da.TrackerMixin={drawTrackerPoint:function(){var a=this,b=a.chart,c=b.pointer,e=a.options.cursor,f=e&&{cursor:e},g=function(c){var e=c.target,f;if(b.hoverSeries!==a)a.onMouseOver();for(;e&&!f;)f=e.point,e=e.parentNode;if(f!==G&&f!==b.hoverPoint)f.onMouseOver(c)};
y(a.points,function(a){a.graphic&&(a.graphic.element.point=a);a.dataLabel&&(a.dataLabel.element.point=a)});a._hasTracking||(y(a.trackerGroups,function(b){if(a[b]&&(a[b].addClass("highcharts-tracker").on("mouseover",g).on("mouseout",function(a){c.onTrackerMouseOut(a)}).css(f),ab))a[b].on("touchstart",g)}),a._hasTracking=!0)},drawTrackerGraph:function(){var a=this,b=a.options,c=b.trackByArea,e=[].concat(c?a.areaPath:a.graphPath),f=e.length,g=a.chart,k=g.pointer,l=g.renderer,n=g.options.tooltip.snap,
p=a.tracker,q=b.cursor,u=q&&{cursor:q},q=a.singlePoints,t,v=function(){if(g.hoverSeries!==a)a.onMouseOver()},x="rgba(192,192,192,"+(pa?1E-4:0.002)+")";if(f&&!c)for(t=f+1;t--;)"M"===e[t]&&e.splice(t+1,0,e[t+1]-n,e[t+2],"L"),(t&&"M"===e[t]||t===f)&&e.splice(t,0,"L",e[t-2]+n,e[t-1]);for(t=0;t<q.length;t++)f=q[t],e.push("M",f.plotX-n,f.plotY,"L",f.plotX+n,f.plotY);p?p.attr({d:e}):(a.tracker=l.path(e).attr({"stroke-linejoin":"round",visibility:a.visible?"visible":"hidden",stroke:x,fill:c?x:ca,"stroke-width":b.lineWidth+
(c?0:2*n),zIndex:2}).add(a.group),y([a.tracker,a.markerGroup],function(a){a.addClass("highcharts-tracker").on("mouseover",v).on("mouseout",function(a){k.onTrackerMouseOut(a)}).css(u);if(ab)a.on("touchstart",v)}))}};V.column&&(ua.prototype.drawTracker=ea.drawTrackerPoint);V.pie&&(V.pie.prototype.drawTracker=ea.drawTrackerPoint);V.scatter&&(za.prototype.drawTracker=ea.drawTrackerPoint);b(nb.prototype,{setItemEvents:function(a,b,c,e,f){var g=this;(c?b:a.legendGroup).on("mouseover",function(){a.setState("hover");
b.css(g.options.itemHoverStyle)}).on("mouseout",function(){b.css(a.visible?e:f);a.setState()}).on("click",function(b){var c=function(){a.setVisible()};b={browserEvent:b};a.firePointEvent?a.firePointEvent("legendItemClick",b,c):P(a,"legendItemClick",b,c)})},createCheckboxForItem:function(a){a.checkbox=R("input",{type:"checkbox",checked:a.selected,defaultChecked:a.selected},this.options.itemCheckboxStyle,this.chart.container);T(a.checkbox,"click",function(b){P(a,"checkboxClick",{checked:b.target.checked},
function(){a.select()})})}});X.legend.itemStyle.cursor="pointer";b(Xa.prototype,{showResetZoom:function(){var a=this,b=X.lang,c=a.options.chart.resetZoomButton,e=c.theme,f=e.states,g="chart"===c.relativeTo?null:"plotBox";this.resetZoomButton=a.renderer.button(b.resetZoom,null,null,function(){a.zoomOut()},e,f&&f.hover).attr({align:c.position.align,title:b.resetZoomTitle}).add().align(c.position,!1,g)},zoomOut:function(){var a=this;P(a,"selection",{resetSelection:!0},function(){a.zoom()})},zoom:function(a){var b,
c=this.pointer,e=!1,g;!a||a.resetSelection?y(this.axes,function(a){b=a.zoom()}):y(a.xAxis.concat(a.yAxis),function(a){var f=a.axis,g=f.isXAxis;if(c[g?"zoomX":"zoomY"]||c[g?"pinchX":"pinchY"])b=f.zoom(a.min,a.max),f.displayBtn&&(e=!0)});g=this.resetZoomButton;e&&!g?this.showResetZoom():!e&&f(g)&&(this.resetZoomButton=g.destroy());b&&this.redraw(p(this.options.chart.animation,a&&a.animation,100>this.pointCount))},pan:function(a,b){var c=this,e=c.hoverPoints,f;e&&y(e,function(a){a.setState()});y("xy"===
b?[1,0]:[1],function(b){var d=a[b?"chartX":"chartY"],e=c[b?"xAxis":"yAxis"][0],g=c[b?"mouseDownX":"mouseDownY"],k=(e.pointRange||0)/2,l=e.getExtremes(),p=e.toValue(g-d,!0)+k,g=e.toValue(g+c[b?"plotWidth":"plotHeight"]-d,!0)-k;e.series.length&&p>S(l.dataMin,l.min)&&g<F(l.dataMax,l.max)&&(e.setExtremes(p,g,!1,!1,{trigger:"pan"}),f=!0);c[b?"mouseDownX":"mouseDownY"]=d});f&&c.redraw(!1);C(c.container,{cursor:"move"})}});b(Ma.prototype,{select:function(a,b){var c=this,e=c.series,f=e.chart;a=p(a,!c.selected);
c.firePointEvent(a?"select":"unselect",{accumulate:b},function(){c.selected=c.options.selected=a;e.options.data[La(c,e.data)]=c.options;c.setState(a&&"select");b||y(f.getSelectedPoints(),function(a){a.selected&&a!==c&&(a.selected=a.options.selected=!1,e.options.data[La(a,e.data)]=a.options,a.setState(""),a.firePointEvent("unselect"))})})},onMouseOver:function(a){var b=this.series,c=b.chart,e=c.tooltip,f=c.hoverPoint;if(f&&f!==this)f.onMouseOut();this.firePointEvent("mouseOver");e&&(!e.shared||b.noSharedTooltip)&&
e.refresh(this,a);this.setState("hover");c.hoverPoint=this},onMouseOut:function(){var a=this.series.chart,b=a.hoverPoints;b&&-1!==La(this,b)||(this.firePointEvent("mouseOut"),this.setState(),a.hoverPoint=null)},importEvents:function(){if(!this.hasImportedEvents){var a=c(this.series.options.point,this.options).events,b;this.events=a;for(b in a)T(this,b,a[b]);this.hasImportedEvents=!0}},setState:function(a,d){var e=this.plotX,f=this.plotY,g=this.series,k=g.options.states,l=qa[g.type].marker&&g.options.marker,
p=l&&!l.enabled,n=l&&l.states[a],q=n&&!1===n.enabled,t=g.stateMarkerGraphic,u=this.marker||{},x=g.chart,v=g.halo,y;a=a||"";y=this.pointAttr[a]||g.pointAttr[a];if(!(a===this.state&&!d||this.selected&&"select"!==a||k[a]&&!1===k[a].enabled||a&&(q||p&&!1===n.enabled)||a&&u.states&&u.states[a]&&!1===u.states[a].enabled)){if(this.graphic)l=l&&this.graphic.symbolName&&y.r,this.graphic.attr(c(y,l?{x:e-l,y:f-l,width:2*l,height:2*l}:{})),t&&t.hide();else{if(a&&n)if(l=n.radius,u=u.symbol||g.symbol,t&&t.currentSymbol!==
u&&(t=t.destroy()),t)t[d?"animate":"attr"]({x:e-l,y:f-l});else u&&(g.stateMarkerGraphic=t=x.renderer.symbol(u,e-l,f-l,2*l,2*l).attr(y).add(g.markerGroup),t.currentSymbol=u);if(t)t[a&&x.isInsidePlot(e,f,x.inverted)?"show":"hide"]()}(e=k[a]&&k[a].halo)&&e.size?(v||(g.halo=v=x.renderer.path().add(g.seriesGroup)),v.attr(b({fill:Ha(this.color||g.color).setOpacity(e.opacity).get()},e.attributes))[d?"animate":"attr"]({d:this.haloPath(e.size)})):v&&v.attr({d:[]});this.state=a}},haloPath:function(a){var b=
this.series,c=b.chart,e=b.getPlotBox(),f=c.inverted;return c.renderer.symbols.circle(e.translateX+(f?b.yAxis.len-this.plotY:this.plotX)-a,e.translateY+(f?b.xAxis.len-this.plotX:this.plotY)-a,2*a,2*a)}});b(aa.prototype,{onMouseOver:function(){var a=this.chart,b=a.hoverSeries;if(b&&b!==this)b.onMouseOut();this.options.events.mouseOver&&P(this,"mouseOver");this.setState("hover");a.hoverSeries=this},onMouseOut:function(){var a=this.options,b=this.chart,c=b.tooltip,e=b.hoverPoint;if(e)e.onMouseOut();this&&
a.events.mouseOut&&P(this,"mouseOut");!c||a.stickyTracking||c.shared&&!this.noSharedTooltip||c.hide();this.setState();b.hoverSeries=null},setState:function(a){var b=this.options,c=this.graph,e=this.graphNeg,f=b.states,b=b.lineWidth;a=a||"";this.state!==a&&(this.state=a,f[a]&&!1===f[a].enabled||(a&&(b=f[a].lineWidth||b+1),c&&!c.dashstyle&&(a={"stroke-width":b},c.attr(a),e&&e.attr(a))))},setVisible:function(a,b){var c=this,e=c.chart,f=c.legendItem,g,k=e.options.chart.ignoreHiddenSeries,l=c.visible;
g=(c.visible=a=c.userOptions.visible=a===G?!l:a)?"show":"hide";y(["group","dataLabelsGroup","markerGroup","tracker"],function(a){if(c[a])c[a][g]()});if(e.hoverSeries===c)c.onMouseOut();f&&e.legend.colorizeItem(c,a);c.isDirty=!0;c.options.stacking&&y(e.series,function(a){a.options.stacking&&a.visible&&(a.isDirty=!0)});y(c.linkedSeries,function(b){b.setVisible(a,!1)});k&&(e.isDirtyBox=!0);!1!==b&&e.redraw();P(c,g)},setTooltipPoints:function(a){var b=[],c,e,f=this.xAxis,g=f&&f.getExtremes(),k=f?f.tooltipLen||
f.len:this.chart.plotSizeX,l,n,p=[];if(!1!==this.options.enableMouseTracking&&!this.singularTooltips){a&&(this.tooltipPoints=null);y(this.segments||this.points,function(a){b=b.concat(a)});f&&f.reversed&&(b=b.reverse());this.orderTooltipPoints&&this.orderTooltipPoints(b);a=b.length;for(n=0;n<a;n++)if(f=b[n],c=f.x,c>=g.min&&c<=g.max)for(l=b[n+1],c=e===G?0:e+1,e=b[n+1]?S(F(0,fa((f.clientX+(l?l.wrappedClientX||l.clientX:k))/2)),k):k;0<=c&&c<=e;)p[c++]=f;this.tooltipPoints=p}},show:function(){this.setVisible(!0)},
hide:function(){this.setVisible(!1)},select:function(a){this.selected=a=a===G?!this.selected:a;this.checkbox&&(this.checkbox.checked=a);P(this,a?"select":"unselect")},drawTracker:ea.drawTrackerGraph});b(da,{Axis:ma,Chart:Xa,Color:Ha,Point:Ma,Tick:U,Renderer:$a,Series:aa,SVGElement:I,SVGRenderer:Ca,arrayMin:Qa,arrayMax:Aa,charts:ha,dateFormat:eb,format:va,pathAnim:ub,getOptions:function(){return X},hasBidiBug:Jb,isTouchDevice:Fb,numberFormat:ka,seriesTypes:V,setOptions:function(a){X=c(!0,X,a);yb();
return X},addEvent:T,removeEvent:ia,createElement:R,discardElement:Ia,css:C,each:y,extend:b,map:Va,merge:c,pick:p,splat:B,extendClass:ba,pInt:e,wrap:z,svg:pa,canvas:ta,vml:!pa&&!ta,product:"Highcharts",version:"4.0.1"})})();(function(b){function c(){return!!this.points.length}function e(){this.hasData()?this.hideNoData():this.showNoData()}var g=b.seriesTypes,f=b.Chart.prototype,k=b.getOptions(),l=b.extend;l(k.lang,{noData:"No data to display"});k.noData={position:{x:0,y:0,align:"center",verticalAlign:"middle"},attr:{},style:{fontWeight:"bold",fontSize:"12px",color:"#60606a"}};g.pie&&(g.pie.prototype.hasData=c);g.gauge&&(g.gauge.prototype.hasData=c);g.waterfall&&(g.waterfall.prototype.hasData=c);b.Series.prototype.hasData=
function(){return void 0!==this.dataMax&&void 0!==this.dataMin};f.showNoData=function(b){var c=this.options;b=b||c.lang.noData;c=c.noData;this.noDataLabel||(this.noDataLabel=this.renderer.label(b,0,0,null,null,null,null,null,"no-data").attr(c.attr).css(c.style).add(),this.noDataLabel.align(l(this.noDataLabel.getBBox(),c.position),!1,"plotBox"))};f.hideNoData=function(){this.noDataLabel&&(this.noDataLabel=this.noDataLabel.destroy())};f.hasData=function(){for(var b=this.series,c=b.length;c--;)if(b[c].hasData()&&
!b[c].options.isInternal)return!0;return!1};f.callbacks.push(function(c){b.addEvent(c,"load",e);b.addEvent(c,"redraw",e)})})(Highcharts);var termRequest,searchRequest;
function querySolr(){$("#status-message").html("Searching...");var b=getQueryParams().q,c=$("#rows").val(),e=$("#sort").val(),g=($("#pagination").pagination("getCurrentPage")-1)*$("#rows").val(),f=getDateFilterQuery();gap=getChartGap();var k=getPluginDateInSolrFormat(),b={q:b,rows:c,fl:"id,st_post,st_posttype,st_tags,st_comments,st_displayname,st_score,st_title",fq:f,qf:"st_post",clustering:!0,"clustering.results":!0,"carrot.title":"st_post",wt:"json",facet:!0,"facet.limit":2E4,"facet.range":"st_creationdate",
"facet.range.start":k.start,"facet.range.end":k.end,"facet.range.gap":gap,hl:!0,sort:e,start:g,defType:"edismax"};searchRequest&&searchRequest.abort();chart.showLoading();searchRequest=$.ajax({url:"http://"+APPDATA.SOLR_HOST+":"+APPDATA.SOLR_PORT+"/solr/collection1/stacksearch",type:"GET",data:b,dataType:"jsonp",jsonp:"json.wrf",success:function(b){populateResults(b)},fail:function(){$("#status-message").html("Unable to fetch query results.")}})}
function getQueryParams(){var b={},c=$("#querybox").val(),c=""==c||"*"==c?"st_post:(*)":"st_post:"+c+" ",e=getFacetQueryString();""!=e&&(c+=" AND "+e);b.q=c;return b}function getFacetQueryString(){var b=[];$.each(getSelectedFacets(),function(c,e){var g=c+':("'+e.join('" OR "')+'")';b.push(g)});return b.join(" AND ")}
function getSelectedFacets(){var b={};$("#filter-bar span").each(function(){var c=$(this).attr("facetname"),e=$(this).attr("value");b.hasOwnProperty(c)?b[c].push(e):b[c]=[e]});return b}
function getAutoComplete(){var b="http://"+APPDATA.SOLR_HOST+":"+APPDATA.SOLR_PORT+"/solr/"+APPDATA.collection.primary+"/terms",c=$("#querybox").val(),c=c.replace(/.*? /,"");console.log("keword= "+c);c={"terms.fl":"st_post","terms.prefix":c,wt:"json"};termRequest&&termRequest.abort();termRequest=$.ajax({url:b,type:"GET",data:c,dataType:"jsonp",jsonp:"json.wrf",success:function(b){b=b.terms.st_post;for(var c=[],f=0;f<b.length;f+=2)c.push([b[f]]);initAutoComplete(c)}})};function paginate(){startSearch({source:"pagination"})};function populateResults(b){console.log(b);var c=b.responseHeader.QTime+" ms",e=b.response.numFound;$("#status-message").html(e+" matches("+c+")");0==e&&(chartOptions.series[0].data=[],chart=new Highcharts.Chart(chartOptions));"pagination"!=APPDATA.searchSource&&initPagination({itemsCount:e});b.hasOwnProperty("facet_counts")&&(showFacets(b.facet_counts.facet_fields),populateChart(b.facet_counts.facet_ranges.st_creationdate));b.hasOwnProperty("clusters")&&showClusters(b.clusters);b.hasOwnProperty("highlighting")&&
b.hasOwnProperty("response")&&showDocs({highlighting:b.highlighting,docs:b.response.docs})}
function showFacets(b){$("#facetvalues").html("");$.each(b,function(b,e){for(var g="",f="<label class='facet-heading' facetname='"+b+"'>"+APPDATA.facets[b].label+" ("+e.length/2+")</label>",k=0;k<e.length;k+=2){var l=e[k],q=e[k+1],t;t=isFacetSeleted(b,l)?" checked='checked' ":"";g+="<li><label value='"+l+"'><input type='checkbox' "+t+">"+l+" ("+q+")</label></li>"}$("#facetvalues").append(f+"<ul facetname='"+b+"'>"+g+"</ul>")});onFacetSelection()}
function isFacetSeleted(b,c){return 0<$("#filter-bar").find("[facetname='"+b+"']").filter("[value='"+c+"']").length?!0:!1}function onFacetSelection(){$("#facetvalues").find(":checkbox").change(function(){var b={parent:$(this).parent().parent().parent().attr("facetname"),value:$(this).parent().attr("value")};$(this).is(":checked")?addNewFacet(b):removeFacet(b)})}
function addNewFacet(b){var c=b.value;b="<span class='filter' value='"+c+"' facetname='"+b.parent+"'>"+c+"<img src='img/close2_16.png' /> |</span>";$("#filter-bar").append(b);APPDATA.searchSource="facetAdded";startSearch();$("#filter-bar").find("span").last().find("img").click(function(){var b=$(this).parent().attr("facetname"),c=$(this).parent().attr("value");$("#facetvalues ul").filter("[facetname='"+b+"']").find("[value='"+c+"']").find(":checkbox").removeAttr("checked");$(this).parent().remove();
APPDATA.searchSource="facetRemovedByIconClick";startSearch()})}function removeFacet(b){var c=b.parent;b=b.value;$("#filter-bar").find("[facetname='"+c+"']").filter("[value='"+b+"']").remove();APPDATA.searchSource="facetRemovedFromCheckbox";startSearch()}
function showClusters(b){$("#clustervalues").html("");$.each(b,function(b,e){var g=e.labels[0],f=e.docs,g='<li title="'+("Click to only show docs belonging to cluster '"+g+"' ")+'" ><b>'+g+"</b> ["+f.length+" docs] ("+e.score.toFixed(2)+")</li>";$("#clustervalues").append(g);$("#clustervalues").find("li").last().bind("click",function(){$("#result-list").find(".result-header").dblclick();$.each(f,function(b,c){console.log(c);$("#result-list").find("."+c).find(".result-header").dblclick()})})})}
function showDocs(b){var c=b.highlighting;b=b.docs;$("#result-list").html("");for(var e=0;e<b.length;e++){var g=b[e].id,f=b[e].st_posttype,k=b[e].st_displayname,l=b[e].st_score;void 0==k&&(k="Commnunity");var q="<div class='result-header'><span class='colname-style1'>Type:</span><span class='value-style1'>"+f+"</span><span class='colname-style1'>Username:</span> <span class='value-style1'>"+k+"</span><span class='colname-style1'>Score:</span> <span class='value-style1'>"+l+"</span></div>",f=c[g].st_post[0];
if(""==$("#querybox").val()||"*"==$("#querybox").val())f=f.replace(/<em>/g,""),f=f.replace(/<\/em>/g,"");q+="<div class='result-content highlight'>"+f+"</div>";f=b[e].st_comments;void 0!=f&&(q+="<div class='comments'>",$.each(f,function(b,c){q+="<li>"+c+"</li>"}),q+="</div>");q="<div class='result'>"+q+"</div>";$("#result-list").append(q);$("#result-list").find(".result").last().addClass(g)}$(".result-header").bind("dblclick",function(){$(this).siblings().slideToggle("fast")})};function initDatePicker(){$("#start-date-div").datetimepicker({format:"Y-m-d H:i"});$("#end-date-div").datetimepicker({format:"Y-m-d H:i"});$("#start-date-div").val(APPDATA.startDate);$("#end-date-div").val(APPDATA.endDate)}function getDateFilterQuery(){var b=getPluginDateInSolrFormat();return"st_creationdate:["+b.start+" TO "+b.end+"]"}
function getPluginDateInSolrFormat(){var b=$("#start-date-div").val(),c=$("#end-date-div").val(),b=b.replace(/ /,"T")+":00Z",c=c.replace(/ /,"T")+":59Z";return{start:b,end:c}}function changeDateInPlugin(b){$("#start-date-div").val(b.startDate);$("#end-date-div").val(b.endDate)};var chart,monthMapper={1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},reverseMonthMapper={Jan:1,Feb:2,Mar:3,Apr:4,May:5,Jun:6,Jul:7,Aug:8,Sep:9,Oct:10,Nov:11,Dec:12},chartOptions={credits:!1,colors:["#43C7BC"],chart:{renderTo:"chartDiv",type:"column"},title:{text:"",style:{color:"#000",fontSize:"14px"}},xAxis:{type:"category",labels:{rotation:-45,align:"right",style:{fontSize:"10px",fontFamily:"Verdana, sans-serif"}}},yAxis:{min:0,title:{text:""}},
legend:{enabled:!1},tooltip:{pointFormat:"<b>{point.y} docs</b>"},dataLabels:{enabled:!0,rotation:-90,color:"#FFFFFF",align:"right",x:4,y:10,style:{fontSize:"11px",fontFamily:"Verdana, sans-serif",textShadow:"0 0 3px black"}},plotOptions:{series:{cursor:"pointer",point:{events:{click:function(){graphOnClick({gap:gap,label:this.name})}}}}},series:[{name:"Results",data:[]}]};function initChart(){chart=new Highcharts.Chart(chartOptions)}
function updateChart(b){chartOptions.series[0].data=b;chart=new Highcharts.Chart(chartOptions)}function getChartGap(){var b=getPluginDates(),c=b.start,b=b.end;return c.year!=b.year?"+1YEAR/YEAR":c.month!=b.month?"+1MONTH/MONTH":c.day!=b.day?"+1DAY/DAY":c.hour!=b.hour?"+1HOUR/HOUR":c.min!=b.min?"+1MINUTE/MINUTE":"1YEAR/YEAR"}var graphData=[],gap;
function populateChart(b){chart.hideLoading();gap=b.gap;b=b.counts;if(0!=b.length){var c=getPluginDates();graphData=[];var e={};if(gap.match(/YEAR/)){for(var g=c.start.year,c=c.end.year;g<=c;)e[g.toString()]=0,g++;for(c=0;c<b.length;c+=2){var f=b[c],g=f.replace(/\-.*/,""),f=b[c+1];e[g.toString()]=f}chartOptions.title.text=""}else if(gap.match(/MONTH/)){g=c.start.year;for(c=1;12>=c;c++)e[g+"-"+monthMapper[c]]=0;for(c=0;c<b.length;c+=2){f=b[c];getComponentsFromSolrDate(f);var k=monthMapper[+getComponentsFromSolrDate(f).month],
f=b[c+1];e[g+"-"+k]=f}chartOptions.title.text=""}else if(gap.match(/DAY/)){g=c.start.year;k=c.start.month;for(c=1;c<=daysInMonth(g,+k);c++)e[g+"-"+monthMapper[+k]+"-"+pad(c)]=0;for(c=0;c<b.length;c+=2){f=b[c];getComponentsFromSolrDate(f);var k=monthMapper[+getComponentsFromSolrDate(f).month],l=getComponentsFromSolrDate(f).day,f=b[c+1];e[g+"-"+k+"-"+l]=f}chartOptions.title.text=""}else if(gap.match(/HOUR/)){g=c.start.year;k=c.start.month;l=c.start.day;for(c=0;23>=c;c++)e[pad(c)+":00"]=0;for(c=0;c<
b.length;c+=2){var f=b[c],q=getComponentsFromSolrDate(f).hour,f=b[c+1];e[pad(+q)+":00"]=f}chartOptions.title.text="Hourly view of "+g+"-"+monthMapper[+k]+"-"+pad(l)}else if(gap.match(/MINUTE/)){g=c.start.year;k=c.start.month;l=c.start.day;q=c.start.hour;for(c=0;59>=c;c++)e[q+":"+pad(c)]=0;for(c=0;c<b.length;c+=2){var f=b[c],t=getComponentsFromSolrDate(f).min,f=b[c+1];e[q+":"+pad(+t)]=f}chartOptions.title.text="Minutes view of "+g+"-"+monthMapper[+k]+"-"+pad(l)+" - "+q+":00 hour"}graphData=hashToArray(e);
updateChart(graphData)}}function getComponentsFromSolrDate(b){b=b.match(/(\d+)\-(\d+)-(\d+)T(\d+):(\d+):(\d+)Z/);return{year:b[1],month:b[2],day:b[3],hour:b[4],min:b[5],sec:b[6]}}function hashToArray(b){var c=[];$.each(b,function(b,g){c.push([b,+g])});return c}
function getPluginDates(){var b={},c=$("#start-date-div").val(),e=$("#end-date-div").val(),g=c.match(/(\d+)\-(\d+)-(\d+) (\d+):(\d+)/);b.start={year:g[1],month:g[2],day:g[3],hour:g[4],min:g[5],sec:"00",fullDate:c,solrDate:c.replace(/\s/,"T")+":00Z"};g=e.match(/(\d+)\-(\d+)-(\d+) (\d+):(\d+)/);b.end={year:g[1],month:g[2],day:g[3],hour:g[4],min:g[5],sec:"59",fullDate:e,solrDate:e.replace(/\s/,"T")+":59Z"};return b}
function graphOnClick(b){$("#clearTime").show();var c=b.label,e;if(gap.match(/YEAR/))b=c+"-01-01 00:00",e=c+"-12-31 23:23";else if(gap.match(/MONTH/)){e=c.replace(/\-.*/,"");var g=pad(reverseMonthMapper[c.replace(/.*\-/,"")]);b=e+"-"+g+"-01 00:00";e=e+"-"+g+"-31 23:59"}else if(gap.match(/DAY/))e=c.match(/(\d+)\-(\w+)\-(\d+)/)[1],g=pad(reverseMonthMapper[c.match(/(\d+)\-(\w+)\-(\d+)/)[2]]),c=c.match(/(\d+)\-(\w+)\-(\d+)/)[3],b=e+"-"+g+"-"+c+" 00:00",e=e+"-"+g+"-"+c+" 23:59";else if(gap.match(/HOUR/)){var f=
c.replace(/:.*/,""),c=chartOptions.title.text.replace("Hourly view of ");e=c.match(/(\d+)\-(\w+)\-(\d+)/)[1];g=pad(reverseMonthMapper[c.match(/(\d+)\-(\w+)\-(\d+)/)[2]]);c=c.match(/(\d+)\-(\w+)\-(\d+)/)[3];b=e+"-"+g+"-"+c+" "+f+":00";e=e+"-"+g+"-"+c+" "+f+":59"}else{$("#error-notification").html("<b>[Invalid Operation]:</b> You cannot drilldown any further. You are already vieweing chart in deepest MINUTE view.");$("#error-notification").miniNotification();return}changeDateInPlugin({startDate:b,endDate:e});
startSearch()}function pad(b){b=+b;return 10<=b?b.toString():"0"+b.toString()}function daysInMonth(b,c){return(new Date(b,c,0)).getDate()};$(document).ready(function(){initChart();onLoadBindings();initDatePicker();initAutoComplete();initPagination({itemsCount:0});startSearch()});
function onLoadBindings(){$(".searchicon").click(function(){APPDATA.searchSource="searchiconclick";startSearch()});$("#rows").change(function(){APPDATA.searchSource="rowsChange";startSearch()});$("#sort").change(function(){APPDATA.searchSource="sortChange";startSearch()});$("#clearTime").click(function(){$("#start-date-div").val(APPDATA.startDate);$("#end-date-div").val(APPDATA.endDate);$("#clearTime").hide();startSearch()});$("#querybox").bind("keyup",function(b){13==b.keyCode&&(APPDATA.searchSource=
"queryboxKeyup",startSearch());48<=b.keyCode&&90>=b.keyCode&&getAutoComplete()});$("#clusters").find(".clusterheading").bind("dblclick",function(){$("#clustervalues").slideToggle("fast")})}function initAutoComplete(b){void 0==b&&(b=[]);$("#querybox").autocomplete({data:b,mustMatch:!1,maxItemsToShow:20,selectFirst:!1,autoFill:!1,selectOnly:!0,minChars:1})}
function initPagination(b){void 0==b.pageNumber&&(b.pageNumber=1);$("#pagination").pagination({items:b.itemsCount,itemsOnPage:$("#rows").val(),currentPage:b.pageNumber,cssStyle:"light-theme"})}function startSearch(b){querySolr()};$(function(){$.miniNotification=function(b,c){var e,g,f,k,l,q,t=this;this.defaults={position:"top",show:!0,effect:"slide",opacity:0.95,time:9E3,showSpeed:300,hideSpeed:300,showEasing:"",hideEasing:"",innerDivClass:"inner",closeButton:!1,closeButtonText:"<img src='img/close2_16.png'>",closeButtonClass:"close",hideOnClick:!0,onLoad:function(){},onVisible:function(){},onHide:function(){},onHidden:function(){}};l="";this.settings={};this.$element=$(b);k=function(b){return l=b};g=function(){var b,c;c=
"slide"===t.getSetting("effect")?0-t.$element.outerHeight():0;b={};"bottom"===t.getSetting("position")?b.bottom=c:b.top=c;"fade"===t.getSetting("effect")&&(b.opacity=0);return b};f=function(){var b;b={opacity:t.getSetting("opacity")};"bottom"===t.getSetting("position")?b.bottom=0:b.top=0;return b};q=function(){t.$elementInner=$("<div />",{"class":t.getSetting("innerDivClass")});return t.$element.wrapInner(t.$elementInner)};e=function(){var b;b=$("<a />",{"class":t.getSetting("closeButtonClass"),html:t.getSetting("closeButtonText")});
t.$element.children().append(b);return b.bind("click",function(){return t.hide()})};this.getState=function(){return l};this.getSetting=function(b){return this.settings[b]};this.callSettingFunction=function(c){return this.settings[c](b)};this.init=function(){var b=this;k("hidden");this.settings=$.extend({},this.defaults,c);if(this.$element.length&&(q(),this.getSetting("closeButton")&&e(),this.$element.css(g()).css({display:"inline"}),this.getSetting("show")&&this.show(),this.getSetting("hideOnClick")))return this.$element.bind("click",
function(){if("hiding"!==b.getState())return b.hide()})};this.show=function(){var b=this;if("showing"!==this.getState()&&"visible"!==this.getState())return k("showing"),this.callSettingFunction("onLoad"),this.$element.animate(f(),this.getSetting("showSpeed"),this.getSetting("showEasing"),function(){k("visible");b.callSettingFunction("onVisible");return setTimeout(function(){return b.hide()},b.settings.time)})};this.hide=function(){var b=this;if("hiding"!==this.getState()&&"hidden"!==this.getState())return k("hiding"),
this.callSettingFunction("onHide"),this.$element.animate(g(),this.getSetting("hideSpeed"),this.getSetting("hideEasing"),function(){k("hidden");return b.callSettingFunction("onHidden")})};this.init();return this};return $.fn.miniNotification=function(b){return this.each(function(){var c;c=$(this).data("miniNotification");return void 0===c?(c=new $.miniNotification(this,b),$(this).data("miniNotification",c)):c.show()})}});var APPDATA={collection:{primary:"collection1"},facets:{st_site:{label:"SITE"},st_tags:{label:"TAGS"},st_posttype:{label:"POST TYPE"},st_displayname:{label:"USERNAME"}},SOLR_HOST:"localhost",SOLR_PORT:"8983",showClusters:0,showComments:0,startDate:(new Date((new Date).setFullYear((new Date).getFullYear()-6))).format("yyyy-MM-dd hh:mm"),endDate:(new Date).format("yyyy-MM-dd hh:mm")};
